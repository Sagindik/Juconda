(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{658:function(t,e,r){t.exports={}},661:function(t,e,r){"use strict";var c=r(0),n=r(21),o=r(3),l=(r(41),r(25)),d=r(294),v=r(37),f=(r(43),r(54),r(26),r(65),function(t){var e=t.includes(".")?"pinia":"vuex",r="pinia"===e?t.split("."):t.split("/"),c=Object(v.a)(r,2);return{type:e,module:c[0],action:c[1]}}),m=r(22),_=r(102);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return{}},v=e,O=Object(c.ref)(!1),h=Object(c.ref)(null),j=Object(c.computed)((function(){return!O.value&&!h.value})),y=Object(n.d)(t,function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(c){var n,o,j,y,C,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.value=!0,n=c.$pinia,o=f(t),j=o.module,y=o.action,C=d.a[j](n),e.next=7,C[y](v);case 7:return w=e.sent,h.value=null,e.abrupt("return",w);case 12:return e.prev=12,e.t0=e.catch(0),Object(m.b)("useDispatch::".concat(t),e.t0.message),h.value=e.t0,c.error(Object(_.c)(e.t0)),e.abrupt("return",null);case 18:return e.prev=18,O.value=!1,Object(l.isFunction)(r)&&r(),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,12,18,22]])})));return function(t){return e.apply(this,arguments)}}()),data=y.data,C=y.refresh,w=function(p){return v=p,C()};return{data:data,pending:O,refresh:w,error:h,success:j}}},662:function(t,e,r){"use strict";var c=r(0),n=r(31),o=(r(20),r(291)),l={};l.props={breadcrumbs:Array,image:Object,title:{type:String,default:""},prefix:{type:String,default:"page"}},l.setup=function(t,e){var r=t;return{breadcrumbsWithHome:Object(c.computed)((function(){return[o.ROUTE_HOME].concat(Object(n.a)(r.breadcrumbs))})),titleTestId:Object(c.computed)((function(){return"".concat(r.prefix,"-title")}))}};var d=l,v=(r(666),r(2)),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-page-header"},[r("div",{staticClass:"m-page-header__inner m-container-main-mobile"},[r("div",{staticClass:"m-page-header__wrapper"},[r("div",{staticClass:"m-page-header__breadcrumbs"},[r("m-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbsWithHome}})],1),t._v(" "),r("div",{staticClass:"m-page-header__container"},[t._t("timer"),t._v(" "),r("div",{staticClass:"m-page-header__description"},[r("h1",{staticClass:"m-page-header__title text--h1",attrs:{"data-test-id":t.titleTestId},domProps:{textContent:t._s(t.title)}}),t._v(" "),t._t("description")],2)],2)])])])}),[],!1,null,null,null);e.a=component.exports},666:function(t,e,r){"use strict";r(658)},689:function(t,e,r){t.exports={}},709:function(t,e,r){"use strict";var c=r(161);r.d(e,"a",(function(){return c.a}))},716:function(t,e,r){"use strict";r(689)},734:function(t,e,r){"use strict";var c=r(0),n=r(92),o=r(31),l=(r(53),r(43),r(54),r(5),r(185),r(35),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(201),r(36),r(20),r(33),r(10),{});l.props={product:Object,initialSlide:Number,size:Number},l.setup=function(t,e){var r=t,l=e.emit,d=Object(c.ref)(null),v=Object(c.computed)((function(){if(!r.product)return[];var t=r.product,e=Object(o.a)(t.gallery||[]);return e.includes(t.picture)&&(e=Object(o.a)(new Set([t.picture].concat(Object(o.a)(e))))),e.filter(Boolean).map((function(t){return{src:t,id:t}}))||[]})),f=Object(c.computed)((function(){return r.size||420})),m=Object(c.computed)((function(){return"".concat(f.value,"x").concat(f.value)})),_=Object(c.computed)((function(){return{"max-width":"".concat(f.value,"px")}})),O=Object(c.computed)((function(){return{slidesPerView:5,initialSlide:r.initialSlide,loop:!1,pagination:{},mousewheel:!0,watchSlidesProgress:!0,enabled:!0,breakpoints:{769:{slidesPerView:6}},on:{init:function(t){return d.value=t}}}})),h=Object(c.computed)((function(){return d.value?{loop:!1,enabled:!0,initialSlide:r.initialSlide,spaceBetween:100,thumbs:{swiper:d.value}}:null})),j=Object(n.a)(!0);return{gallery:v,mainGallerySize:m,galleryStyle:_,thumbsOptions:O,galleryOptions:h,loading:j.value,toggleLoading:j.toggle,handleSlideClick:function(t){var e=t.realIndex;return l("slide-click",e)}}};var d=l,v=(r(716),r(2)),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"product-gallery-swiper",class:{loading:t.loading}},[r("div",{staticClass:"product-gallery-swiper__gallery",style:t.galleryStyle},[t.galleryOptions?r("SwiperAbstraction",{attrs:{list:t.gallery,options:t.galleryOptions},on:{init:t.toggleLoading,click:t.handleSlideClick},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.item;return[r("m-image",{staticClass:"product-gallery-swiper__gallery-image",attrs:{src:c.src,size:t.mainGallerySize,"data-test-id":"product-full-image"}})]}}],null,!1,13277712)}):t._e()],1),t._v(" "),r("div",{staticClass:"product-gallery-swiper__thumbs"},[r("client-only",[r("SwiperAbstraction",{attrs:{list:t.gallery,options:t.thumbsOptions,"data-test-id":"preview-section"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.item;return[r("m-image",{staticClass:"product-gallery-swiper__thumb-image",attrs:{src:e.src,size:"60x60","data-test-id":"preview-item"}})]}}])})],1)],1)])}),[],!1,null,null,null);e.a=component.exports},755:function(t,e,r){t.exports={}},756:function(t,e,r){t.exports={}},757:function(t,e,r){t.exports={}},854:function(t,e,r){"use strict";r(755)},855:function(t,e,r){"use strict";r(756)},856:function(t,e,r){"use strict";r(757)},945:function(t,e,r){"use strict";r.r(e);var c=r(21),n=r(661),o=r(93),l=r(0),meta=r(709),d=r(31),v=(r(53),r(20),r(662)),f=r(80),m=r(293),_=(r(12),r(13),r(10),r(5),r(14),r(9),r(15),r(3)),O=r(4),h=(r(41),r(295)),j=r(734),y=(r(182),r(391));function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(O.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={};P.props={nutritionalValue:{type:Array,default:function(){return[]}}},P.setup=function(t,e){var r=t;return{nutritionalValues:Object(l.computed)((function(){for(var t=[],i=0,e=r.nutritionalValue.length;i<e;i+=1){var c=r.nutritionalValue[i],n=[Object(y.a)(c),Object(y.b)(c)],o=n[0],l=n[1];t.push(w(w({},c),{},{name:o,sort:l}))}return t.sort((function(a,b){return a.sort-b.sort}))}))}};var S=P,k=(r(854),r(2)),x=Object(k.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.nutritionalValue.length?r("div",{staticClass:"nutritional-values"},[r("span",{staticClass:"nutritional-values__tittle"},[t._v("Пищевая ценность на 100 г")]),t._v(" "),r("div",{staticClass:"nutritional-values__list"},t._l(t.nutritionalValues,(function(e){return r("div",{key:e.propertyCode,staticClass:"nutritional-values__elem"},[r("span",{staticClass:"nutritional-values__value"},[t._v(t._s(e.value))]),t._v(" "),r("span",{staticClass:"nutritional-values__name"},[t._v(t._s(e.name))])])})),0)]):t._e()}),[],!1,null,null,null).exports,E={};E.props={title:{type:String,required:!0},characteristics:{type:Array,default:function(){return[]}}},E.setup=function(t,e){var r=t;return{displayCharacteristics:Object(l.computed)((function(){return r.characteristics.filter((function(s){return!!s.value}))}))}};var A=E,L=(r(855),Object(k.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-characteristics isContent",attrs:{"data-test-id":"specifications-section"}},[r("h2",{staticClass:"product-characteristics__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),t._l(t.displayCharacteristics,(function(e){return r("div",{key:e.propertyCode,staticClass:"product-characteristics__elem"},[r("span",{staticClass:"product-characteristics__name"},[t._v(t._s(e.name)+":")]),t._v(" "),r("span",{staticClass:"product-characteristics__value",attrs:{"data-test-id":e.propertyCode},domProps:{innerHTML:t._s(e.value)}})])}))],2)}),[],!1,null,null,null).exports),D=r(51),V=r(61);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(O.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T={};T.props={product:Object},T.setup=function(t,e){var r=t,n=Object(f.a)().isMobile,o=Object(c.h)(),d=Object(m.a)(Object(l.toRef)(r,"product")),v=d.productArticle,O=d.productNutritionalValue,h=d.productCharacteristics,j=d.productDescription,y=d.productOffer,C=d.productQuantity,w=d.productPrice,P=d.productPriceOld,S=d.productGrammar,k=d.productLabels,x=d.productBasketQuantity,E=d.productAvailable,A=d.productShowCounter,L=d.productNotAvailableLabel,M=d.productGrammarStep,T=d.productAddToBasket,G=d.productSetCount,B=d.showProductError,I=d.productErrorMessage,H=d.productLoading,$=Object(l.computed)((function(){var t;return null===(t=o.query)||void 0===t?void 0:t.full_screen}));return Object(l.watch)($,function(){var t=Object(_.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("true"!==String(e)){t.next=6;break}return t.next=3,Object(D.u)({product:r.product,initialSlide:+o.query.slide||0});case 3:Object(V.c)({query:N(N({},o.query),{},{full_screen:void 0,slide:void 0})}),t.next=7;break;case 6:Object(D.b)();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{immediate:!0}),{productArticle:v,productNutritionalValue:O,productCharacteristics:h,productDescription:j,productOffer:y,productQuantity:C,productPrice:w,productPriceOld:P,productGrammar:S,productLabels:k,productBasketQuantity:x,productAvailable:E,productShowCounter:A,productNotAvailableLabel:L,productGrammarStep:M,productAddToBasket:T,productSetCount:G,showProductError:B,productErrorMessage:I,productLoading:H,handleSlideClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.value||$.value||Object(V.c)({query:N(N({},o.query),{},{full_screen:!0,slide:t})})}}},T.components=Object.assign({ProductGallerySwiper:j.a,NutritionalValue:x,MCounter:h.a,ProductCharacteristics:L},T.components);var G=T,B=(r(856),Object(k.a)(G,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-container-main-mobile product-detail"},[r("section",{staticClass:"product-detail__info"},[t.productLabels?r("div",{staticClass:"product-detail-badges"},t._l(t.productLabels,(function(t){return r("m-badge",{key:t.title,staticClass:"product-detail-badges__elem",attrs:{label:t.title,red:""}})})),1):t._e(),t._v(" "),r("ProductGallerySwiper",{attrs:{product:t.product},on:{"slide-click":t.handleSlideClick}}),t._v(" "),r("div",{staticClass:"product-info"},[r("div",{staticClass:"characteristics-row"},[r("div",{staticClass:"product-characteristics"},[t.productArticle?r("div",{staticClass:"product-characteristics__elem"},[r("span",{staticClass:"product-characteristics__name"},[t._v("Артикул:")]),t._v(" "),r("span",{staticClass:"product-characteristics__value",attrs:{"data-test-id":"product-article"}},[t._v(t._s(t.productArticle))])]):t._e()]),t._v(" "),r("NutritionalValue",{staticClass:"nutritional-value",attrs:{"nutritional-value":t.productNutritionalValue}})],1),t._v(" "),t.productOffer?r("div",{staticClass:"product-detail-price"},[t.productAvailable?r("m-price",{attrs:{"show-discount":!1,grammar:t.productGrammar,price:t.productPrice,"old-price":t.productPriceOld,"data-test-id":"product-price","transform-price":"",large:""}}):t._e(),t._v(" "),t.productShowCounter?r("MCounter",{staticClass:"product-detail__counter",attrs:{count:t.productBasketQuantity,step:t.productGrammarStep,remainder:t.productQuantity,loading:t.productLoading,black:"",large:""},on:{"set-count":t.productSetCount}}):t.productAvailable?r("div",[r("m-button",{attrs:{label:"Добавить в корзину",outline:t.productLoading,black:!t.productLoading,loading:t.productLoading,"data-test-id":"product-buy-btn","loading-type":"dots",large:""},on:{click:t.productAddToBasket}})],1):r("div",{staticClass:"product-detail-price__info"},[t._v("\n          "+t._s(t.productNotAvailableLabel)+"\n        ")]),t._v(" "),r("m-tooltip",{staticClass:"product-detail-price-error",attrs:{trigger:"custom","life-time":2500,message:t.productErrorMessage,"error-position":{bottom:!0}},model:{value:t.showProductError,callback:function(e){t.showProductError=e},expression:"showProductError"}})],1):t._e()])],1),t._v(" "),r("section",{staticClass:"product-detail__content"},[t.productDescription?r("div",{staticClass:"product-detail__about",attrs:{"data-test-id":"description-section"}},[r("h3",{staticClass:"product-detail-subtitle"},[t._v("\n        Описание\n      ")]),t._v(" "),r("div",{staticClass:"product-detail-text",domProps:{innerHTML:t._s(t.productDescription)}})]):t._e(),t._v(" "),r("div",{staticClass:"product-detail__characteristics"},t._l(t.productCharacteristics,(function(t){return r("ProductCharacteristics",{key:t.code,attrs:{title:t.name,characteristics:t.values}})})),1)])])}),[],!1,null,null,null).exports),I=r(179),H={setup:function(t,e){var r=Object(c.h)(),v=Object(n.a)("useCatalog.fetchProduct",r.params.productId),data=v.data,f=v.pending,m=v.refresh,_=Object(n.a)("useCatalog.fetchProductSeo",r.params.productId),O=_.data,h=_.pending,j=_.refresh,y=Object(o.a)().allCategories,C=Object(l.computed)((function(){return f.value||h.value})),w=Object(l.computed)((function(){var t;return null===(t=data.value)||void 0===t?void 0:t.data.product})),P=Object(l.computed)((function(){var t;return null===(t=O.value)||void 0===t?void 0:t.data.seo})),S=Object(l.computed)((function(){var t;return null===(t=O.value)||void 0===t?void 0:t.data.seo.title})),k=Object(l.computed)((function(){var t,e,c,n,o=Number((null===(t=r.query)||void 0===t?void 0:t.fromCat)||(null===(e=w.value)||void 0===e||null===(c=e.category)||void 0===c?void 0:c.id));return[].concat(Object(d.a)(o?Object(I.a)(y.value,o):[]),[{id:null===(n=w.value)||void 0===n?void 0:n.id,label:S.value,to:""}])}));return Object(l.onBeforeMount)((function(){var t;(null===(t=w.value)||void 0===t?void 0:t.code)!==r.params.productId&&(m(r.params.productId),j(r.params.productId))})),Object(l.watch)(P,(function(){var t,e;Object(meta.a)({title:null===(t=P.value)||void 0===t?void 0:t.metaTitle,meta:[{hid:"description",name:"description",content:null===(e=P.value)||void 0===e?void 0:e.metaDescription}]})}),{immediate:!0}),{loading:C,product:w,pageTitle:S,breadcrumbs:k}}};H.components=Object.assign({MPageHeader:v.a,ProductCardDetail:B},H.components);var $=H,z=Object(k.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-page full-width"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?r("Loader",{key:"loader"}):r("div",{staticClass:"product-page__inner"},[r("MPageHeader",{attrs:{breadcrumbs:t.breadcrumbs,title:t.pageTitle}}),t._v(" "),r("ProductCardDetail",{attrs:{product:t.product}})],1)],1)],1)}),[],!1,null,null,null);e.default=z.exports}}]);