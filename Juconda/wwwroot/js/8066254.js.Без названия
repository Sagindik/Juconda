(window.webpackJsonp=window.webpackJsonp||[]).push([[24],[,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"A",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"z",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"o",(function(){return j})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return k})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return P})),n.d(t,"v",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"d",(function(){return R})),n.d(t,"y",(function(){return D})),n.d(t,"x",(function(){return T})),n.d(t,"w",(function(){return I})),n.d(t,"a",(function(){return B})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return M}));var r="home",o="error-pages",c="static",l="actions",d="action",f="catalog",v="catalog-category",m="search",h="product",O="brands",y="brand",j="profile",_="profile-orders",k="profile-orders-detail",x="profile-orders-replacement",w="profile-personal",C="profile-address",P="profile-cards",S="profile-support",E="locations",R="basket",D="restore-password",T="promotion",I="promo",B="/express/".concat(R,"#checkout"),A="order-payment",M="order-payment-success"},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"K",(function(){return v})),n.d(t,"B",(function(){return m})),n.d(t,"A",(function(){return h})),n.d(t,"z",(function(){return O})),n.d(t,"M",(function(){return y})),n.d(t,"i",(function(){return j})),n.d(t,"N",(function(){return _})),n.d(t,"L",(function(){return k})),n.d(t,"H",(function(){return x})),n.d(t,"I",(function(){return w})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return S})),n.d(t,"J",(function(){return E})),n.d(t,"l",(function(){return R})),n.d(t,"k",(function(){return D})),n.d(t,"j",(function(){return T})),n.d(t,"C",(function(){return I})),n.d(t,"m",(function(){return B})),n.d(t,"s",(function(){return A})),n.d(t,"g",(function(){return M})),n.d(t,"D",(function(){return N})),n.d(t,"t",(function(){return $})),n.d(t,"r",(function(){return L})),n.d(t,"p",(function(){return U})),n.d(t,"y",(function(){return F})),n.d(t,"u",(function(){return z})),n.d(t,"q",(function(){return V})),n.d(t,"w",(function(){return H})),n.d(t,"v",(function(){return G})),n.d(t,"x",(function(){return K})),n.d(t,"o",(function(){return W})),n.d(t,"n",(function(){return J})),n.d(t,"h",(function(){return X}));var r="auth-phone",o="auth-code",c="auth-register",l="auth-reset",d="phone-error",f="code-error",v=4,m="too many otp requests",h="otp send interval not passed",O="invalid otp code",y="Что-то пошло не так",j="Попробуйте обновить страницу или зайти в этот раздел позже",_="incorrect phone number",k="incorrect email",x="Промокод не найден",w="Промокод уже был использован",C="Количество применений промокода исчерпано",P="Промокод не активен",S="Ошибка ввода промокода",E="Условия промокода не выполнены",R="Слишком много попыток. Пожалуйста, повторите попытку позже.",D="Неверный код",T="Кажется, мы уже отправили вам код на этот номер, проверьте смс-сообщения",I="MModalProduct",B="MModalAuth",A="MModalNotification",M="MModalConfirm",N="MModalPhoneVerification",$="MModalOrderAlert",L="MModalIFrame",U="MModalDeliveryAddress",F="MModalUserAddressManager",z="MModalCheckout",V="MModalDevelopmentHelper",H="MModalPaymentSelect",G="MModalPaymentError",K="MModalPromo",W="MModalDeleteUnavailable",J="MModalAuthError",X=(n(296),n(128),n(23),"230026")},,,,function(e,t,n){"use strict";n.d(t,"x",(function(){return k})),n.d(t,"o",(function(){return x})),n.d(t,"r",(function(){return w})),n.d(t,"m",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"z",(function(){return E})),n.d(t,"y",(function(){return R})),n.d(t,"v",(function(){return D})),n.d(t,"A",(function(){return T})),n.d(t,"w",(function(){return I})),n.d(t,"l",(function(){return B})),n.d(t,"b",(function(){return A})),n.d(t,"k",(function(){return M})),n.d(t,"p",(function(){return N})),n.d(t,"q",(function(){return $})),n.d(t,"u",(function(){return L})),n.d(t,"s",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"f",(function(){return z})),n.d(t,"d",(function(){return V})),n.d(t,"c",(function(){return H})),n.d(t,"e",(function(){return G})),n.d(t,"j",(function(){return K})),n.d(t,"n",(function(){return W})),n.d(t,"t",(function(){return J})),n.d(t,"h",(function(){return X})),n.d(t,"a",(function(){return Q}));n(337);var r=n(294),o=(n(67),n(12),n(13),n(10),n(14),n(9),n(15),n(4)),c=n(18),l=n(17),d=n(39),f=n(40),v=n(16),m=(n(5),n(26),n(65),n(145),n(53),function(){function e(t){Object(c.a)(this,e),this.envConfig=null,this.runtimeConfig=null,t.config&&(this.runtimeConfig=t.config),t.env&&(this.envConfig=t.env)}return Object(l.a)(e,[{key:"getConfig",value:function(){return this.envConfig}},{key:"getObjectValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{for(var r=n,o=t.split(".").reverse();o.length;){var c=o.pop();if(!c)return r;r=e[c]}return r}catch(e){return null!=n?n:""}}},{key:"getValue",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=null!==(n=this.envConfig)&&void 0!==n?n:{},l=this.getObjectValue(c,e);if(l)return l;var d=null!==(r=this.runtimeConfig)&&void 0!==r?r:{},f=this.getObjectValue(d,t);return f||o}},{key:"getNumericValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getValue(e,t);if(r){var o=+r;return Number.isNaN(o)?n:o}return n}},{key:"getBooleanValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getValue(e,t);return r?"true"===String(r):n}},{key:"getJsonValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var r=this.getValue(e,t);return r?JSON.parse(r):n}catch(e){return n}}}]),e}());function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var j=function(e){Object(d.a)(n,e);var t=y(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"getRequestSettings",value:function(){return{platform:this.getValue("FEATURES_X_DEVICE_PLATFORM","requestSettings.platform","Web"),version:this.getValue("FEATURES_X_APP_VERSION","requestSettings.version","1"),defaultShopId:this.getValue("DIVISION","requestSettings.defaultShopId","230026"),service:this.getValue("SERVICE","requestSettings.service","express"),aud:this.getValue("AUD","requestSettings.aud","delivery-web")}}},{key:"getAppNameSpace",value:function(){return{features:this.getValue("FEATURES_TOGGLE_NAMESPACE","appNamespaces.features","ecom"),experiments:this.getValue("EXPERIMENTS_NAMESPACE","appNamespaces.experiments","ecom_web")}}},{key:"getYandexMap",value:function(){return{center:this.getJsonValue("MAP_CENTER","yandexMap.center",[45.042626,38.98717]),apiKey:this.getValue("MAP_YANDEX_KEY","yandexMap.apiKey","2ac35121-db55-42a4-b972-7c943116b8e0")}}},{key:"getInfo",value:function(){return{title:this.getValue("MAIN_TITLE","info.title","Магнит-Продукты"),description:this.getValue("MAIN_DESCRIPTION","info.description","Продукты"),tel:this.getValue("MAIN_TEL","info.tel","8 800 707-68-88"),notificationsTimer:this.getNumericValue("STATUS_NOTIFICATIONS_TIMER","info.notificationsTimer",6e4),toastServiceTimer:this.getNumericValue("SERVICE_TOAST_DURATION","info.toastServiceTimer",5e3),toastInfoTimer:this.getNumericValue("INFO_TOAST_DURATION","info.toastInfoTimer",3e3)}}},{key:"getStatistics",value:function(){return{mindboxEndpoint:this.getValue("MINDBOX_ENDPOINT","statistics.mindboxEndpoint","magnit-web-delivery"),eventDebounce:this.getNumericValue("STATISTICS_DOUBLE_EVENT_TIME","statistics.eventDebounce",2e3),gtmEnabled:this.getBooleanValue("STATISTICS_GTM_ENABLED","statistics.gtmEnabled",!0),yandexEnabled:this.getBooleanValue("STATISTICS_YANDEX_METRIKA_ENABLED","statistics.yandexEnabled",!0),yandexId:this.getValue("STATISTICS_YANDEX_METRIKA_ID","statistics.yandexId","88206220"),yandexDebug:this.getBooleanValue("STATISTICS_YANDEX_METRIKA_DEBUG","statistics.yandexDebug")}}},{key:"getCache",value:function(){return{enabled:this.getBooleanValue("CACHE_SETTINGS","cache.enabled",!0),ttd:this.getNumericValue("CACHE_SETTINGS_TTD","cache.ttd",18e5)}}},{key:"getToggles",value:function(){return{features:this.getBooleanValue("FEATURES_TOGGLE_ENABLED","toggles.features",!0),experiments:this.getBooleanValue("EXPERIMENTS_TOGGLE_ENABLED","toggles.experiments",!0)}}},{key:"getMock",value:function(){return{enabled:this.getBooleanValue("MOCK_API","mock.enabled",!1),write:this.getBooleanValue("MOCK_API_WRITE","mock.write",!0),address:this.getValue("MOCK_API_ADDRESS","mock.address","http://localhost:3002")}}},{key:"getMain",value:function(){var e=this.getValue("DEBUG_MODE","debug","false"),t="false"===e?"production":"development";return{mode:t,debug:e,isProduction:"production"===t,baseURL:this.getValue("BASE_URL","baseURL","http://dostavka.magnit.ru/"),authURL:this.getValue("AUTH_URL","authURL","https://id.magnit.ru/"),recaptcha:this.getBooleanValue("RECAPTCHA","recaptcha",!0),imagesBaseURL:this.getValue("IMAGES_BASE_URL","imagesBaseURL","https://img-dostavka.magnit.ru/"),captchaApiKey:this.getValue("RECAPTCHA_API_KEY","captchaApiKey","VGWMNJoLlujgsAPFeqe7nIte97D4ltw7wvEvj4bX")}}},{key:"getBuild",value:function(){return{commit:this.getValue("GIT_REV","build.commit","empty"),branch:this.getValue("GIT_BRANCH","build.branch","empty")}}},{key:"getPublicRuntimeConfig",value:function(){return O(O({},this.getMain()),{},{mock:this.getMock(),requestSettings:this.getRequestSettings(),appNamespaces:this.getAppNameSpace(),yandexMap:this.getYandexMap(),info:this.getInfo(),statistics:this.getStatistics(),cache:this.getCache(),toggles:this.getToggles()})}},{key:"getPrivateRuntimeConfig",value:function(){return{build:this.getBuild()}}},{key:"exportConfig",value:function(){var e=this.getConfig();if(!e)return{};var t={};return["AUTH_URL","BASE_URL","DEBUG_MODE","RECAPTCHA","MOCK_API","CACHE_SETTINGS","CACHE_SETTINGS_TTD","FEATURES_TOGGLE_ENABLED","EXPERIMENTS_TOGGLE_ENABLED","RECAPTCHA_API_KEY","MAP_YANDEX_KEY","DIVISION","FEATURES_X_APP_VERSION","FEATURES_X_DEVICE_PLATFORM","SERVICE_TOAST_DURATION","INFO_TOAST_DURATION"].forEach((function(s){var n=e[s];void 0!==n&&(t[s]=n)})),t}}]),n}(m),_={userProtocol:"",userAgent:"",runtimeConfig:null,getContext:function(){return null},getContextProp:function(e){var t=this.getContext();return t?t.app[e]||t[e]:null},setUserProtocol:function(e){this.userProtocol=e},getStore:function(e){try{var t=_.getContextProp("$pinia");return r.a[e](t)}catch(e){return null}},getStoreValue:function(e,t){var n;return null===(n=this.getStore(e))||void 0===n?void 0:n[t]},getConfig:function(){return this.runtimeConfig},getConfigValue:function(e){var t,n;return null!==(t=null===(n=this.runtimeConfig)||void 0===n?void 0:n[e])&&void 0!==t?t:null}},k=function(e){_.getContext=function(){return e};var t,n=_.getStore("useSession");_.userAgent=window.navigator.userAgent,t=new j({env:n.envConfig,config:e.$config}),_.runtimeConfig=t.getPublicRuntimeConfig(),Object.seal(_)},x=function(){return _.getContextProp("$pinia")},w=function(){return _.getContextProp("router")},C=function(){return _.getContextProp("$gtm")},P=function(){return _.getContextProp("$cookies")},S=function(e){var t;return(null===(t=P())||void 0===t?void 0:t.get(e))||null},E=function(e,t,n){var r;return null===(r=P())||void 0===r?void 0:r.set(e,t,n)},R=function(e){var t;return null===(t=P())||void 0===t?void 0:t.remove(e)},D=function(){return _.userProtocol},T=function(e){return _.setUserProtocol(e)},I=function(){return _.getYandexMetrika()},B=function(){return _.getStoreValue("useUser","serverFingerprint")||""},A=function(){return _.getStoreValue("useFeatureToggle","experimentsActiveGroupIds")||[]},M=function(){return _.getStoreValue("useFeatureToggle","features")||[]},N=function(){return _.getStoreValue("useUser","profile")||{}},$=function(){return _.getStoreValue("useHome","promoDetail")||{}},L=function(){var e;return(null===(e=N())||void 0===e?void 0:e.id)||""},U=function(){return _.getStoreValue("useCheckout","shopId")||""},F=function(){return _.getStoreValue("useCheckout","bonusPoints")},z=function(){return _.getStoreValue("useCheckout","basketTotalDiscount")},V=function(){return _.getStoreValue("useCheckout","basketCouponCode")},H=function(){return _.getStoreValue("useCheckout","basketCouponApply")},G=function(){return _.getStoreValue("useCheckout","basketCurrentPrice")},K=function(){return _.getStoreValue("useUser","displaySelectedAddress")},W=function(){var e;return(null===(e=N())||void 0===e?void 0:e.loyaltyCard)||""},J=function(){return _.userAgent},X=function(){return _.getConfig()},Q=function(e){_.getContextProp("$cacheControl").clearByPrefix(e)}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return O})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return k}));var r=n(18),o=n(17),c=(n(20),n(43),n(54),n(26),n(65),n(32)),l=function(){var e=Object(c.f)();return null!==e?String(e):"false"},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=l();if("true"===n||null!=n&&n.split(" ").includes(e)){for(var r,o=arguments.length,c=new Array(o>2?o-2:0),d=2;d<o;d++)c[d-2]=arguments[d];(r=new w(e,t)).log.apply(r,c)}},f=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];d("COMPONENT","info",[e].concat(n))}},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["API","info"].concat(t))},m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["STORE","info"].concat(t))},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["STATISTICS","info"].concat(t))},O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["STORAGE_BOX","info"].concat(t))},y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["CONTEXT_PROVIDER","info"].concat(t))},j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["FORM_INPUT","info"].concat(t))},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["APP_ERROR","error"].concat(t))},k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,["ORDER_MANAGER","warn"].concat(t))},x={},w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_PREFIX",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(r.a)(this,e),this.prefix="NO PREFIX",this.color="#000",this.type="warn";var c="".concat(t,"-").concat(n);if(x[c])return x[c];this.prefix=t,this.type=n,this.color=o||e.getRandomColorFromPalette(),x[c]=this}return Object(o.a)(e,[{key:"setColor",value:function(t){this.color=t||e.getRandomColorFromPalette()}},{key:"log",value:function(){for(var e=this.prefix,t=this.color,n=this.type,r=(new Date).toLocaleTimeString(),o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];try{var d;(d=console)[n].apply(d,["%c".concat(e,":").concat(r),"background-color: ".concat(t,"; color: #fff; font-size: 14px; padding: 3px")].concat(c))}catch(e){this.type="warn",this.log.apply(this,c)}}}],[{key:"getRandomColorFromPalette",value:function(){var t=Math.floor(Math.random()*e.palette.length);return e.palette[t]||e.palette[0]}}]),e}();w.palette=["#a21232","#453953","#f9b248","#efd510","#29a19c","#a696c8","#4d6de3","#5a082d","#50cb86","#393e46","#6173f4"]},function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"t",(function(){return y})),n.d(t,"s",(function(){return j})),n.d(t,"v",(function(){return _})),n.d(t,"u",(function(){return k})),n.d(t,"r",(function(){return x})),n.d(t,"q",(function(){return w})),n.d(t,"o",(function(){return C})),n.d(t,"n",(function(){return P})),n.d(t,"p",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return D}));var r="click",o="view",c="catalogScreen_TopStrip_cartButton_click",l="categoryScreen_TopStrip_cartButton_click",d="cartScreen_view",f="cartScreen_checkoutButton_click",v="checkoutScreen_view",m="checkoutScreen_checkoutButton_click",h="purchase_verified",O="hold_1rur",y="catalogScreen",j="cartScreen",_="checkoutScreen",k="categoryScreen",x="phoneInputScreen",w="phoneInputErrorScreen",C="codeInputScreen",P="codeInputErrorScreen",S="emailInputScreen",E="TopStrip",R="cartButton",D="checkoutButton"},,,,,,,,,function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return j})),n.d(t,"f",(function(){return _})),n.d(t,"o",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"m",(function(){return w})),n.d(t,"a",(function(){return C}));var r=n(11),o=n(7),c=function(){return Object(r.h)()},l=function(){var e;return null===(e=c())||void 0===e?void 0:e.requestSettings},d=function(){var e;return(null===(e=l())||void 0===e?void 0:e.defaultShopId)||o.h},f=function(){var e;return null===(e=c())||void 0===e?void 0:e.cache},v=function(){var e;return null===(e=c())||void 0===e?void 0:e.mock},m=function(){var e;return null===(e=c())||void 0===e?void 0:e.appNamespaces},h=function(){var e;return null===(e=c())||void 0===e?void 0:e.captchaApiKey},O=function(){var e;return null===(e=c())||void 0===e?void 0:e.imagesBaseURL},y=function(){var e;return null===(e=c())||void 0===e?void 0:e.statistics},j=function(){var e;return null===(e=c())||void 0===e?void 0:e.toggles},_=function(){var e;return(null===(e=c())||void 0===e?void 0:e.debug)||null},k=function(){var e;return null===(e=c())||void 0===e?void 0:e.yandexMap},x=function(){var e;return null===(e=c())||void 0===e?void 0:e.baseURL},w=function(){var e,t;return null===(e=c())||void 0===e||null===(t=e.info)||void 0===t?void 0:t.title},C=function(){var e;return!1===(null===(e=c())||void 0===e?void 0:e.recaptcha)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return N})),n.d(t,"e",(function(){return F}));n(5),n(67),n(12),n(13),n(10),n(14),n(9),n(15);var r=n(4),o=n(18),c=n(17),l=n(39),d=n(40),f=n(16),v=(n(20),n(550),n(56),n(52));function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var y=function(e){Object(l.a)(n,e);var t=O(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpoint="app",e}return Object(c.a)(n,[{key:"getPagesMenu",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="pages/menu",r=this.getRequestConfig("GET",n,h({params:e},t));return this.request(r)}},{key:"getStaticPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("__error"===e)return null;var r="/"===e.at(-1)?e.slice(0,-1):e,o=this.getRequestConfig("GET",r,h({params:t},n));return this.request(o)}},{key:"getDeliveryTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="pages/deliveryTime",r=this.getRequestConfig("GET",n,h({params:e},t));return this.request(r)}},{key:"getBanners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="banners/".concat(e,"/"),o=this.getRequestConfig("GET",r,h({params:t},n));return this.request(o,{prefix:"store_dependant"})}},{key:"getPromotions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="goods/promotion/list",r=this.getRequestConfig("GET",n,h({params:e},t));return this.request(r)}},{key:"getPromotion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="goods/promotion_by_slug/".concat(e,"/"),o=this.getRequestConfig("GET",r,h({params:t},n));return this.request(o)}},{key:"getBlocksProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="block/product",r=this.getRequestConfig("GET",n,h({params:e},t));return this.request(r,{prefix:"store_dependant"})}},{key:"getBlockFaq",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="block/faq",n=this.getRequestConfig("GET",t,h({},e));return this.request(n)}}]),n}(v.a);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var x=function(e){Object(l.a)(n,e);var t=k(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpoint="catalog",e}return Object(c.a)(n,[{key:"getProductList",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="product-list/".concat(e);null===(t=this.cancelTokenSrc)||void 0===t||t.cancel(),this.cancelTokenSrc=this.getCancelToken();var c=this.cancelTokenSrc.token,l=this.getRequestConfig("GET",o,_({params:n,cancelToken:c},r));return this.request(l,{prefix:"store_dependant"})}},{key:"getProduct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="product/".concat(e),o=this.getRequestConfig("GET",r,_({params:t},n));return this.request(o,{prefix:"store_dependant"})}},{key:"getProductSeo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="seo-product/".concat(e),o=this.getRequestConfig("GET",r,_({params:t},n));return this.request(o,{prefix:"store_dependant"})}},{key:"getCategorySeo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="seo-category/".concat(e),o=this.getRequestConfig("GET",r,_({params:t},n));return this.request(o,{prefix:"store_dependant"})}},{key:"getCategoryList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="category-list/",r=this.getRequestConfig("GET",n,_({params:e},t));return this.request(r,{prefix:"store_dependant"})}},{key:"getSearchData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="product-list/search",r=this.getRequestConfig("GET",n,_({params:e},t));return this.request(r,{prefix:"store_dependant"})}},{key:"getOftenSearched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="product-list/suggest/prefix",r=this.getRequestConfig("GET",n,_({params:e},t));return this.request(r)}},{key:"getCatalogSortItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="sort",r=this.getRequestConfig("GET",n,_({params:e},t));return this.request(r)}}]),n}(v.a);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var S=function(e){Object(l.a)(n,e);var t=P(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpoint="personal",e}return Object(c.a)(n,[{key:"updateProfile",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="change/",n=this.getRequestConfig("POST",t,C({data:data},e));return this.request(n,{cache:!1})}},{key:"notificationContact",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="notification_contact/add/",n=this.getRequestConfig("POST",t,C({data:data},e));return this.request(n,{cache:!1})}},{key:"addAddress",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="address/add/",n=this.getRequestConfig("POST",t,C({data:data},e));return this.request(n,{cache:!1})}},{key:"updateAddress",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=data.addressId,n=void 0===t?"":t;if(!n)throw new Error("Отсутствует id у адреса");var r="address/update/".concat(null!=n?n:""),o=this.getRequestConfig("POST",r,C({data:data},e));return this.request(o,{cache:!1})}},{key:"removeAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="address/delete/".concat(e),r=this.getRequestConfig("DELETE",n,C({},t));return this.request(r,{cache:!1})}},{key:"fetchUserOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="ordersList",r=this.getRequestConfig("GET",n,C(C({},t),{},{params:e}));return this.request(r,{prefix:"order_dependant",cache:!1})}},{key:"fetchUserOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="orderDetails",r={orderId:e},o=this.getRequestConfig("GET",n,C({params:r},t));return this.request(o,{prefix:"order_dependant",cache:!1})}},{key:"fetchReplacements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/orders/highlighted",n=this.getRequestConfig("GET",t,C({},e));return this.request(n,{cache:!1})}},{key:"setReplacementViewed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/orders/".concat(e,"/view"),r=this.getRequestConfig("PATCH",n,C({},t));return this.request(r,{cache:!1})}}]),n}(v.a);function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function R(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var T=function(e){Object(l.a)(n,e);var t=D(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpoint="v2/personal",e}return Object(c.a)(n,[{key:"getProfile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/",n=this.getRequestConfig("GET",t,R({},e));return this.request(n,{prefix:"user_dependant",force:!0,cache:!1})}}]),n}(v.a),I=n(77);function B(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(e){Object(l.a)(n,e);var t=M(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpointPrefix="/v1",e.endpoint="auth",e}return Object(c.a)(n,[{key:"getApiParams",value:function(){return Object(I.a)(Object(f.a)(n.prototype),"getApiParams",this).call(this,{cache:!1,contentType:"json"})}},{key:"sendOTP",value:function(e){var t=this.getRequestConfig("POST","otp",A({},e));return this.request(t)}},{key:"checkOTP",value:function(e){var t=this.getRequestConfig("POST","otp/check",A({},e));return this.request(t)}},{key:"fetchSessions",value:function(){var e=this.getRequestConfig("GET","sessions");return this.request(e)}},{key:"fetchTokens",value:function(e){var t=this.getRequestConfig("POST","token",e);return this.request(t)}},{key:"refreshTokens",value:function(e){var t=this.getRequestConfig("POST","token/refresh",e);return this.request(t,{},!0)}},{key:"signOut",value:function(e){var t=this.getRequestConfig("POST","sign-out",e);return this.request(t)}}]),n}(v.a);n(29);function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var F=function(e){Object(l.a)(n,e);var t=U(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpointPrefix="/v1",e}return Object(c.a)(n,[{key:"getApiParams",value:function(){return Object(I.a)(Object(f.a)(n.prototype),"getApiParams",this).call(this,{cache:!1,contentType:"json"})}},{key:"register",value:function(e){var t=this.getRequestConfig("POST","profile/register/magnit-id-code",L({},e));return this.request(t)}},{key:"getProfile",value:function(){var e=this.getRequestConfig("GET","profile");return this.request(e)}},{key:"updateProfile",value:function(e){var t,n={data:(t=e,{birthDate:t.birthDay,email:t.email,firstName:t.name,gender:t.gender,lastName:t.lastName})},r=this.getRequestConfig("PATCH","profile",n);return this.request(r)}},{key:"deactivateProfile",value:function(e){var t=this.getRequestConfig("POST","profile/deactivate",L({},e));return this.request(t)}}]),n}(v.a)},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return O}));var r=n(18),o=n(17),c=(n(29),n(20),n(5),n(9),n(12),n(10),n(43),n(54),n(98)),l=n(22),d=n(59),f=new(function(){function e(){Object(r.a)(this,e),this.currentPage=null,this.previousPage=null,this.subscribeTokenMap={},this.subscribers={}}return Object(o.a)(e,[{key:"getContext",value:function(){return{currentPage:this.currentPage,previousPage:this.previousPage}}},{key:"getContextHash",value:function(){var e=this.getContext(),t=e.currentPage,n=e.previousPage,r=function(e){return null===e?null:{params:e.params,name:e.name,query:e.query}};return Object(c.a)({currentPage:r(t),previousPage:r(n)})}},{key:"setRouteContext",value:function(e){var t=e.from,n=e.to;this.currentPage=n,t&&(this.previousPage=t)}},{key:"publishEvent",value:function(e,t){var n=this.subscribers[e]||[];if(Object(l.d)("publish event: ".concat(e," for ").concat(n.length," subscribers")),null!=n&&n.length){var r=[this.getContext(),this.getContextHash()],o=r[0],c=r[1];Object(l.d)("event payload: ",{context:o,payload:t}),n.forEach((function(e){return e(t,o,c)}))}}},{key:"getKeyByHandler",value:function(e){for(var t=Object.keys(this.subscribeTokenMap),i=0,n=t.length;i<n;i+=1){var r=t[i];if(this.subscribeTokenMap[r].handler===e)return r}return""}},{key:"unsubscribe",value:function(e){var t=this.subscribeTokenMap[e]||{},n=t.handler,r=t.event;if(n&&r){var o=this.subscribers[r];this.subscribers[r]=o.filter((function(e){return e!==n}))}}},{key:"subscribe",value:function(e,t){if(this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].includes(t))return this.getKeyByHandler(t);var n=Object(d.e)();return this.subscribeTokenMap[n]={event:e,handler:t},this.subscribers[e].push(t),n}}]),e}()),v=function(e){return f.setRouteContext(e)},m=function(e,t){return f.subscribe(e,t)},h=function(e){return f.unsubscribe(e)},O=function(e,t){return f.publishEvent(e,t)}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f}));var r="PHPSESSID",o="magnitId",c="accessToken",l="refreshToken",d="MGNT_CLIENT_TIMEZONE",f="mindboxDeviceUUID"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"o",(function(){return j})),n.d(t,"l",(function(){return _})),n.d(t,"f",(function(){return k})),n.d(t,"i",(function(){return x}));var r="pishchevaya_tsennost_na_100_g",o="Пищевая ценность на 100 г",c="kharakteristiki",l="SPC_SEC_NUTRITION_VALUE_PROTEINS",d="SPC_SEC_NUTRITION_VALUE_FATS",f="SPC_SEC_NUTRITION_VALUE_CARBOHYDRATES",v="SPC_SEC_NUTRITION_VALUE_ENERGY_VALUE",m="белки",h="жиры",O="углеводы",y="ккал",j=2,_=3,k=4,x=1},function(e,t,n){"use strict";n.d(t,"p",(function(){return j})),n.d(t,"r",(function(){return _})),n.d(t,"w",(function(){return x})),n.d(t,"z",(function(){return C})),n.d(t,"s",(function(){return P})),n.d(t,"q",(function(){return S})),n.d(t,"v",(function(){return E})),n.d(t,"n",(function(){return R})),n.d(t,"y",(function(){return D})),n.d(t,"g",(function(){return T})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return B})),n.d(t,"x",(function(){return A})),n.d(t,"h",(function(){return M})),n.d(t,"f",(function(){return N})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"a",(function(){return z})),n.d(t,"k",(function(){return H})),n.d(t,"o",(function(){return G})),n.d(t,"m",(function(){return K})),n.d(t,"t",(function(){return W})),n.d(t,"b",(function(){return Q})),n.d(t,"u",(function(){return Y}));n(12),n(13),n(10),n(14),n(9),n(15);var r=n(3),o=n(4),c=(n(41),n(5),n(20),n(7)),l=n(6),d=n(109),f=n(61),v=n(38),m=n(129);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(d.c)();return new Promise((function(o,c){var l=O({promise:{resolve:o,reject:c},id:"".concat(e,"-").concat(Date.now()),type:e,props:t||{},persistent:!1,closeable:!0,position:"center",dataTestId:"popup",confirmExit:!1,contentClass:null,outerClass:null},n);r.setItem(l),Object(v.a)("modal-open",l)}))},j=function(e){return y(c.w,e)},_=function(e){return y(c.m,e,{persistent:!0})},k=function(e){return y(c.s,e,{dataTestId:"impossible-delivery-address-popup"})},x=function(e){return y(c.t,e,{closeable:!1})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(c.g,e,O({dataTestId:"closing-confirmation-popup"},t))},C=function(e){return y(c.p,e,{size:"large",closeable:!1,dataTestId:"change-delivery-address-popup"})},P=function(e){return C(O(O({},e||{}),{},{global:!0}))},S=function(e){return y(c.y,e,{size:"large",closeable:!1,dataTestId:"delivery-address-popup"})},E=function(e){return y(c.x,e,{size:"regular",borderRadius:"large"})},R=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(c.r,e,t)}(e,{position:"full",outerClass:"bg-gray"})},D=function(e){return y(c.u,e,{dataTestId:"checkout-popup",closeable:!1,position:"full",confirmExit:!0,persistent:!0})},T=function(){return new Promise((function(e){w({title:"Вы уверены, что хотите выйти?",description:"Внесенные изменения не сохранятся",labelConfirm:"Да, выйти",onConfirm:function(){return e(!0)},labelReject:"Нет, не выходить",onReject:function(){return e(null)}})}))},I=function(){return new Promise((function(e){w({title:"Удалить товары",description:"Вы уверены, что хотите удалить отсутствующие товары?",labelConfirm:"Удалить",onConfirm:function(){return e(!0)},labelReject:"Отмена",onReject:function(){return e(null)}},{closeable:!1})}))},B=function(){return new Promise((function(e){w({title:"Вы уверены, что хотите удалить адрес?",description:"",labelConfirm:"Да, удалить",onConfirm:function(){return e(!0)},labelReject:"Нет",onReject:function(){return e(null)}},{closeable:!1})}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t){w({title:"Изменился состав заказа",description:"По вашему адресу отсутствует часть товаров или изменились цены",labelConfirm:"Посмотреть изменения",onConfirm:function(){return t(!0)},labelReject:e?"Отменить изменение адреса":null,onReject:function(){return t(null)},vertical:!0},{closeable:!1,persistent:!0})}))},M=function(){return new Promise((function(e){w({title:"Заказ будет отменен",description:"Вы отказались от всех товаров в вашем заказе, поэтому заказ будет отменен",labelConfirm:"Отменить заказ",onConfirm:function(){return e(!0)},labelReject:"Выбрать замены",onReject:function(){return e(null)},vertical:!0})}))},N=function(){return new Promise((function(e){w({title:"Вы уверены, что хотите выйти?",labelConfirm:"Да, выйти",onConfirm:function(){return e(!0)},labelReject:"Нет, не выходить",onReject:function(){return e(null)}})}))},$=function(e){return new Promise((function(t){var n={title:"Вы уверены, что хотите отвязать карту ···· ".concat(e.masked_pan,"?"),labelConfirm:"Да, отвязать",onConfirm:function(){return t(!0)},labelReject:"Нет, не отвязывать",onReject:function(){return t(null)},dataTestId:"delete-card"};w(n)}))},L=function(e,t){return new Promise((function(n){var r={title:"".concat(e," ").concat(Object(m.d)(e)," нет в наличии"),labelConfirm:"Продолжить",description:t?"Замените или удалите недостающие товары":"Недостающие позиции будут удалены из заказа",labelReject:t?"":"Отмена",dataTestId:"clear-basket-popup"};n(y(c.o,r))}))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t){var title=e?"Очистить корзину":"Удалить товары",n=e?"Очистить корзину":"Удалить",r="Вы уверены, что хотите удалить ".concat(e?"все товары из корзины":"отсутствующие товары","? Это действие нельзя будет отменить.");w({title:title,labelConfirm:n,description:r,onConfirm:function(){return t(!0)},labelReject:"Отмена",onReject:function(){return t(null)},dataTestId:"clear-basket-popup"})}))},F=function(title,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ОК";return new Promise((function(n){w({title:title,description:e,labelConfirm:t,onConfirm:function(){return n(!0)},vertical:!0},{outerClass:"m-modal-alert"})}))},z=function(){return F("Неверный адрес","У выбранного адреса отсутствует название улицы и/или номер дома. Пожалуйста попробуйте уточнить адрес.")},V=function(e){return new Promise((function(t){w({title:"Ваш номер телефона отправлен!",description:e,labelConfirm:"На главную",onConfirm:function(){t(!0),Object(f.c)({name:l.j})},icon:"formSuccess",iconSize:"120px",vertical:!0},{outerClass:"m-modal-alert"})}))},H=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:if((n=e.sent)&&"cancel"!==n){e.next=5;break}return e.abrupt("return",n);case 5:return r="no_store"===(null==t?void 0:t.action)?"Мы сообщим, как только по вашему адресу появится доставка":"Мы сообщим вам, как только магазин откроется",V(r),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){return new Promise((function(){var t={description:e};y(c.v,t)}))},K=function(title,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Обновить";return new Promise((function(){var n={title:title,description:e,labelConfirm:t};Object(v.a)("auth-error",{form:c.m,message:e}),y(c.n,n)}))},W=function(e){return y(c.q,e)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(v.a)("modal-abstraction-resolve",{payload:t,force:n,id:e})},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(d.c)(),o=r.getItemBy({type:e});null!=o&&o.id&&J(o.id,t,n)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return X(c.C,e,t)},Y=function(e){return Q(),y(c.C,e,{dataTestId:"images-popup",position:"full"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(3),o=n(4),c=n(18),l=n(17),d=(n(41),n(10),n(5),n(72),n(26),n(63),n(12),n(13),n(14),n(9),n(15),n(152)),f=n.n(d),v=n(99),m=n(32),h=n(11),O=n(78),y=n(59);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=function(){function e(t){Object(c.a)(this,e),this.endpointPrefix="/api",this.endpoint="",this.getContext=function(){return t},this.reqSettings=Object(m.j)()}var t;return Object(l.a)(e,[{key:"getBaseURL",value:function(){}},{key:"getUrl",value:function(path){var e,t;return(null===(e=[this.endpointPrefix,this.endpoint,path])||void 0===e||null===(t=e.filter(Boolean))||void 0===t?void 0:t.join("/")).replace("//","/")}},{key:"getHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new f.a(Object(h.t)()),n=Object(O.a)(),r=Object(m.j)(),o=Object(h.l)(),c=(null==r?void 0:r.platform)||"Web",l=(null==r?void 0:r.version)||"1";return _({"X-Device-Platform":c,"X-Platform-Version":String(t.version("Webkit")),"X-Device-ID":o,"X-Device-Tag":"disabled","X-App-Version":Object(y.g)(l),"MAGNIT-APP-OS":c,"MAGNIT-APP-VERSION":l,"MAGNIT-APP-DEVICE-ID":o,Authorization:n},e)}},{key:"getSpecialHeaders",value:function(){var e={},t=Object(h.v)();return t&&(e["x-protocol-address"]=t),e}},{key:"getCancelToken",value:function(){return this.getContext().$axios.CancelToken.source()}},{key:"getApiParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _({prefix:this.endpoint,cache:!0,force:!1,contentType:"formdata"},e)}},{key:"getRequestConfig",value:function(e,path){var t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[this.getUrl(path),this.getContext()],o=r[0],c=r[1],l=this.getApiParams(),d=l.contentType,f=this.reqSettings,m=f.defaultShopId,h=f.service,O=(null==c||null===(t=c.$cookies)||void 0===t?void 0:t.get("shopId"))||m,data="formdata"===d?Object(v.c)(n.data):n.data,y=_(_({},n.params||{}),{},{shop_code:O,useSiteXmlIdService:h}),j=_(_(_({},this.getHeaders()),this.getSpecialHeaders()),n.headers||{});return _(_({},n),{},{headers:j,url:o,method:e,params:y,data:data,baseURL:this.getBaseURL()})}},{key:"request",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=f.length>2&&void 0!==f[2]&&f[2],o=[this.getContext(),_(_({},this.getApiParams()),n)],c=o[0],l=o[1],e.next=5,c.$cacheControl.fetch(t,l,r);case 5:return d=e.sent,e.abrupt("return",d);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return x}));var r=n(37),o=n(19),c=n(31),l=(n(20),n(176),n(10),n(5),n(177),n(26),n(63),n(69),n(79),n(65),n(72),n(56),n(185),n(35),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(36),n(76),n(25)),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(null!=e&&e.length||null!=t&&t.length))return[];if(null==e||!e.length)return Object(c.a)(t);if(null==t||!t.length)return Object(c.a)(e);for(var n=e.length>t.length?e.length:t.length,r=[e,t],o=[],i=0;i<n;i+=1){var l=[r[0][i],r[1][i]],d=l[0],f=l[1];d&&o.push(d),f&&o.push(f)}return[].concat(o)},f=function(p){return"object"===Object(o.a)(p)&&"function"==typeof p.then&&"function"==typeof p.catch},v=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==Object(r.a)(e,2)[1]})))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return e.replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=0,r=function r(){if(n===t)throw new Error("@/helpers/misc/persistentMethod limit is exceeded");n+=1,!!e()||window.requestAnimationFrame(r)};r()},O=function(e){try{if(!e||!e.scrollIntoView)throw new Error("argument is not a valid HTML element");document.documentElement.classList.add("instant-scroll"),e.scrollIntoView()}catch(e){console.warn("@/helpers/misc/instantScroll",e)}finally{document.documentElement.classList.remove("instant-scroll")}};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],object=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null==e?void 0:e.find((function(e){return null!=t&&t.length?t.reduce((function(t,n){return t&&String(e[n]||"")===String(object[n]||"")}),!0):Object(l.isEqual)(e,object)}))}var j=function(e){return new Promise((function(t,n){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.src=e,script.onload=function(){return t(script)},script.onerror=function(e){return n(e)},head.appendChild(script)}))},_=function(e){return"Санкт-Петербург"===e?"Парадная":"Подъезд"},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.split(".");return[].concat(Object(c.a)(n),[0,0,0,0,0,0]).slice(0,t).join(".")},x=function(e){if(!e)return"";var t=e.split("%2F").join("/"),n=new Set(["express"].concat(Object(c.a)(t.split("/"))));return"/".concat(Array.from(n).filter((function(s){return!!s})).join("/"))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return x}));n(12),n(13),n(10),n(5),n(14),n(9),n(15);var r=n(4),o=n(3),c=(n(41),n(29),n(43),n(54),n(26),n(25)),l=n(11),d=n(59),f=n(38);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h=function(){return Object(l.r)().currentRoute},O=function(e){var t=e.params,n=e.query,path=e.path,r=e.name,o=h(),l={params:t||o.params,query:n||o.query,path:path||o.path,name:r||o.name};return l.path===o.path&&l.name===o.name&&(Object(c.isEqual)(l.query,o.query)&&Object(c.isEqual)(l.params,o.params))},y=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o,v,h,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:"push",r=y.length>2?y[2]:void 0,o=Object(c.isString)(t)?{path:t}:t,!O(o)){e.next=5;break}return e.abrupt("return");case 5:if(v=Object(l.r)(),h=["push","replace","go"],Object(c.isObject)(o.query)&&(o.query=Object(d.a)(m({},o.query))),h.includes(n)){e.next=10;break}throw new Error("unknown method ".concat(n));case 10:return e.prev=10,e.next=13,v[n](o);case 13:setTimeout((function(){return Object(f.a)("route-change",r)}),100),e.next=20;break;case 16:if(e.prev=16,e.t0=e.catch(10),"NavigationDuplicated"===e.t0.name){e.next=20;break}throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.isString)(e)?{path:e}:e,r=m(m({},h()),n);return y(r,"replace",t)},_=function(){window.location.reload()},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(e,"push",t)},x=function(link){return Object(c.isString)(link)&&/^http(s)?:\/\//i.test(link)}},,,,,,,function(e,t,n){"use strict";var r=n(0),o=(n(20),n(38));t.a=function(){var e=Object(r.getCurrentInstance)().emit;return function(t,n){for(var r=arguments.length,c=new Array(r>2?r-2:0),l=2;l<r;l++)c[l-2]=arguments[l];e.apply(void 0,[t,n].concat(c)),setTimeout((function(){return Object(o.a)(t,n)}))}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(4),o=n(3),c=(n(41),n(79),n(5),n(354),n(35),n(36),n(33),n(12),n(13),n(10),n(14),n(9),n(15),n(48)),l=(n(67),n(18)),d=n(17),f=n(77),v=n(39),m=n(40),h=n(16),O=(n(20),n(52));function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var k=function(e){Object(v.a)(n,e);var t=_(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpoint="payment",e}return Object(d.a)(n,[{key:"getApiParams",value:function(){return Object(f.a)(Object(h.a)(n.prototype),"getApiParams",this).call(this,{cache:!1})}},{key:"getPaymentMethods",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="methods",r={im_version:e},o=this.getRequestConfig("GET",n,j({params:r},t));return this.request(o)}},{key:"paymentCardBind",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="card/bind",n=this.getRequestConfig("POST",t,j(j({},e),{},{data:data}));return this.request(n)}},{key:"paymentCardActualize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="card/actualize/".concat(e),o={im_version:t},c=this.getRequestConfig("POST",r,j({params:o},n));return this.request(c)}},{key:"paymentIdGenerate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="card/".concat(e,"/acquire"),o={im_version:t},c=this.getRequestConfig("GET",r,j({params:o},n));return this.request(c)}},{key:"paymentCardDelete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="card/".concat(e),r=this.getRequestConfig("DELETE",n,j({},t));return this.request(r)}},{key:"paymentLinkOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="link/order/".concat(e,"/result"),r=this.getRequestConfig("GET",n,j({},t));return this.request(r)}},{key:"paymentOrderSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="order/".concat(e,"/success"),r=this.getRequestConfig("POST",n,j({},t));return this.request(r)}}]),n}(O.a);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var P=function(e){Object(v.a)(n,e);var t=C(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpoint="shop-module",e}return Object(d.a)(n,[{key:"getApiParams",value:function(){return Object(f.a)(Object(h.a)(n.prototype),"getApiParams",this).call(this,{cache:!1})}},{key:"getShops",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="shops-by-point",r=this.getRequestConfig("GET",n,w({params:e},t));return this.request(r)}}]),n}(O.a);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var D=function(e){Object(v.a)(n,e);var t=R(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpoint="sale",e}return Object(d.a)(n,[{key:"getApiParams",value:function(){return Object(f.a)(Object(h.a)(n.prototype),"getApiParams",this).call(this,{cache:!1})}},{key:"getBasket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="basket/",r=this.getRequestConfig("GET",n,E({params:e},t));return this.request(r)}},{key:"updateDeliveryData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/delivery/price/",r=this.getRequestConfig("GET",n,E({params:e},t));return this.request(r)}},{key:"clearBasket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="basket/clear/",n=this.getRequestConfig("GET",t,E({},e));return this.request(n)}},{key:"updateBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/update/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}},{key:"addToBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/add/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}},{key:"deleteFromBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/delete/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}},{key:"deleteUnavailable",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/unavailable/",n=this.getRequestConfig("DELETE",t,E({data:data},e));return this.request(n)}},{key:"addCouponToBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/coupon/add/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}},{key:"deleteCouponFromBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/coupon/delete/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}},{key:"replaceInBasket",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="basket/replace_product/",n=this.getRequestConfig("POST",t,E({data:data},e));return this.request(n)}}]),n}(O.a),T=n(22),I=n(59),B=n(7),A=n(102),M=n(32),N=n(181);function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var U=Object(c.c)("checkout",{state:function(){return{basket:{},deliveryData:{},deliveryCosts:{},shop:{},paymentId:"",cards:[],orderId:"",selectedCardUUID:""}},getters:{shopId:function(e){var t;return(null===(t=e.shop)||void 0===t?void 0:t.xml_id)||Object(M.g)()},shopUUId:function(e){var t;return(null===(t=e.shop)||void 0===t?void 0:t.id)||""},selectedCard:function(e){return e.selectedCardUUID&&e.cards.find((function(t){return t.card_uuid===e.selectedCardUUID}))},basketAvailableProducts:function(e){return e.basket.basketItems||[]},bonusPoints:function(e){return e.basket.bonusPoints||0},basketDiscount:function(e){return e.basket.discount||0},couponsDiscount:function(e){return e.basket.couponsDiscount||0},basketCoupon:function(e){var t;return(null===(t=e.basket.coupons)||void 0===t?void 0:t[0])||null},basketTotalDiscount:function(){return this.basketDiscount+this.couponsDiscount},basketCouponCode:function(){var e;return(null===(e=this.basketCoupon)||void 0===e?void 0:e.code)||""},basketCouponApply:function(){var e;return!(null===(e=this.basketCoupon)||void 0===e||!e.couponApply)},basketCurrentPrice:function(){return this.basketAvailableProducts.length&&this.basket.price||0}},actions:{setShop:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&e.xml_id){n.next=4;break}t.shop={},n.next=13;break;case 4:if(r=t.shop,o=r.xml_id,c=r.im_version,t.shop=e,!e.xml_id||o===e.xml_id){n.next=13;break}if(t.$nuxt.$cookies.set("shopId",e.xml_id),e.im_version===c){n.next=11;break}return n.next=11,t.getPaymentMethods(e.im_version);case 11:return n.next=13,Promise.allSettled([t.fetchDeliveryData(),t.fetchDeliveryCosts()]);case 13:case"end":return n.stop()}}),n)})))()},setCards:function(e){var t=this.cards,n=e.map((function(e){var n=t.find((function(t){return t.id===e.id}))||{};return L(L({card_uuid:(null==n?void 0:n.card_uuid)||Object(I.e)()},n),e)}));this.cards=n},setBasket:function(data){return this.basket=data,this.basket},setDeliveryData:function(e){this.deliveryData=e},setDeliveryCosts:function(e){this.deliveryCosts=e},clearBasket:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new D(n).clearBasket();case 3:case"end":return t.stop()}}),t)})))()},fetchBasket:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.prev=1,r={shopId:e.shopId,receiveTypeId:B.K},t.next=5,new D(n).getBasket(r);case 5:return o=t.sent,c=o.data,e.setBasket(c),t.abrupt("return",c);case 11:return t.prev=11,t.t0=t.catch(1),e.setBasket({}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},fetchDeliveryData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.prev=1,t.next=4,new D(n).updateDeliveryData({shopId:e.shopId});case 4:r=t.sent,e.setDeliveryData(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setDeliveryData({});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},fetchDeliveryCosts:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.prev=1,t.next=4,new N.a(n).deliveryCosts(e.shopUUId);case 4:r=t.sent,e.setDeliveryCosts(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setDeliveryCosts({});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},updateBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=L(L({},e),{},{receiveTypeId:B.K}),n.next=4,new D(r).updateBasket(o);case 4:return c=n.sent,data=c.data,n.abrupt("return",t.setBasket(data));case 7:case"end":return n.stop()}}),n)})))()},addToBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=L(L({},e),{},{receiveTypeId:B.K}),n.next=4,new D(r).addToBasket(o);case 4:return c=n.sent,data=c.data,n.abrupt("return",t.setBasket(data));case 7:case"end":return n.stop()}}),n)})))()},deleteFromBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=L(L({},e),{},{receiveTypeId:B.K}),n.next=4,new D(r).deleteFromBasket(o);case 4:return c=n.sent,data=c.data,n.abrupt("return",t.setBasket(data));case 7:case"end":return n.stop()}}),n)})))()},deleteUnavailable:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,r={shopId:e.shopId,receiveTypeId:B.K},t.next=4,new D(n).deleteUnavailable(r);case 4:return o=t.sent,data=o.data,t.abrupt("return",e.setBasket(data));case 7:case"end":return t.stop()}}),t)})))()},addCouponToBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=L(L({},e),{},{receiveTypeId:B.K}),n.next=4,new D(r).addCouponToBasket(o);case 4:if(c=n.sent,(data=c.data).errors){n.next=8;break}return n.abrupt("return",t.setBasket(data));case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}),n)})))()},deleteCouponFromBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=L(L({},e),{},{receiveTypeId:B.K}),n.next=4,new D(r).deleteCouponFromBasket(o);case 4:return c=n.sent,data=c.data,n.abrupt("return",t.setBasket(data));case 7:case"end":return n.stop()}}),n)})))()},replaceInBasket:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new D(r).replaceInBasket(e);case 3:return o=n.sent,data=o.data,n.abrupt("return",t.setBasket(data));case 6:case"end":return n.stop()}}),n)})))()},fetchShop:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=(r=e.length>0&&void 0!==e[0]?e[0]:{})&&r.x&&null!=r&&r.y){n.next=3;break}return n.abrupt("return",null);case 3:return n.prev=3,l=t.$nuxt.app.context,n.next=7,new P(l).getShops(r);case 7:return d=n.sent,n.abrupt("return",null!==(o=d.data)&&void 0!==o&&o[0]?null===(c=d.data)||void 0===c?void 0:c[0]:d.data);case 11:return n.prev=11,n.t0=n.catch(3),n.abrupt("return",null);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})))()},getPaymentMethods:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$nuxt.app.context,n.next=4,new k(r).getPaymentMethods(e||t.shop.im_version);case 4:o=n.sent,c=o.data.cards,t.setCards(c),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),Object(T.j)("getPaymentMethods",n.t0),t.cards=[];case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},paymentCardBind:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$nuxt.app.context,n.next=4,new k(r).paymentCardBind(e);case 4:return o=n.sent,data=o.data,t.orderId=data.order_id,n.abrupt("return",data.form_url);case 10:return n.prev=10,n.t0=n.catch(0),Object(T.j)("paymentCardBind",n.t0),t.orderId="",n.abrupt("return",void 0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})))()},paymentCardActualize:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$nuxt.app.context,n.next=4,new k(r).paymentCardActualize(e||t.orderId,t.shop.im_version);case 4:return o=n.sent,c=o.data.list,t.setCards(c),t.orderId="",n.abrupt("return",null==c?void 0:c[0]);case 11:return n.prev=11,n.t0=n.catch(0),Object(T.j)("paymentCardActualize",n.t0),t.cards=[],n.abrupt("return",void 0);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})))()},changePaymentCard:function(e){e.card_uuid&&(this.selectedCardUUID=e.card_uuid)},paymentIdGenerate:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.card_uuid){n.next=3;break}return n.abrupt("return");case 3:return r=t.$nuxt.app.context,n.next=6,new k(r).paymentIdGenerate(e.id,t.shop.im_version);case 6:o=n.sent,c=o.data.id,t.paymentId=c,n.next=17;break;case 11:throw n.prev=11,n.t0=n.catch(0),Object(T.j)("paymentIdGenerate",n.t0),t.paymentId="",(l=Object(A.e)(n.t0))?new Error(l):n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,11]])})))()},paymentCardDelete:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=t.$nuxt.app.context,n.next=4,new k(o).paymentCardDelete(e);case 4:c=n.sent,l=c.data.list,t.setCards(l),t.selectedCard&&(null===(r=t.selectedCard)||void 0===r?void 0:r.id)===e&&(t.selectedCardUUID="",t.paymentId=""),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),Object(T.j)("paymentCardDelete",n.t0),t.cards=[];case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},paymentLinkOrder:function(e){var t=this.$nuxt.app.context;return new k(t).paymentLinkOrder(e)},paymentOrderSuccess:function(e){var t=this.$nuxt.app.context;return new k(t).paymentOrderSuccess(e)},clear:function(){this.cards=[],this.paymentId="",this.orderId=""}}})},,function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return y}));n(29),n(26);var r=n(6),o=n(61),c=(n(25),function(e){var t=e.name;return t===r.g||t===r.h||t===r.z}),l=function(e){var t=e.name;return t===r.c||t===r.b||t===r.w||t===r.x},d=function(e){return e.name===r.j},f=function(e){return e.name===r.d},v=function(e){return e.name===r.r},m=function(e){return e.name===r.u},h=function(e){return e.name===r.s},O=function(e){return e.name===r.n},y=function(){return Object(o.c)({name:r.d})}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O}));var r=n(11),o=n(126),c=n(49),l=function(){return Object(r.i)(c.a)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.z)(c.a,e,t)},f=function(){return Object(r.i)(c.d)},v=function(){return Object(r.z)(c.e,Object(o.e)(),{path:"/",maxAge:604800})},m=function(){return Object(r.i)(c.e)||Object(o.e)()},h=function(){return Object(r.i)(c.f)||"NO_KEY"},O=function(){return Object(r.i)(c.b)}},,function(e,t,n){"use strict";var r=n(21),o=n(0),c=(n(43),n(152),n(25)),l=n(119),d=null;t.a=function(){var e,t=Object(r.j)("displayMode",(function(){return"Desktop"})),n=Object(o.computed)((function(){return"Desktop"===t.value})),f=Object(o.computed)((function(){return"Tablet"===t.value})),v=Object(o.computed)((function(){return"Mobile"===t.value})),m=Object(o.computed)((function(){return{large:!0,desktop:["Tablet","Mobile"].includes(t.value),tablet:["Mobile"].includes(t.value)}})),h=Object(o.computed)((function(){return{desktop:!1,mobile:["Desktop","Tablet"].includes(t.value),tablet:["Desktop"].includes(t.value)}}));return e=function(){var e=document.body.clientWidth;e<=+l.breakpointTablet?t.value="Mobile":e<=+l.breakpointDesktop?t.value="Tablet":t.value="Desktop"},d||(d=new ResizeObserver(Object(c.debounce)(e,50))).observe(document.body),e(),Object(o.watch)(t,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.toLowerCase(),e.toLowerCase()],r=n[0],o=n[1];t&&document.body.classList.remove("screen--".concat(r)),document.body.classList.add("screen--".concat(o))}),{immediate:!0}),{displayMode:t,screenLT:m,screenGT:h,isDesktop:n,isTablet:f,isMobile:v}}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(31),o=n(3),c=(n(41),n(5),n(43),n(54),n(20),n(26),n(63),n(48)),l=n(22),d=n(99),f=(n(67),n(12),n(13),n(10),n(14),n(9),n(15),n(4)),v=n(18),m=n(17),h=n(77),O=n(39),y=n(40),j=n(16),_=n(52),k=n(78);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(j.a)(e);if(t){var o=Object(j.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(y.a)(this,n)}}var P=function(e){Object(O.a)(n,e);var t=C(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpoint="sale",e}return Object(m.a)(n,[{key:"getApiParams",value:function(){return Object(h.a)(Object(j.a)(n.prototype),"getApiParams",this).call(this,{cache:!1,clear:["order_dependant"]})}},{key:"getHeaders",value:function(){return Object(h.a)(Object(j.a)(n.prototype),"getHeaders",this).call(this,{"X-MGNT-Client-Timezone":Object(k.e)(),"X-MindBox-Device-UUID":Object(k.c)()})}},{key:"createOrder",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="order/create/",n=this.getRequestConfig("POST",t,w({data:data},e));return this.request(n)}},{key:"replace",value:function(e){var t=e.orderId,n=e.basket,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="order/reconcile/".concat(t,"/"),c=this.getRequestConfig("POST",o,w({},r));return c.data=w(w({},r.data||{}),{},{basket:n}),this.request(c)}},{key:"payOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="order/".concat(e,"/pay"),r=this.getRequestConfig("GET",n,w({},t));return this.request(r)}}]),n}(_.a),S=n(34),E=n(106),R=n(111),D=Object(c.c)("order",{state:function(){return{userOrders:[],pagesCount:1,replacements:[],statusNotifications:[]}},getters:{showOrderNotification:function(e){return e.replacements.some((function(e){return E.k.includes(e.statusId)}))}},actions:{setReplacements:function(data){this.replacements=data,R.a.setReplacementOrders(data)},setUserOrders:function(e){this.userOrders=e.orders,this.pagesCount=e.pages},fetchUserOrder:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new S.c(r).fetchUserOrder(e);case 3:return o=n.sent,data=o.data,n.abrupt("return",data);case 6:case"end":return n.stop()}}),n)})))()},fetchStatusNotifications:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,r=new S.c(n),t.next=4,r.fetchUserOrders();case 4:o=t.sent,data=o.data,e.statusNotifications=data;case 7:case"end":return t.stop()}}),t)})))()},fetchReplacements:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new S.c(n).fetchReplacements();case 3:r=t.sent,data=r.data,e.setReplacements(data);case 6:case"end":return t.stop()}}),t)})))()},fetchUserOrders:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c,l,data,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.$nuxt.app.context,c=new S.c(o),n.next=4,c.fetchUserOrders(e);case 4:l=n.sent,data=l.data,d=l.pagesCount,t.setUserOrders({pages:d,orders:null!=e&&e.spreadItems?[].concat(Object(r.a)(t.userOrders),Object(r.a)(data)):data});case 8:case"end":return n.stop()}}),n)})))()},setReplacementViewed:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new S.c(r).setReplacementViewed(String(e));case 3:return n.next=5,t.fetchReplacements();case 5:case"end":return n.stop()}}),n)})))()},replaceOrder:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$nuxt.app.context,t.prev=1,r=R.a.getTargetOrder()){t.next=5;break}throw new Error("target order is empty");case 5:return t.next=7,new P(n).replace({orderId:r.orderId,basket:Object(d.e)(r.basket)});case 7:return t.next=9,R.a.fetchUserOrder(r.orderId,!0);case 9:return t.next=11,e.fetchReplacements();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),Object(l.j)("replaceOrder",t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()},createOrder:function(e){var t=this.$nuxt.app.context;return new P(t).createOrder(e)},handleOrderReplacementTimeout:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.prev=1,n.next=4,new P(r).replace({orderId:e,basket:null});case 4:return n.next=6,t.fetchReplacements();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Object(l.j)("handleOrderReplacementTimeout","From cancel order #".concat(e||""),n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},clear:function(){this.userOrders=[],this.pagesCount=1,this.replacements=[],this.statusNotifications=[],R.a.clear()},payOrder:function(e){var t=this.$nuxt.app.context;return new P(t).payOrder(e)}}})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));n(12),n(13),n(10),n(14),n(9),n(15);var r=n(4),o=n(3),c=(n(5),n(354),n(35),n(36),n(26),n(63),n(41),n(48)),l=n(157),d=n.n(l),f=n(34),v=(n(67),n(18)),m=n(17),h=n(77),O=n(39),y=n(40),j=n(16),_=(n(20),n(52));function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(j.a)(e);if(t){var o=Object(j.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(y.a)(this,n)}}var C=function(e){Object(O.a)(n,e);var t=w(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpoint="personal",e}return Object(m.a)(n,[{key:"getApiParams",value:function(){return Object(h.a)(Object(j.a)(n.prototype),"getApiParams",this).call(this,{cache:!1})}},{key:"checkRegistered",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="is-registered/".concat(e.phone),r=this.getRequestConfig("GET",n,x({params:e},t));return this.request(r)}},{key:"getAuthCode",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="auth/code/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}},{key:"authByMail",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="auth/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n,{clear:["user_dependant"]})}},{key:"authByPhone",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="auth_by_code/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n,{clear:["user_dependant"]})}},{key:"checkLogin",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="password/forget/send/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}},{key:"passwordForget",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="password/forget/code/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}},{key:"passwordRestore",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="password/restore/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}},{key:"authRegister",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="mobile-register/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}},{key:"logout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="logout/",n=this.getRequestConfig("GET",t,x({},e));return this.request(n,{clear:["user_dependant","order_dependant"]})}},{key:"verifyPhone",value:function(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="/auth/verify_phone/",n=this.getRequestConfig("POST",t,x({data:data},e));return this.request(n)}}]),n}(_.a);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(j.a)(e);if(t){var o=Object(j.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(y.a)(this,n)}}var S=function(e){Object(O.a)(n,e);var t=P(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).endpointPrefix="/misc",e.endpoint="",e}return Object(m.a)(n,[{key:"fetchProtocol",value:function(){var e=this.getRequestConfig("GET","protocol",{});return this.request(e)}}]),n}(_.a),E=n(85),R=n(71),D=n(110),T=n(241),I=n(22),B=n(11),A=n(99),M=n(111),N=n(242),$=n(49),L=n(61);function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var z=Object(c.c)("user",{state:function(){return{profile:{},selectedAddress:{},serverFingerprint:"",initialized:!1}},getters:{loggedIn:function(e){return!!e.profile.id},hasSelectedAddress:function(e){var t,n;return!(null===(t=e.selectedAddress)||void 0===t||!t.longitude||null===(n=e.selectedAddress)||void 0===n||!n.latitude)},displaySelectedAddress:function(){return this.hasSelectedAddress&&Object(A.a)(this.selectedAddress)}},actions:{setInitialized:function(){this.initialized=!0},setUser:function(e){this.profile=e,Object(N.c)(this.loggedIn)},setSelectedAddress:function(address){this.selectedAddress=address,localStorage.setItem("profile/address",JSON.stringify(address)),Object(B.a)("store_dependant")},restoreSelectedAddress:function(){try{var e=JSON.parse(localStorage.getItem("profile/address"));if(!e)throw new Error("empty address");this.profile||delete e.id,this.selectedAddress=e}catch(e){var t,n;null!==(t=this.profile)&&void 0!==t&&null!==(n=t.address)&&void 0!==n&&n.length&&this.setSelectedAddress(this.profile.address[this.profile.address.length-1])}},fetchUser:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$nuxt.app.context,t.next=4,new f.d(n).getProfile();case 4:r=t.sent,data=r.data,e.setUser(F({address:[]},data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(I.j)("fetchUser",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},initializeUser:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.profile.id){t.next=2;break}return t.abrupt("return");case 2:return n=[Object(E.a)(),Object(R.a)(),Object(D.a)()],r=n[0],o=n[1],c=n[2],t.next=5,Promise.allSettled([r.fetchUserOrders(),o.fetchBasket(),o.getPaymentMethods(),c.fetchSessions()]);case 5:r.fetchReplacements(),Object(M.c)(r);case 7:case"end":return t.stop()}}),t)})))()},getAuthCode:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new C(r).getAuthCode(e);case 3:case"end":return n.stop()}}),n)})))()},register:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=Object(T.a)(),n.prev=2,c={data:F(F({},null!=e?e:{}),{},{magnitIDCode:Object(B.i)($.b)})},n.next=6,new f.e(r).register(c);case 6:n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),o.setAuthError(n.t0),Object(I.j)("user/register: ",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},logout:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[Object(E.a)(),Object(R.a)(),Object(D.a)()],r=n[0],o=n[1],c=n[2],e.setUser({}),t.prev=2,Object(M.b)(),!e.loggedIn){t.next=14;break}return l=e.$nuxt.app.context,t.next=8,new C(l).logout();case 8:return t.next=10,c.signOut();case 10:return t.next=12,o.fetchBasket();case 12:f=t.sent,d.a.isAxiosError(f)&&Object(L.d)();case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),Object(I.j)("user/logout: ",t.t0);case 19:return t.prev=19,r.clear(),c.clear(),o.clear(),t.finish(19);case 24:case"end":return t.stop()}}),t,null,[[2,16,19,24]])})))()},verifyPhone:function(e){var t=this.$nuxt.app.context;return new C(t).verifyPhone(e)},updateProfile:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,data=F({},e),n.next=4,new f.e(r).updateProfile(data);case 4:t.setUser(F(F({},t.profile),data)),new f.c(r).updateProfile(data);case 6:case"end":return n.stop()}}),n)})))()},notificationContact:function(e){var t=this.$nuxt.app.context;return new f.c(t).notificationContact(e)},updateLoyaltyCard:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.replace(/ /gi,""),t.profile.loyaltyCard!==r){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,t.updateProfile({loyaltyCard:r});case 5:case"end":return n.stop()}}),n)})))()},fetchProtocol:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new S(n).fetchProtocol();case 3:return r=t.sent,o=r.userProtocol,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))()},addProfileAddress:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new f.c(r).addAddress(Object(A.b)(e));case 3:return o=n.sent,data=o.data,n.abrupt("return",data);case 6:case"end":return n.stop()}}),n)})))()},fetchFaq:function(){var e=this.$nuxt.app.context;return new f.a(e).getBlockFaq()},updateProfileAddress:function(e){var t=this.$nuxt.app.context;return new f.c(t).updateAddress(Object(A.b)(e))},deleteProfileAddress:function(e){var t=this.$nuxt.app.context;return new f.c(t).removeAddress(e)},setServerFingerprint:function(e){this.serverFingerprint=e}}})},,,,,function(e,t,n){"use strict";var r=n(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.ref)(e),n=function(e){return t.value=e},o=function(){return n(!0!==t.value)};return{value:t,toggle:o,setValue:n}}},function(e,t,n){"use strict";var r=n(21),o=n(0),c=(n(12),n(13),n(14),n(15),n(31)),l=n(4),d=(n(33),n(20),n(26),n(65),n(29),n(79),n(5),n(9),n(10),n(25)),f=n(179),v=n(112),m=n(6),h=n(48);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(){var e=Object(r.h)(),t=Object(h.e)(Object(v.a)()),n=t.bannersFirstCategory,l=t.bannersSecondCategory,O=t.bannersThirdCategory,j=t.categoryList,_=t.categorySeo,k=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],base=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/express/catalog",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){var o="".concat(base,"/").concat(t.code),c=y(y({},t),{},{url:o,root_id:(null==r?void 0:r.id)||(null==n?void 0:n.id),parent_id:null==n?void 0:n.id,children:[]}),l=e(t.children||[],o,c,r);return c.children=l,c}))},x=Object(o.computed)((function(){var e=Object(c.a)(j.value);return k(e)})),w=Object(o.computed)((function(){var t,n=((null===(t=e.params)||void 0===t?void 0:t.pathMatch)||"").split("/"),r=[];return Object(d.reduce)(n,(function(e,t){var n=Object(d.findLast)(e,(function(e){return e.code===t}));return n&&r.push(n),Object(c.a)((null==n?void 0:n.children)||[])}),Object(c.a)(x.value)),r})),C=Object(o.computed)((function(){return w.value.length&&w.value[w.value.length-1]})),P=Object(o.computed)((function(){var e,t;return null===(e=_.value)||void 0===e||null===(t=e.seo)||void 0===t?void 0:t.title})),S=Object(o.computed)((function(){var e,t;return null===(e=_.value)||void 0===e||null===(t=e.seo)||void 0===t?void 0:t.metaTitle})),E=Object(o.computed)((function(){var e,t;return null===(e=_.value)||void 0===e||null===(t=e.seo)||void 0===t?void 0:t.metaDescription})),R=Object(o.computed)((function(){var e;return null===(e=C.value)||void 0===e?void 0:e.id})),D=Object(o.computed)((function(){var t=e.name,n=e.params;return t!==m.h?null:((null==n?void 0:n.pathMatch)||"").split("/").length})),T=Object(o.computed)((function(){return 1===D.value?n.value:2===D.value?l.value:3===D.value?O.value:[]})),I=Object(o.computed)((function(){return w.value.map((function(e){return{id:null==e?void 0:e.id,label:null==e?void 0:e.name,to:null==e?void 0:e.url}}))})),B=Object(o.computed)((function(){var e=Object(c.a)(w.value).reverse().find((function(e){return e.image}));return e&&{src:null==e?void 0:e.image,alt:e.name}})),A=Object(o.computed)((function(){var t,n=((null===(t=e.params)||void 0===t?void 0:t.pathMatch)||"").split("/")||[],r={items:Object(c.a)(x.value),showLabel:!1,label:""},o=n.length;return n.forEach((function(e){var t,n=Object(d.findLast)(r.items,(function(s){return s.code===e}));if(n){var c=null==n||null===(t=n.children)||void 0===t?void 0:t.length;if(n&&c){var l=!(null==n||!n.parent_id);r={items:(null==n?void 0:n.children)||[],showLabel:o>1&&l,label:n.name}}}})),r}));return{allCategories:x,currentCategories:w,currentCategory:C,currentCategoryTitle:P,currentCategoryMetaTitle:S,currentCategoryMetaDescription:E,categorySeo:_,currentCategoryID:R,currentCategoryBreadcrumbs:I,currentCategoryImage:B,currentCategoryDepth:D,currentCategoryBanners:T,currentCategoryTree:A,getFullPath:function(e){var t,n=Object(d.last)(null===(t=e.split("/"))||void 0===t?void 0:t.filter((function(e){return""!==e})))||"",r=Object(f.b)(x.value,n,"code")||{},o=Object(f.a)(x.value,null==r?void 0:r.id);return null!=o&&o.length?Object(d.reduce)(o,(function(e,t){return"".concat(e,"/").concat(t.code)}),"/express/catalog"):""}}}},function(e,t,n){"use strict";var r=n(0),o=(n(5),n(35),n(36),n(59));t.a=function(){var e=Object(r.ref)(!1),data=Object(r.ref)(null),t=Object(r.ref)(null),n=Object(r.ref)(null),c=function(){return{}};return{loading:e,data:data,error:t,cancel:c,run:function(r){var l=new Promise((function(e){c=function(){return e({data:null,cancelled:!0})}})),d=new Promise((function(l,d){e.value=!0,t.value=null,n.value=null;var f=r(l,d,c);Object(o.i)(f)&&f.then(l).catch(d)})).then((function(e){return data.value=e,e})).catch((function(e){var r,o;return t.value=e,n.value=(null===(r=e.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||e.message,console.warn("use-promise::error",e,{errorMessage:n.value}),e})).then((function(){return e.value=!1,c=function(){return{}},t.value||data.value}));return Promise.race([l,d])},errorMessage:n}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),o=(n(350),n(43),n(182),n(12),n(20),n(75),n(543),function(e){var t=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h1=3735928559^n,h2=1103547991^n,i=0;i<e.length;i++)t=e.charCodeAt(i),h1=Math.imul(h1^t,2654435761),h2=Math.imul(h2^t,1597334677);return h1=Math.imul(h1^h1>>>16,2246822507)^Math.imul(h2^h2>>>13,3266489909),4294967296*(2097151&(h2=Math.imul(h2^h2>>>16,2246822507)^Math.imul(h1^h1>>>13,3266489909)))+(h1>>>0)}(function(data,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var t,n="boolean"==typeof e.cycles&&e.cycles,o=e.cmp&&(t=e.cmp,function(e){return function(a,b){var n={key:a,value:e[a]},r={key:b,value:e[b]};return t(n,r)}}),c=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?"".concat(t):"null";if("object"!==Object(r.a)(t))return JSON.stringify(t);var i,l;if(Array.isArray(t)){for(l="[",i=0;i<t.length;i++)i&&(l+=","),l+=e(t[i])||"null";return"".concat(l,"]")}if(null===t)return"null";if(c.includes(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=c.push(t)-1,f=Object.keys(t).sort(o&&o(t));for(l="",i=0;i<f.length;i++){var v=f[i],m=e(t[v]);m&&(l&&(l+=","),l+="".concat(JSON.stringify(v),":").concat(m))}return c.splice(d,1),"{".concat(l,"}")}}(data)}(e));return String(t)})},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return j}));n(13),n(14),n(15);var r=n(4),o=n(19),c=(n(20),n(29),n(5),n(9),n(182),n(26),n(63),n(255),n(33),n(10),n(12),n(72),n(552),n(25));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n&&"object"===Object(o.a)(n)?Object(c.forEach)(n,(function(n,o){e(t,n,""===r?o:"".concat(r,"[").concat(o,"]"))})):t.append(r,n)}if(data&&!Object(c.isEmpty)(data)){var t=new FormData;return e(t,data),t}}function v(address){return{addressId:(null==address?void 0:address.id)||null,addressCity:(null==address?void 0:address.city)||"",addressStreet:(null==address?void 0:address.street)||"",addressHouse:(null==address?void 0:address.house)||"",latitude:(null==address?void 0:address.latitude)||"",longitude:(null==address?void 0:address.longitude)||"",addressEntrance:(null==address?void 0:address.entrance)||"",addressDoorPhone:(null==address?void 0:address.doorPhone)||"",addressFloor:(null==address?void 0:address.floor)||"",addressApartment:(null==address?void 0:address.apartment)||"",addressComment:(null==address?void 0:address.comment)||""}}var m=function(e){return{basketId:e.basketId,good_id:e.good_id,name:e.name,isWeight:e.isWeight,quantity:e.quantity,grammarStep:e.grammarStep,required:e.quantity,price:e.price,positionPrice:e.positionPrice,product:e.product}},h=function(e){var t={};return e.sort((function(e){return e.replace?1:-1})).forEach((function(e){if(e.replace){var n,r,o,c=(null===(n=t[e.replace.good_id])||void 0===n?void 0:n.replaces)||{},l=e.replace,f=l.good_id,v=l.name,h=l.isWeight,O=l.grammarStep,y=l.quantity,j=l.required,_=l.price,k=l.positionPrice,x=l.product;c[e.good_id]=m(e),t[f]={basketId:e.basketId,good_id:f,name:v,isWeight:h,grammarStep:O,quantity:(null===(r=t[f])||void 0===r?void 0:r.quantity)||y,required:(null===(o=t[f])||void 0===o?void 0:o.required)||j,price:_,positionPrice:k,product:x,replaces:c,replaceStatus:""}}else{var w={};e.required!==e.quantity&&(w[e.good_id]=m(e)),t[e.good_id]=d(d({},e),{},{replaceStatus:"",replaces:w})}})),Object.values(t)},O=function(e){return e.map((function(e){var t=d({},e);return t.required===t.quantity||t.replace||(t.replace=d({},e),t.required=t.quantity),t}))},y=function(e){return e.filter((function(e){return!Object.keys(e.replaces).length||e.replaceStatus&&"removed"!==e.replaceStatus})).map((function(e){if(e&&e.replaceStatus){var t=e.replaces[+e.replaceStatus];if(t)return{basketId:t.basketId,good_id:t.good_id,amount:t.quantity,required:t.required}}return{basketId:e.basketId,good_id:e.good_id,amount:e.quantity,required:e.required}}))},j=function(address){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["street","house","apartment"];if(!address)return"";var t=[];return e.forEach((function(s){t.push(address[s])})),t.filter((function(s){return!!s})).join(", ")}},function(e,t,n){"use strict";var r=n(21),o=n(101),c=n(250),l=n(0),d=(n(12),n(13),n(10),n(5),n(14),n(9),n(15),n(3)),f=n(4),v=(n(41),n(20),n(71)),m=n(38),h=n(51),O=n(126),y=n(105);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(){var e=Object(v.a)(),t=Object(r.j)("subscribersCount",(function(){return 0})),n=Object(r.j)("intervalToken",(function(){return null})),f=Object(r.j)("isDeliveryWorks",(function(){return!1})),j=Object(r.j)("isShopChanged",(function(){return!1})),k=Object(r.j)("isCteNotificationClosed",(function(){return!1})),x=Object(o.a)().selectedAddress,w=Object(c.a)().isIncreasedCteNotificationEnabled,C=Object(l.computed)({get:function(){var t=e.shop||{};return _(_({},t),{},{delivery_work_till:Object(O.b)(t.delivery_work_till),delivery_work_from:Object(O.b)(t.delivery_work_from)})},set:function(t){return e.setShop(t||{})}}),P=Object(l.computed)((function(){return e.shopId})),S=Object(l.computed)((function(){return C.value.im_version||""})),E=Object(l.computed)((function(){return C.value.delivery_work_from})),R=Object(l.computed)((function(){return C.value.delivery_work_till})),D=Object(l.computed)((function(){return C.value.promised_delivery_time||60})),T=Object(l.computed)((function(){return C.value.active&&C.value.promised_delivery_time_add>0&&w.value})),I=Object(l.computed)((function(){return C.value.active&&!k.value&&T.value})),B=Object(l.computed)((function(){return"Привезём за ".concat(D.value," минут, много заказов. Торопимся, но хотим собрать их аккуратно и всё проверить")})),A=Object(l.computed)((function(){return C.value.active&&f.value})),M=Object(l.computed)((function(){return!C.value.xml_id})),N=Object(l.computed)((function(){return!M.value&&A.value?"":M.value?"no_store":M.value||A.value?"":"no_delivery"})),$=Object(l.computed)((function(){return M.value?y.j:A.value?"":y.m})),L=Object(l.computed)((function(){if(!E.value||!R.value)return{workFrom:"",workTill:""};var e={hour:"numeric",minute:"numeric",hour12:!1};return{workFrom:new Date(E.value).toLocaleTimeString("en-US",e),workTill:new Date(R.value).toLocaleTimeString("en-US",e)}})),U=Object(l.computed)((function(){return L.value.workFrom})),F=Object(l.computed)((function(){return L.value.workTill})),z=Object(l.computed)((function(){return C.value.active&&(U.value||F.value)?"Принимаем заказы с ".concat(U.value," по ").concat(F.value):y.n})),V=Object(l.computed)((function(){return C.value.promised_delivery_time_add})),H=Object(l.computed)((function(){return C.value.duplicate_understudy})),G=Object(l.computed)((function(){return H.value?1:0})),K=function(){f.value=Object(O.a)(E.value,R.value)},W=function(){t.value>0||n.value&&(clearTimeout(n.value),n.value=null)},J=function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchShop(n);case 2:return C.value=t.sent,j.value=!1,t.abrupt("return",C.value);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((o={x:null===(n=x.value)||void 0===n?void 0:n.latitude,y:null===(r=x.value)||void 0===r?void 0:r.longitude}).x&&o.y&&P.value){t.next=3;break}return t.abrupt("return",{result:!1});case 3:return c=P.value,t.next=6,e.fetchShop(o);case 6:return l=t.sent,d=c!==(null==l?void 0:l.xml_id),t.abrupt("return",{result:d,shop:l});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X();case 2:if(n=t.sent,r=n.shop,!0!==(o=n.result)){t.next=15;break}return Object(m.a)("shop-changed",C),j.value=!0,t.next=10,e.setShop(r||{});case 10:return t.next=12,e.fetchBasket();case 12:N.value&&Object(h.k)({action:N.value,mode:"address"}),t.next=16;break;case 15:j.value=!1;case 16:return t.abrupt("return",{shop:r,result:o});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.watch)(C,(function(){return K()})),Object(l.onMounted)((function(){var e,r,o;t.value+=1,K(),W(),e=C.value,r=e.is_work,o=e.active,r&&o&&!n.value&&(n.value=setInterval((function(){return K()}),6e4))})),Object(l.onUnmounted)((function(){t.value-=1,W()})),{isDeliveryWorks:f,isWorking:A,isNoStore:M,deliveryAvailabilityAction:N,locationsHint:$,shopClosedHint:z,deliveryTime:D,showCteNotificationPersistent:T,showCteNotificationClosable:I,increasedCteHint:B,subscribersCount:t,intervalToken:n,imVersion:S,shop:C,shopId:P,isShopChanged:j,duplicateUnderstudyOrder:G,additionalCTE:V,fetchShop:function(address){return J({x:address.latitude,y:address.longitude})},fetchShopByCoordinates:J,checkCurrentShopChange:X,setActiveShop:Q,closeIncreasedCteNotification:function(){return k.value=!0}}}},function(e,t,n){"use strict";var r=n(0),o=(n(12),n(13),n(14),n(9),n(15),n(4)),c=n(31),l=n(3),d=(n(41),n(72),n(10),n(5),n(20),n(75),n(25)),f=n(87),v=n(71),m=n(112),h=n(59),O=n(51);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(){var e=[Object(f.a)(),Object(v.a)(),Object(m.a)()],t=e[0],n=e[1],o=e[2],y=Object(r.computed)((function(){return t.hasSelectedAddress})),_=Object(r.computed)((function(){return t.displaySelectedAddress})),k=Object(r.computed)((function(){return t.profile})),x=Object(r.computed)((function(){return t.initialized})),w=Object(r.computed)((function(){var e;return(null===(e=k.value)||void 0===e?void 0:e.address)||[]})),C=Object(r.computed)({get:function(){return t.selectedAddress},set:function(e){return t.setSelectedAddress(e)}}),P=Object(r.computed)((function(){var e;return null===(e=C.value)||void 0===e?void 0:e.city})),S=Object(r.computed)((function(){var e,t;return[null===(e=C.value)||void 0===e?void 0:e.street,null===(t=C.value)||void 0===t?void 0:t.house].filter((function(s){return!!s})).join(" ")})),E=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,l,d,address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=k.value)&&void 0!==r&&r.id){e.next=2;break}return e.abrupt("return",n);case 2:if(o=["city","street","house","entrance","doorPhone","floor","apartment","latitude","longitude"],!(l=Object(h.d)(w.value,n,o))){e.next=6;break}return e.abrupt("return",l);case 6:return e.next=8,t.addProfileAddress(n);case 8:return d=e.sent,address=[].concat(Object(c.a)(w.value),[d]),t.setUser(j(j({},k.value),{},{address:address})),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=k.value)&&void 0!==r&&r.id){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,t.updateProfileAddress(n);case 4:return o=Object(d.findIndex)(w.value,(function(e){return(null==e?void 0:e.id)===n.id})),(address=Object(c.a)(w.value)).splice(o,1,n),t.setUser(j(j({},k.value),{},{address:address})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==t.selectedAddress.id){e.next=3;break}throw Object(O.l)("Ошибка","Невозможно удалить выбранный адрес. Смените адрес доставки и повторите попытку.","Хорошо"),new Error("Error you can not remove current address");case 3:return e.next=5,t.deleteProfileAddress(n);case 5:r=Object(d.findIndex)(w.value,(function(e){return(null==e?void 0:e.id)===n})),(address=Object(c.a)(w.value)).splice(r,1),t.setUser(j(j({},k.value),{},{address:address}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(address){var t,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.value=address,t=null==address?void 0:address.latitude,r=null==address?void 0:address.longitude,e.next=4,n.fetchShop({x:t,y:r});case 4:return c=e.sent,e.next=7,n.setShop(c||{});case 7:return e.next=9,n.fetchBasket();case 9:o.fetchCategoryList();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addressList:w,selectedAddress:C,cityAddress:P,streetAddress:S,hasSelectedAddress:y,displaySelectedAddress:_,initialized:x,addProfileAddress:E,updateProfileAddress:R,deleteProfileAddress:D,applySelectedAddress:T}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return S}));n(12),n(13),n(10),n(14),n(9),n(15);var r=n(4),o=(n(145),n(53),n(144),n(5),n(69),n(43),n(54),n(105));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d=400,f=401,v=403,m=404,h=500,O=503,y=504,j=505,_="render",k="client",x=function e(){var code,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=Number.isNaN(+t)?t:+t,r="",o="",c="",x="",w="";switch(n){case d:code=d,r="Неверный запрос";break;case f:code=f,r="Не авторизован";break;case v:code=v,r="Запрещено";break;case m:code=m,r="Такой страницы не существует",o="Скорее всего, это случилось потому что страница переехала, страницы больше нет или ссылка неправильная",c="/images/error/404.png",x="На главную",w="/";break;case h:code=h,r="Внутренняя ошибка сервера";break;case O:code=O,r="Сервис недоступен";break;case y:code=y,r="504 Gateway Time-out";break;case j:code=j,r="Ваш браузер не поддерживается",o="Рекомендуем скачать последнюю версию Google Chrome",c="/images/error/505.png",x="Скачать Google Chrome",w="https://www.google.ru/chrome/";break;case _:code=_,r="Произошла ошибка и мы не можем отрисовать некоторые элементы страницы";break;case k:code=k,r="Возникла ошибка на стороне клиента";break;default:if(t.toString().startsWith("4"))return e(d);var C=e(h);return code=t||C.code,l(l({},C),{},{code:code})}return{code:code,message:r,description:o,imgUrl:c,linkTitle:x,linkUrl:w}},w=function(e){var t,n,r,o,c,l;return"response"in e?{error:e,statusCode:(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e?void 0:e.code)||404,message:"string"!=typeof(null==e||null===(n=e.response)||void 0===n?void 0:n.data)||e.response.data.includes("doctype html")?(null==e||null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||(null==e||null===(l=e.response)||void 0===l?void 0:l.statusText)||e.message:null==e||null===(r=e.response)||void 0===r?void 0:r.data}:{error:e,message:e.message}},C=function(e){return w(e).statusCode===m},P=function(e){return w(e)},S=function(e){var t,n,r;return function(e){return 424===w(e).statusCode}(e)?(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.customer_error)||o.g:null}},,,function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"o",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"l",(function(){return y})),n.d(t,"i",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return x}));var r="К сожалению, пока у нас нет доставки по этому адресу.",o="На данный момент магазин перестал принимать заказы",c="Привезём заказ без этих товаров. Деньги за них вернутся на карту",l="При сборке оказалось, что некоторые товары закончились, изменили вес или количество.",d="Сейчас магазин закрыт. Когда он откроется, можно будет оформить заказ.",f="Пользователь с таким номером телефона уже существует",v="Заменить не получится",m="Вы удалили из заказа",h="Подтвердите замены",O="Уже собрано",y="Замены",j="В заказе",_="Выберите один из доступных вариантов или удалите товар из заказа",k="Ошибка добавления товара",x="На карте не хватает средств или карта не действительна. Пополните счет или выберите другой способ оплаты"},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return j}));n(20);var r="reconciliation",o="delivered",c="notDelivered",l="canceled",d="holdError",f="canceledNotPaid",v=["created","assembly","readyToReassembly","reassembly","paidAtCheckout","assembled","delivery","default"],m=["GC"],h=["GI","GJ","GK"],O=["GH"],y=[].concat(["GA"],["GB"],["GD","GE","GF","GL"],["GG"]),j=["GC","GD"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(26),n(63),n(5),n(69),n(387);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toFixed(2).toString().replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ").replace(",00","")||e;return t?"".concat(n," ₽"):n}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(247),o={},c=function(e,t){var n=o[e];if(!n){var c=t||{sync:!1,limit:20},l=new r.a(e,c);return o[e]=l,l}return n},l=function(){return c("modal-collection",{sync:!1,limit:100})},d=function(){return c("auth",{sync:!1,limit:20,uniq:"name"})},f=function(){return c("elements",{sync:!1,limit:100,uniq:"id"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(4),o=n(3),c=(n(41),n(79),n(5),n(9),n(12),n(13),n(10),n(14),n(15),n(48)),l=n(34),d=n(22),f=n(11),v=n(32),m=n(49);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=Object(c.c)("session",{state:function(){return{sessions:[],envConfig:{}}},getters:{currentSession:function(e){return e.sessions.find((function(s){return s.currentSession}))}},actions:{setCookies:function(e){null!=e&&e.access&&Object(f.z)(m.a,e.access),null!=e&&e.refresh&&Object(f.z)(m.d,e.refresh),null!=e&&e.id&&Object(f.z)(m.b,e.id)},setEnvConfig:function(e){this.envConfig=e},clearCookies:function(){[m.b,m.a,m.d,m.c].forEach(f.y)},fetchSessions:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.prev=1,t.next=4,new l.f(n).fetchSessions();case 4:r=t.sent,e.sessions=r,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(d.j)("session/fetchSessions: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},fetchTokens:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,h,O,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,r=Object(f.i)(m.d),t.prev=2,c={data:{aud:null===(o=Object(v.j)())||void 0===o?void 0:o.aud,magnitIDCode:Object(f.i)(m.b),refreshToken:r}},t.next=6,new l.f(n).fetchTokens(c);case 6:h=t.sent,O=h.accessToken,y=h.refreshToken,e.setCookies({access:O,refresh:y}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Object(d.j)("session/fetchTokens: ",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},refreshTokens:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,h,y,j,_,k,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:{},o=t.$nuxt.app.context,c=Object(f.i)(m.d)){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,j=O(O({},r),{},{data:O(O({},null!==(h=r.data)&&void 0!==h?h:{}),{},{aud:null===(y=Object(v.j)())||void 0===y?void 0:y.aud,refreshToken:c})}),n.next=9,new l.f(o).refreshTokens(j);case 9:_=n.sent,k=_.accessToken,x=_.refreshToken,t.setCookies({access:k,refresh:x}),n.next=19;break;case 15:throw n.prev=15,n.t0=n.catch(5),Object(d.j)("session/refreshTokens: ",n.t0),n.t0;case 19:case"end":return n.stop()}}),n,null,[[5,15]])})))()},signOut:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$nuxt.app.context,null!==(n=e.currentSession)&&void 0!==n&&n.sessionId){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,c={data:{sessionId:null===(o=e.currentSession)||void 0===o?void 0:o.sessionId}},t.next=7,new l.f(r).signOut(c);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),Object(d.j)("session/signOut: ",t.t0);case 12:return t.prev=12,e.clear(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,9,12,15]])})))()},clear:function(){this.clearCookies()}}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return S}));n(12),n(13),n(10),n(14),n(15);var r=n(31),o=n(4),c=n(3),l=n(18),d=n(17),f=(n(41),n(204),n(5),n(35),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(36),n(9),n(79),n(43),n(54),n(38)),v=n(106),m=n(61),h=n(51),O=n(99),y=n(22),j=n(102),_=n(248);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=function(){function e(){Object(l.a)(this,e),this.orders=new Map,this.targetOrderId=-1,this.replacementOrders=new Map,this.intervalToken=null,this.replacementInterval=null,this.replacementRefreshTime=6e4,this.ordersStore=null}var t,n;return Object(d.a)(e,[{key:"initialize",value:function(e){var t=this;this.ordersStore=e,this.replacementInterval=new _.a(Object(c.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.fetchReplacements();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),(null===(r=n.t0.response)||void 0===r?void 0:r.status)===j.a&&t.clearRefreshInterval();case 8:case"end":return n.stop()}}),n,null,[[0,5]])}))),this.replacementRefreshTime)}},{key:"isDataEmulated",value:function(){return null===this.replacementInterval}},{key:"getStore",value:function(){return this.ordersStore}},{key:"getOrder",value:function(e){return this.orders.get(e)}},{key:"setOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.orders.set(e.orderId,e),t&&(this.targetOrderId=e.orderId),Object(f.a)("orders-manager-set",e),Object(y.g)("setting new order:",{order:e})}},{key:"getTargetOrder",value:function(){return-1===this.targetOrderId?null:this.getOrder(this.targetOrderId)}},{key:"getReplacementOrder",value:function(e){return this.replacementOrders.get(e)}},{key:"setReplacementOrders",value:function(e){var t=this;return this.clearReplacementOrders(),e.forEach((function(e){return t.setReplacementOrder(e)})),!this.intervalToken&&e.length&&(this.intervalToken=setInterval((function(){return t.intervalUpdateReplacementOrders()}),1e3)),this.replacementOrders}},{key:"clearRefreshInterval",value:function(){this.replacementInterval&&(this.replacementInterval.destroy(),this.replacementInterval=null,Object(y.g)("Replacements auto-refresh stopped"))}},{key:"fetchUserOrder",value:(n=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],r=this.getStore()){e.next=4;break}return e.abrupt("return",null);case 4:if(Object(y.g)({targetOrder:this.getTargetOrder(),targetId:this.targetOrderId,orders:this.orders}),!this.isDataEmulated()){e.next=7;break}return e.abrupt("return",this.getTargetOrder());case 7:return e.next=9,r.fetchUserOrder(t);case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return n&&this.orders.delete(t),(c=this.parseOrder(o))&&this.setOrder(c,!0),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setUserOrder",value:function(e){var t=this.parseOrder(e);t&&this.setOrder(t,!0)}},{key:"fetchOrderList",value:function(e){var t=this.getStore();if(this.isDataEmulated()){var n=[];return this.orders.forEach((function(e){return n.push(e)})),new Promise((function(e){null==t||t.setUserOrders({orders:n,pages:1}),e(n)}))}return null==t?void 0:t.fetchUserOrders(e)}},{key:"clearReplacementOrders",value:function(){this.intervalToken&&clearInterval(this.intervalToken),this.replacementOrders=new Map,Object(y.g)("clearing replacements")}},{key:"getReplacementBasket",value:function(e){var t=e.original_basket||e.basket||[];return Object(O.f)(t)}},{key:"getInsufficientAmountBasket",value:function(e){var t=e.original_basket||e.basket||[];return Object(O.d)(t)}},{key:"parseOrder",value:function(e){var t=e.orderId,n=e.orderStatusId,o=e.basket.find((function(e){return e.required!==e.quantity})),c=this.getOrder(t);if((null==c?void 0:c.orderStatusId)!==e.orderStatusId)this.orders.delete(t);else if(this.targetOrderId===t)return this.getTargetOrder();var l=this.getOrder(t)||e,d=e.original_basket||e.basket;return"GC"===n?l=x(x({},e),{},{original_basket:Object(r.a)(d),basket:this.getReplacementBasket(e)}):o&&(l=x(x({},e),{},{original_basket:Object(r.a)(d),basket:this.getInsufficientAmountBasket(e)})),l}},{key:"getReplacementTimeLeft",value:function(e){var t=e.reconciliationTime,n=e.reconciliationDuration,r=Math.floor(Date.now()/1e3),o=Math.abs(t-r),c=o>n?n:o;return c>0?c:0}},{key:"removeReplacementOrder",value:function(e){Object(y.g)("removing replace order:",{replaceOrder:this.replacementOrders.get(e)}),this.replacementOrders.delete(e),this.replacementOrders.size||this.clearReplacementOrders()}},{key:"setReplacementOrder",value:function(e){var t=e.orderId,n=e.statusId;if(v.k.includes(n)){var r=this.getReplacementTimeLeft(e),o=0===r,c={replaceOrder:e,status:n,id:t,timeLeft:r,finished:o};this.replacementOrders.set(t,c),o&&this.handleReplacementAlert(t),Object(f.a)("replacement-set",c)}else this.removeReplacementOrder(t)}},{key:"intervalUpdateReplacementOrders",value:function(){var e=this;this.replacementOrders.forEach((function(t){if(!t.finished){var n=t.replaceOrder.orderId,r=t.timeLeft-1,o=r<=0;o&&(Object(y.g)("replacement time-out:",{replaceOrder:t}),e.handleReplacementAlert(n)),e.replacementOrders.set(n,x(x({},t),{},{timeLeft:r,finished:o}))}}))}},{key:"handleReplacementAlert",value:(t=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,O,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getStore(),o=this.replacementOrders.get(t)){e.next=4;break}return e.abrupt("return");case 4:if(c=o.replaceOrder.statusId,!(l=!this.isDataEmulated()&&!!r)||!r){e.next=9;break}return e.next=9,r.handleOrderReplacementTimeout(t);case 9:d=v.a.includes(c),O=Object(m.a)(),j=String(null===(n=O.params)||void 0===n?void 0:n.orderId)===String(t),(d||j)&&(l&&j&&r&&r.setReplacementViewed(t),Object(h.w)({data:{statusId:c,orderId:t},redirect:j})),Object(y.g)("replacement time-out:",{replaceOrder:o}),l||Object(y.g)("alert postData:",{redirect:j,orderId:t,statusId:c}),Object(f.a)("replacement-alert",{orderId:t,statusId:c});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"export",value:function(){var e=[],t=[];return this.orders.forEach((function(t,n){e.push([n,t])})),this.replacementOrders.forEach((function(e,n){t.push([n,e])})),{ordersArr:e,replacementsArr:t,targetOrderId:this.targetOrderId}}},{key:"clear",value:function(){this.orders=new Map,this.targetOrderId=-1,this.clearReplacementOrders()}}]),e}(),C=new w;t.a=C;var P=function(e){return C.initialize(e)},S=function(){return C.clearRefreshInterval()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n(12),n(13),n(10),n(14),n(9),n(15);var r=n(37),o=n(31),c=n(4),l=n(3),d=(n(20),n(5),n(35),n(36),n(33),n(43),n(54),n(29),n(56),n(41),n(48)),f=n(25),v=n(34);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O=Object(d.c)("catalog",{state:function(){return{productList:[],categorySeo:{},productFilters:[],sortItems:[],productsCount:0,pageSize:20,favoriteCategoryList:[],catalogBrands:[],searchRecommendations:[],searchHistory:[],searchNotFound:!1,searchCount:0,searchData:{categories:[],count:0,countCategories:0,items:[],suggestions:[]},searchQuery:{q:"",is_count:!1},categoryList:[],catalogBanners:[]}},getters:{pagesCount:function(e){return Math.ceil(e.productsCount/(e.pageSize||20))},bannersFirstCategory:function(e){var t;return(null===(t=e.catalogBanners)||void 0===t?void 0:t[0])||[]},bannersSecondCategory:function(e){var t;return(null===(t=e.catalogBanners)||void 0===t?void 0:t[1])||[]},bannersThirdCategory:function(e){var t;return(null===(t=e.catalogBanners)||void 0===t?void 0:t[2])||[]}},actions:{clearProductList:function(){this.productList=[]},setSearchNotFound:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.searchNotFound=e},fetchSearchRecommendations:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$nuxt.app.context,t.next=4,new v.b(n).getOftenSearched();case 4:r=t.sent,o=r.data.recommendations,e.searchRecommendations=o,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.searchRecommendations=[];case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchSearchData:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,c,l,d,f,param,m,O;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d=e.searchQuery,f=e.spreadItems,param=h(h({},d),{},{is_count:!t.searchCount||(null==t||null===(r=t.searchQuery)||void 0===r?void 0:r.q)!==d.q}),t.setSearchNotFound(!1),null!=d&&null!==(c=d.q)&&void 0!==c&&c.length&&!((null==d||null===(l=d.q)||void 0===l?void 0:l.length)<3)){n.next=6;break}return t.clearSearchData(),n.abrupt("return");case 6:return m=t.$nuxt.app.context,n.next=9,new v.b(m).getSearchData(param);case 9:(O=n.sent).count&&(t.searchCount=O.count),t.searchQuery=param,O.items.length?(t.searchData=f?h(h({},O),{},{items:[].concat(Object(o.a)(t.searchData.items),Object(o.a)(O.items))}):O,t.addSearchHistoryItem(param.q)):(t.clearSearchData(),t.setSearchNotFound(!0));case 13:case"end":return n.stop()}}),n)})))()},fetchBanners:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,o,c,l,d,f,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.catalogBanners.length){t.next=2;break}return t.abrupt("return");case 2:return n=e.$nuxt.app.context,o=["catalog-banner-one-express","catalog-banner-two-express","catalog-banner-three-express"],c=new v.a(n),t.next=7,Promise.all(o.map((function(e){return c.getBanners(e)})));case 7:l=t.sent,d=Object(r.a)(l,3),f=d[0],m=d[1],h=d[2],e.catalogBanners=[f.data,m.data,h.data];case 13:case"end":return t.stop()}}),t)})))()},fetchProductList:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,c,l,d,m,h,O,y,j;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.catalogName,c=e.params,l=e.config,d=t.$nuxt.app.context,n.next=4,new v.b(d).getProductList(r,c,l);case 4:m=n.sent,h=m.items,O=m.filters,y=m.count,j=m.pageSize,t.productList=c.spread?Object(f.uniqBy)([].concat(Object(o.a)(t.productList),Object(o.a)(h)),"id"):h,t.productFilters=O,t.productsCount=y,t.pageSize=j;case 10:case"end":return n.stop()}}),n)})))()},fetchCatalogSortItems:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sortItems.length){t.next=2;break}return t.abrupt("return");case 2:return n=e.$nuxt.app.context,t.next=5,new v.b(n).getCatalogSortItems(void 0,{cache:!0});case 5:r=t.sent,o=r.items,e.sortItems=(o||[]).map((function(e){return e.name.includes("По цене")?h(h({},e),{},{name:"По цене"}):e}));case 8:case"end":return t.stop()}}),t)})))()},fetch:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.catalogName,o=[t.fetchProductList(e),t.fetchCategorySeo(r),t.fetchCatalogSortItems(),t.fetchBanners()],n.next=4,Promise.all(o);case 4:case"end":return n.stop()}}),n)})))()},fetchCategoryList:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new v.b(n).getCategoryList(void 0,{cache:!0});case 3:r=t.sent,e.categoryList=(null==r?void 0:r.items)||[];case 5:case"end":return t.stop()}}),t)})))()},fetchProduct:function(e){var t=this.$nuxt.app.context;return new v.b(t).getProduct(e,{cache:!0})},fetchProductSeo:function(e){var t=this.$nuxt.app.context;return new v.b(t).getProductSeo(e,{cache:!0})},fetchCategorySeo:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,n.next=3,new v.b(r).getCategorySeo(e,{cache:!0});case 3:o=n.sent,data=o.data,t.categorySeo=data;case 6:case"end":return n.stop()}}),n)})))()},fetchSearchHistory:function(){this.searchHistory=JSON.parse(localStorage.getItem("searchHistory"))||[]},clearSearchData:function(){this.searchData={categories:[],count:0,countCategories:0,items:[],suggestions:[]}},addSearchHistoryItem:function(e){this.searchHistory.includes(e)||(this.searchHistory=[e].concat(Object(o.a)(this.searchHistory.slice(0,4))),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory)))}}})},function(e,t,n){"use strict";var r=n(68),o=n(100),c=n(94),l=n(0),d=n(37),f=n(3),v=(n(41),n(53),n(20),n(29),n(5),n(48)),m=n(71),h=n(85),O=n(129),y=n(51),j=n(32),_=n(107),k=n(105),x=(n(12),n(13),n(10),n(14),n(9),n(15),n(4));function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var C=function(e){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(x.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({orderId:e.id},e)};t.a=function(){var e=Object(r.a)(["clear-cart"]),t=[Object(m.a)(),Object(h.a)()],n=t[0],x=t[1],w=Object(v.e)(n),P=w.basket,S=w.basketAvailableProducts,E=w.basketCurrentPrice,R=w.bonusPoints,D=w.basketDiscount,T=w.couponsDiscount,I=w.basketCoupon,B=w.basketCouponCode,A=w.basketCouponApply,M=w.deliveryData,N=w.deliveryCosts,$=Object(o.a)(),L=$.isNoStore,U=$.isDeliveryWorks,F=$.isWorking,z=$.shopClosedHint,V=Object(c.a)(),H=V.run,G=V.errorMessage,K=Object(l.ref)(!1),W=Object(l.computed)((function(){return Number(M.value.currentDeliveryPrice)>0&&N.value.free_delivery_from>0?N.value.free_delivery_from:0})),J=Object(l.computed)((function(){var e;return(null===(e=P.value)||void 0===e?void 0:e.itemCount)||0})),X=Object(l.computed)((function(){var e,t;return(null===(e=P.value)||void 0===e||null===(t=e.unavailableItems)||void 0===t?void 0:t.length)||0})),Q=Object(l.computed)((function(){return J.value+X.value})),Y=Object(l.computed)((function(){var e;return(null===(e=P.value)||void 0===e?void 0:e.unavailableItems)||[]})),Z=Object(l.computed)((function(){var e=S.value.length;return"".concat(e," ").concat(Object(O.a)(e,["товар","товара","товаров"]))})),ee=Object(l.computed)((function(){var e;return(null===(e=I.value)||void 0===e?void 0:e.couponStatus)||""})),te=Object(l.computed)((function(){var e;return(null===(e=I.value)||void 0===e?void 0:e.name)||""})),ne=Object(l.computed)((function(){var e;return(null===(e=P.value)||void 0===e?void 0:e.bonusPointsPercentage)||null})),re=Object(l.computed)((function(){var e,t;return(null===(e=P.value)||void 0===e?void 0:e.isRestrictionError)&&(null===(t=P.value.restrictionMessage)||void 0===t?void 0:t.message)})),oe=Object(l.computed)((function(){return S.value.reduce((function(e,t){var n,r,o;return e+((null==t||null===(n=t.product)||void 0===n||null===(r=n.offers)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.previousPrice)*(null==t?void 0:t.quantity)||0)}),0)})),ae=Object(l.computed)((function(){var e;return E.value>=W.value?1:(null===(e=P.value)||void 0===e?void 0:e.deliveryPrice)||1})),ie=Object(l.computed)((function(){return ae.value>1})),ce=Object(l.computed)((function(){return E.value+ae.value})),ue=Object(l.computed)((function(){return oe.value+ae.value})),se=Object(l.computed)((function(){var e;return(null===(e=M.value)||void 0===e?void 0:e.minOrderPrice)||null})),le=Object(l.computed)((function(){var e;return(null===(e=M.value)||void 0===e?void 0:e.maxOrderPrice)||null})),de=Object(l.computed)((function(){return null===se.value||E.value>=se.value})),pe=Object(l.computed)((function(){return null===le.value||E.value>=le.value})),fe=Object(l.computed)((function(){if(de.value)return null;var e=Object(_.a)(Number(se.value)-Number(E.value));return"До минимального заказа ".concat(e,"&nbsp;₽")})),ve=Object(l.computed)((function(){return pe.value?"Максимальная сумма заказа ".concat(le.value||0,"&nbsp;₽"):null})),me=Object(l.computed)((function(){return null!==ae.value&&null!==se.value})),he=Object(l.computed)((function(){return L.value||!U.value||!de.value||pe.value||!F.value||!!re.value})),be=Object(l.computed)((function(){var e=(L.value||!me.value)&&k.j,t=!F.value&&z.value;return e||t||fe.value||ve.value||re.value})),ge=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchBasket();case 2:return e.next=4,n.fetchDeliveryData();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){n.setBasket({})},ye=function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(j.g)(),t.next=3,Object(y.c)(!0);case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,H((function(){return n.clearBasket({shopCode:r})}));case 8:if(!G.value){t.next=10;break}return t.abrupt("return");case 10:e("clear-cart"),Oe();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),je=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Y.value.length){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,Object(y.e)(t);case 5:if(e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,n.deleteUnavailable();case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _e(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(f.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.createOrder(t);case 3:return n=e.sent,r=Object(d.a)(n.data,1),o=r[0],Oe(),e.abrupt("return",C(o));case 10:if(e.prev=10,e.t0=e.catch(0),!(null===(c=e.t0.response)||void 0===c||null===(l=c.data)||void 0===l||null===(f=l.data)||void 0===f||null===(v=f.unavailable)||void 0===v?void 0:v.length)){e.next=21;break}return e.next=16,ge();case 16:return e.next=18,je();case 18:if(!e.sent){e.next=21;break}return e.abrupt("return",_e(t));case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(l.watch)(G,(function(e){return K.value=!!e})),{basket:P,deliveryData:M,freeDelivery:W,basketItemCount:J,basketUnavailableCount:X,basketTotalCount:Q,basketAvailableProducts:S,basketUnavailableProducts:Y,basketPositions:Z,basketCoupon:I,basketCouponStatus:ee,basketCouponApply:A,basketCouponCode:B,basketCouponName:te,bonusPoints:R,bonusPointsPercentage:ne,basketDiscount:D,couponsDiscount:T,basketRestrictionMessage:re,basketCurrentPrice:E,basketCurrentOldPrice:oe,basketDeliveryPrice:ae,showDeliveryProgressBar:ie,basketTotalPrice:ce,basketTotalOldPrice:ue,basketDeliveryMinSum:se,basketDeliveryMaxSum:le,reachMinSumOrder:de,reachMaxSumOrder:pe,insufficientOrder:fe,exceedingOrder:ve,clearBasketErrorMessage:G,showClearBasketError:K,checkoutDisabled:he,checkoutDisableMessage:be,fetchBasket:ge,resetBasket:Oe,clearBasket:ye,clearUnavailableBasket:je,submitBasket:_e}}},,,,function(e,t,n){"use strict";var r=n(0);t.a=function(e){var time=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=Object(r.ref)(null),n=Object(r.computed)((function(){return null!==t.value})),o=function(){clearTimeout(t.value),t.value=null},c=function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];t.value&&o(),t.value=setTimeout((function(){return e.apply(void 0,r)}),time)},l=function(){o();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e(n)};return{call:c,clear:o,force:l,waiting:n}}},function(e,t,n){"use strict";var r=n(0),o=n(444),c={};c.props={large:Boolean,medium:Boolean},c.setup=function(e,t){var n=e;return{iconSize:Object(r.computed)((function(){return n.large?"20px":n.medium?"12px":"10px"})),iconStyle:Object(r.computed)((function(){var e=n.large?36:30;return{width:"".concat(e,"px"),height:"".concat(e,"px")}}))}},c.components=Object.assign({MButtonIcon:o.a},c.components);var l=c,d=(n(573),n(2)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement;return(e._self._c||t)("MButtonIcon",{staticClass:"m-button-close",style:e.iconStyle,attrs:{"icon-name":"close","icon-size":e.iconSize,rounded:""}})}],!1,null,null,null);t.a=component.exports},function(e,t,n){e.exports={breakpointLarge:"1366",breakpointDesktop:"1024",breakpointTablet:"768",breakpointMobile:"360",colorBrand:"#e6000e",radius:"8px","radius-large":"16px"}},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d}));n(26),n(56),n(5),n(69),n(20);function r(e){if(!e||!/\d{2}:\d{2}\+\d{2}:\d{2}/.exec(e))return null;var time=new Date,t=+e.slice(0,2),n=+e.slice(3,5);return time.setHours(t),time.setMinutes(n),time.setSeconds(0),time.setMilliseconds(0),time.toString()}function o(e,t){if(!e||!t)return!1;var n=new Date(e),r=new Date(t),o=new Date;return n.getTime()<=o.getTime()&&r.getTime()>o.getTime()}function c(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return"Europe/Moscow"}}var l=function(e){if(!e)return"";var t=new Date(e),n=t.toLocaleDateString("ru-RU"),r=t.toLocaleTimeString("ru-RU",{hour:"numeric",minute:"numeric",hour12:!1});return"".concat(n," в ").concat(r)},d=function(e){if(!e)return"";var t=new Date(e),n=24===t.getHours()?1:t.getHours()+1,r=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes();return"Доставка сегодня примерно в ".concat(n,":").concat(r)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={HOVER:"hover",CLICK:"click",CUSTOM:"custom"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d}));var r=[2,0,1,1,1,2],o=function(e,t){return t[e%100>4&&e%100<20?2:r[e%10<5?e%10:5]]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o(e,["минута","минуты","минут"])},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o(e,["секунда","секунды","секунд"])},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o(e,["товара","товаров","товаров"])}},,,function(e,t,n){"use strict";var r=n(101),o=n(100),c=n(0),l=n(3),d=(n(41),n(26),n(65),n(159),n(29),n(48)),f=n(87),v=n(241),m=n(110),h=n(22);t.a=function(){var e=Object(f.a)(),t=Object(v.a)(),n=Object(m.a)(),O=Object(r.a)(),y=O.addProfileAddress,j=O.hasSelectedAddress,_=O.selectedAddress,k=O.addressList,x=Object(o.a)().fetchShop,w=Object(d.e)(t),C=w.otpStatus,P=w.otpState,S=Object(c.computed)((function(){return e.profile})),E=Object(c.computed)((function(){return e.initialized})),R=Object(c.computed)((function(){return S.value.id})),D=Object(c.computed)((function(){return t.newUser})),T=Object(c.computed)((function(){return S.value.name.trim().split(" ")[0]||"Профиль"})),I=Object(c.computed)((function(){var e;return null===(e=C.value)||void 0===e?void 0:e.code})),B=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(){var address;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetchTokens();case 2:return t.next=4,e.fetchUser();case 4:if(R.value){t.next=6;break}return t.abrupt("return");case 6:if(t.prev=6,address={},!j.value){t.next=20;break}return t.prev=9,t.next=12,y(_.value);case 12:address=t.sent,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),Object(h.j)("Unable to add address",_.value);case 18:t.next=21;break;case 20:k.value.length&&(address=k.value[k.value.length-1]);case 21:if(!address.longitude||!address.latitude){t.next=25;break}return e.setSelectedAddress(address),t.next=25,x(address);case 25:return t.next=27,e.initializeUser();case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(6),e.logout();case 32:case"end":return t.stop()}}),t,null,[[6,29],[9,15]])})));return function(){return t.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAuthCode(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkAuthCode(n);case 2:if(r=e.sent,!D.value){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,B();case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.register(n);case 2:return r=t.sent,t.next=5,B();case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{initialized:E,userProfile:S,loggedIn:R,userName:T,otpState:P,otpStatus:C,otpStatusCode:I,authGetOtp:A,authByOTP:M,authRegister:N}}},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(59),c=n(38);t.a=function(){var e=Object(r.ref)(Object(o.e)()),t=Object(r.ref)(null);return Object(r.onMounted)((function(){t.value=Object(c.c)("page-refresh",(function(){return e.value=Object(o.e)()}))})),Object(r.onUnmounted)((function(){Object(c.d)(t.value)})),{refreshKey:e,refresh:function(){return Object(c.a)("page-refresh")}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){if(!n)return"".concat(e," шт");var r=Math.round(e*t);switch(!0){case r>1e3:return"".concat(Math.round(r/1e3*100)/100," кг");case 1e3===r:return"1 кг";case r<1e3:return"".concat(r," г");default:return""}}},,function(e,t,n){"use strict";var r=n(0),o=n(38);t.a=function(e,t){var n=Object(r.ref)(null);return Object(r.onMounted)((function(){e&&t&&(n.value=Object(o.c)(e,t))})),Object(r.onUnmounted)((function(){n.value&&Object(o.d)(n.value)})),{token:n,publish:o.a}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),o=(n(41),n(48)),c=n(22),l=n(181),d=n(32),f=Object(o.c)("featureToggle",{state:function(){var e=Object(d.n)();return{features:[],featuresDisabled:!1===(null==e?void 0:e.features),experiments:[],exprefimentsDisabled:!1===(null==e?void 0:e.experiments),experimentsActiveGroupIds:[]}},actions:{fetchFeatures:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.featuresDisabled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=e.$nuxt.app.context,t.next=6,new l.a(n).getFeatures();case 6:data=t.sent,e.features=data.features||[],t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),Object(c.j)("fetchFeatures",t.t0),e.features=[];case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},fetchExperiments:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.exprefimentsDisabled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=e.$nuxt.app.context,t.next=6,new l.a(n).getExperiments();case 6:data=t.sent,e.experiments=(null==data?void 0:data.experiments)||[],e.experimentsActiveGroupIds=(null==data?void 0:data.active_group_ids)||[],t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),Object(c.j)("fetchExperiments",t.t0),e.experiments=[],e.experimentsActiveGroupIds=[];case 16:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}})},function(e,t){},,,,,,function(e,t,n){"use strict";n(381)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));n(29),n(5),n(9);var r=n(25);function o(e){return{id:e.id,parent_id:e.parent_id,to:e.url,label:e.name,code:e.code}}var c=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";if(!n)return null;var o=null;return t.forEach((function(element){var t;element[r]===n?o=element:null!=element&&null!==(t=element.children)&&void 0!==t&&t.length&&!o&&(o=e(null==element?void 0:element.children,n,r))})),o},l=function(e,t){if(!e)return[];var n=c(e,t),l=[];if(!n)return l;l.push(o(n));for(var i=0;i<l.length;i+=1){var d,f=c(e,null===(d=l[i])||void 0===d?void 0:d.parent_id);if(!f)break;l.push(o(f))}return Object(r.reverse)(l)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(5),n(67),n(12),n(13),n(10),n(14),n(9),n(15);var r=n(4),o=n(18),c=n(17),l=n(39),d=n(40),f=n(16),v=(n(20),n(52)),m=n(11),h=n(32);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _=function(e){Object(l.a)(n,e);var t=j(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).endpointPrefix="/delivery_api",e.endpoint="",e}return Object(c.a)(n,[{key:"getFeatures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="feature_toggle/get_feature",n=[Object(h.j)(),Object(h.b)()],r=n[0],o=n[1],c={namespace:(null==o?void 0:o.features)||"ecom"},l=this.getRequestConfig("GET",t,y({params:c},e));return l.headers=y(y({},l.headers||{}),{},{"x-device-id":Object(m.l)(),"x-app-version":(null==r?void 0:r.version)||"1","x-device-platform":(null==r?void 0:r.platform)||"Web"}),this.request(l)}},{key:"getExperiments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="configurator_api/get_experiments",n=Object(h.b)(),r={namespace:null==n?void 0:n.experiments,"device-id":Object(m.l)()},o=this.getRequestConfig("GET",t,y({params:r},e));return this.request(o)}},{key:"deliveryCosts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="shops/shop/".concat(e,"/delivery_costs"),r=this.getRequestConfig("GET",n,y({},t));return this.request(r,{cache:!1})}}]),n}(v.a)},,function(e,t,n){"use strict";var r=n(0),o=(n(12),n(13),n(10),n(5),n(14),n(9),n(15),n(4)),c=(n(53),n(451)),l=n(25),d=n(118);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={};m.props={disabled:Boolean,success:Boolean,clearable:Boolean,block:Boolean,innerClass:[String,Object,Array],inputClass:[String,Object,Array],slotBeforeClass:[String,Object,Array],slotAfterClass:[String,Object,Array],value:{type:[String,Number],default:""},isCounter:{type:Boolean,default:!1},error:{type:Boolean,default:!1},toggleClearBtn:{type:Boolean,default:null},hint:{type:String,default:""},mask:{type:String,default:null},dataTestId:{type:String,default:"input"}},m.setup=function(e,t){var n=e,o=t.emit,c=Object(r.useAttrs)(),d=Object(r.useSlots)(),f=Object(r.ref)(!1),m=Object(r.computed)((function(){return"".concat(n.dataTestId,"-clear-field-btn")})),h=Object(r.computed)((function(){return Object(l.isFunction)(d.before)?d.before():d.before})),O=Object(r.computed)((function(){return Object(l.isFunction)(d.after)?d.after():d.after})),y=Object(r.computed)((function(){return n.clearable&&n.value&&!n.disabled})),j=Object(r.computed)((function(){return null!=n.toggleClearBtn?n.toggleClearBtn:y.value})),_=Object(r.computed)((function(){return!!h.value})),k=Object(r.computed)((function(){return!(!O.value&&!n.success)})),x=Object(r.computed)((function(){return{"is-active":f.value,"is-block":n.block,"is-disabled":n.disabled,"is-error":n.error,"is-counter":n.isCounter,"has-before-slot":!!h.value,"has-after-slot":k,"not-empty":""!==n.value}})),w=Object(r.computed)((function(){return v(v({},c||{}),{},{disabled:n.disabled,value:n.value,class:n.inputClass})}));return{handleInput:function(e){return o("input",e.target.value)},clear:function(){o("input",""),o("clear")},handleFocus:function(e){f.value=!0,o("focus",e)},handleBlur:function(e){f.value=!1,o("blur",e)},handleKeyPress:function(e){return o("keypress",e)},handleKeyUp:function(e){return o("keyup",e)},handleKeyDown:function(e){return o("keydown",e)},handlePaste:function(e){return o("paste",e)},handleChange:function(e){return o("change",e)},dataTestIdClear:m,showClearBtn:j,showBeforeSlot:_,showAfterSlot:k,classes:x,inputProps:w}},m.components=Object.assign({MButtonClose:d.a},m.components),m.directives=Object.assign({mask:c.mask},m.directives);var h=m,O=(n(160),n(592),n(2)),component=Object(O.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-input-text",class:e.classes},[n("div",{staticClass:"m-input-text__inner",class:e.innerClass},[e.showBeforeSlot?n("div",{staticClass:"m-input-text__slot is-before",class:e.slotBeforeClass},[e._t("before")],2):e._e(),e._v(" "),e.mask?n("input",e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"}],staticClass:"m-input-text__input",attrs:{"data-test-id":e.dataTestId},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,keypress:e.handleKeyPress,keyup:e.handleKeyUp,keydown:e.handleKeyDown,paste:e.handlePaste,change:e.handleChange}},"input",e.inputProps,!1)):n("input",e._b({staticClass:"m-input-text__input",attrs:{"data-test-id":e.dataTestId},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,keypress:e.handleKeyPress,keyup:e.handleKeyUp,keydown:e.handleKeyDown,paste:e.handlePaste,change:e.handleChange}},"input",e.inputProps,!1)),e._v(" "),n("transition",{attrs:{name:"transition-fade--fast",mode:"out-in",appear:""}},[e.showClearBtn?n("MButtonClose",{staticClass:"m-input-text__clearable",class:{"has-slot":e.showAfterSlot},attrs:{type:"button","data-test-id":e.dataTestIdClear},nativeOn:{click:function(t){return e.clear.apply(null,arguments)}}}):e._e()],1),e._v(" "),e.showAfterSlot?[n("div",{staticClass:"m-input-text__slot is-after",class:e.slotAfterClass},[e._t("after"),e._v(" "),n("transition",{attrs:{name:"transition-fade--fast",mode:"out-in",appear:""}},[e.success?n("m-icon",{staticClass:"m-input-text__success",attrs:{name:"check",size:"24px"}}):e._e()],1)],2)]:e._e()],2),e._v(" "),e.hint?n("div",{staticClass:"m-input-text__hint"},[n("span",[e._v(e._s(e.hint))])]):e._e()])}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),o=(n(41),n(5),n(35),n(36),n(48)),c=n(34),l=Object(o.c)("home",{state:function(){return{products:[],pages:[],promo:{list:[]},promoDetail:null}},actions:{init:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e.fetchProducts(),e.fetchPromo()],t.next=3,Promise.all(n);case 3:case"end":return t.stop()}}),t)})))()},fetchPromo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new c.a(n).getPromotions();case 3:e.promo=t.sent;case 4:case"end":return t.stop()}}),t)})))()},fetchPromoDetail:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$nuxt.app.context,o=e.slug,n.next=4,new c.a(r).getPromotion(o);case 4:data=n.sent,t.promoDetail={slug:o,data:data};case 6:case"end":return n.stop()}}),n)})))()},fetchProducts:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new c.a(n).getBlocksProducts();case 3:r=t.sent,o=r.items,e.products=o;case 6:case"end":return t.stop()}}),t)})))()},fetchPagesMenu:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$nuxt.app.context,t.next=3,new c.a(n).getPagesMenu(void 0,{cache:!0});case 3:r=t.sent,e.pages=null==r?void 0:r.pages;case 5:case"end":return t.stop()}}),t)})))()},fetchStaticPage:function(e){var t=this.$nuxt.app.context;return new c.a(t).getStaticPage(e)}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(26),n(65);var r={name:"MErrorPage",props:{imgUrl:{type:String,default:""},title:{type:String,default:"Такой страницы не существует"},description:{type:String,default:""},linkTitle:{type:String,default:"Вернуться назад"},linkUrl:{type:String,default:""}},computed:{isBtnLarge:function(){var e;return(null===(e=this.linkTitle)||void 0===e?void 0:e.split(" ").length)>2}},methods:{redirect:function(){this.linkUrl?/(http(s?)):\/\//i.test(this.linkUrl)?window.location.href=this.linkUrl:this.$router.push(this.linkUrl):this.$router.go(-1)}}},o=(n(577),n(2)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-error"},[e.imgUrl?n("div",{staticClass:"page-error__img"},[n("img",{attrs:{src:e.imgUrl}})]):e._e(),e._v(" "),n("div",{staticClass:"page-error-text"},[n("h5",{staticClass:"page-error-text__title"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),e.description?n("div",{staticClass:"page-error-text__description"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e(),e._v(" "),n("m-button",{staticClass:"page-error-text__link",class:{"page-error-text__link--p24":e.isBtnLarge},attrs:{label:e.linkTitle,black:""},on:{click:e.redirect}})],1)])}),[],!1,null,"7a61b770",null);t.a=component.exports},,function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),o=(n(41),n(48)),c=n(34),l=n(22),d=n(102),f=n(11),v=n(7),m=n(49),h="delivery-web",O=Object(o.c)("otp",{state:function(){return{otpState:{phone:"",code:"",attempt:"",expire:0},savedOtpState:{phone:"",expire:0},otpStatus:{code:"initial",auth:"initial"},newUser:!1}},actions:{setAuthError:function(e){var t=Object(d.b)(e).message;t===v.z?this.otpStatus.auth=t:this.otpStatus.code=t},getAuthCode:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,d,f,m,O,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.phone,o=e.captcha,d=e.force,t.newUser=!1,t.otpStatus.code="pending",!r){n.next=12;break}if(d||t.savedOtpState.phone!==r||!(Date.now()<t.savedOtpState.expire)){n.next=10;break}throw t.otpStatus.auth=v.A,t.otpState.expire=t.savedOtpState.expire,t.otpState.phone=t.savedOtpState.phone,t.otpStatus.code="success",new Error(t.otpStatus.auth);case 10:t.savedOtpState.phone=r,t.otpState.phone=r;case 12:return f=t.$nuxt.app.context,n.prev=13,m={data:{aud:h,"captcha-token":o||"",phone:r}},n.next=17,new c.f(f).sendOTP(m);case 17:O=n.sent,y=new Date(O.expires).getTime(),t.savedOtpState.expire=y,t.otpState.expire=y,t.otpStatus.auth="initial",t.otpState.code="",t.otpState.attempt=O.attemptId,t.otpStatus.code="success",n.next=32;break;case 27:throw n.prev=27,n.t0=n.catch(13),t.setAuthError(n.t0),Object(l.j)("otp/getAuthCode: ",n.t0),n.t0;case 32:case"end":return n.stop()}}),n,null,[[13,27]])})))()},checkAuthCode:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.newUser=!1,""===t.otpState.code&&(t.otpStatus.auth="initial"),t.otpState.code=e,t.otpStatus.auth="pending",n.prev=4,r=t.$nuxt.app.context,o={data:{aud:h,code:t.otpState.code,phone:t.otpState.phone,attemptId:t.otpState.attempt}},n.next=9,new c.f(r).checkOTP(o);case 9:d=n.sent,Object(f.z)(m.b,d.magnitIDCode),t.otpStatus.auth="success",t.savedOtpState={phone:"",expire:0},d.isRegistered||(t.newUser=!0),n.next=21;break;case 16:throw n.prev=16,n.t0=n.catch(4),t.setAuthError(n.t0),Object(l.j)("otp/checkAuthCode: ",n.t0),n.t0;case 21:case"end":return n.stop()}}),n,null,[[4,16]])})))()}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return y}));n(12),n(13),n(10),n(14),n(9),n(15);var r,o=n(4),c=n(18),l=n(17),d=(n(5),n(248));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}!function(e){e[e.AUTHORIZED_USER=0]="AUTHORIZED_USER",e[e.APPROPRIATE_PAGE=1]="APPROPRIATE_PAGE"}(r||(r={}));var m=new(function(){function e(t){Object(c.a)(this,e),this.appropriatePage=!1,this.authorizedUser=!1,this.intervalTime=6e4,this.asyncInterval=null,this.handler=null,this.emptyRuns=0,this.emptyRunsLimit=2,this.setConfig(t)}return Object(l.a)(e,[{key:"getDefaultConfig",value:function(){return{limit:2,time:6e4,leading:!0}}},{key:"isRequestAllowed",get:function(){return this.appropriatePage&&this.authorizedUser}},{key:"setConfig",value:function(e){var t=v(v({},this.getDefaultConfig()),e||{});this.intervalTime=t.time,this.emptyRunsLimit=t.limit,!0===t.leading&&(this.emptyRuns=this.emptyRunsLimit)}},{key:"handleFlagChange",value:function(){var e;this.isRequestAllowed&&this.emptyRuns>=this.emptyRunsLimit&&(null===(e=this.asyncInterval)||void 0===e||e.force())}},{key:"handleIntervalRun",value:function(){return this.isRequestAllowed&&this.handler?(this.emptyRuns=0,this.handler()):(this.emptyRuns+=1,new Promise((function(e){return e()})))}},{key:"init",value:function(e,t){var n=this;this.handler=e,this.asyncInterval&&this.asyncInterval.destroy(),t&&this.setConfig(t),this.asyncInterval=new d.a((function(){return n.handleIntervalRun()}),this.intervalTime),this.handleFlagChange()}},{key:"setRequestFlag",value:function(e,t){e===r.APPROPRIATE_PAGE&&(this.appropriatePage=t),e===r.AUTHORIZED_USER&&(this.authorizedUser=t),this.handleFlagChange()}}]),e}()),h=function(e,t){m.init(e,t)},O=function(e){return m.setRequestFlag(r.APPROPRIATE_PAGE,e)},y=function(e){return m.setRequestFlag(r.AUTHORIZED_USER,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e,t,header=null===(e=document)||void 0===e||null===(t=e.getElementById("js-header-id"))||void 0===t?void 0:t.getBoundingClientRect();return header?header.height+header.y:0}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n(12),n(13),n(10),n(14),n(15);var r=n(37),o=n(4),c=n(18),l=n(17),d=(n(29),n(26),n(65),n(75),n(5),n(9),n(98)),f=n(25),v=n(22);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var h=function(){function e(t,n){Object(c.a)(this,e),this.storage=[],this.broadcastChannel=null,this.name=t,this.config=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({sync:!1,limit:20,uniq:null},n||{}),this.channelKey=Object(d.a)({prefix:"storage-box",name:t}),this.initialize()}return Object(l.a)(e,[{key:"initialize",value:function(){var e=this;try{this.config.sync&&(this.broadcastChannel=new BroadcastChannel(this.channelKey),this.broadcastChannel.onmessage=function(t){return e.handleChannelEvent(t)},this.syncUpdateStore())}catch(e){Object(v.i)("initialization error:",e.message)}}},{key:"handleChannelEvent",value:function(e){var t=e.data.split("__"),n=Object(r.a)(t,2),o=n[0],c=n[1];o===this.channelKey&&"update"===c&&this.syncUpdateStore()}},{key:"syncUpdateStore",value:function(){var e=localStorage.getItem(this.channelKey)||"[]";this.storage=JSON.parse(e),Object(v.i)("sync complete: ",{storage:this.storage,key:this.channelKey})}},{key:"synchronize",value:function(){try{if(this.config.sync){if(!this.broadcastChannel)throw new Error("broadcastChannel is empty");localStorage.setItem(this.channelKey,JSON.stringify(this.storage)),this.broadcastChannel.postMessage("".concat(this.channelKey,"__update")),Object(v.i)("sync initailized: ",{storage:this.storage,key:this.channelKey})}}catch(e){Object(v.i)("synchronize error:",e.message)}}},{key:"setItem",value:function(e){var t=this.config,n=t.limit,r=t.uniq;if(r){this.deleteItemsBy((function(t){return t[r]===e[r]}))}this.storage.push(e),Object(v.i)("new entry set:",e),this.storage.length>n&&this.storage.splice(0,1),this.synchronize()}},{key:"getAll",value:function(){return this.storage}},{key:"clear",value:function(){this.storage.length=0,this.synchronize()}},{key:"getItemsBy",value:function(e){return Object(f.filter)(this.storage,e)}},{key:"getItemBy",value:function(e){var t=this.getItemsBy(e);return null!=t&&t.length?t[t.length-1]:null}},{key:"deleteItem",value:function(e){var t=this.storage.indexOf(e);return-1!==t&&this.storage.splice(t,1),this.getAll()}},{key:"deleteItemsBy",value:function(e){var t=this;return this.getItemsBy(e).forEach((function(e){return t.deleteItem(e)})),this.getAll()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(18),o=n(17),c=(n(5),n(69),function(){function e(t){var time=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(r.a)(this,e),this.intervalTime=1e3,this.handler=null,this.intervalToken=null,this.asyncHandlerInProcess=!1,this.handler=t,this.intervalTime=time,null!==this.handler&&n&&this.handler(),this.run()}return Object(o.a)(e,[{key:"runHandler",value:function(){var e=this;null!==this.handler&&(this.asyncHandlerInProcess=!0,this.handler().then((function(){return e.run()})).catch((function(){return e.run()})))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.intervalToken&&clearTimeout(this.intervalToken)}))},{key:"run",value:function(){var e=this;this.asyncHandlerInProcess=!1,this.intervalToken=setTimeout((function(){return e.runHandler()}),this.intervalTime)}},{key:"force",value:function(){!0!==this.asyncHandlerInProcess&&(this.clearTimeout(),this.runHandler())}},{key:"destroy",value:function(){this.clearTimeout(),this.handler=null}}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(12),n(13),n(10),n(5),n(14),n(9),n(15);var r=n(4),o=n(48);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d=Object(o.c)("cache",{state:function(){return{config:{ttd:18e4},hashTable:{}}},actions:{setConfig:function(e){this.config=l(l({},this.config),e)},setResponseData:function(e,t,n){this.hashTable[e]||(this.hashTable[e]={}),this.hashTable[e][t]=n},clearResponseData:function(e,t){var n;null===(n=this.hashTable[e])||void 0===n||delete n[t]}}})},function(e,t,n){"use strict";var r=n(0),o=(n(5),n(29),n(153));t.a=function(){var e=Object(o.a)(),t=Object(r.computed)((function(){return e.features.reduce((function(e,t){return e[t.name]=t.is_active,e}),{})})),n=Object(r.computed)((function(){try{return e.experiments.reduce((function(e,t){return"active"===t.group_name&&(e[t.experiment_name]=!0),e}),{})}catch(e){return{}}})),c=Object(r.computed)((function(){return t.value.is_loyalty_points_in_cart_enabled})),l=Object(r.computed)((function(){return t.value.is_increased_cte_notification_enabled}));return{features:t,experiments:n,isLoyaltyPointsInCartEnabled:c,isIncreasedCteNotificationEnabled:l}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r="express",o="delivery",c={profitable:{sectionPosition:1,bannerSize:"big"},seasonal:{sectionPosition:2,bannerSize:"medium"},exclusive:{sectionPosition:3,bannerSize:"small"}}},function(e,t,n){"use strict";n.r(t);t.default={}},,function(e,t,n){"use strict";t.a={globalMeta:{meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}]},mixinKey:"setup"}},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"MAGNIT_MAIN",(function(){return f})),n.d(t,"MAGNIT_GOODS",(function(){return v})),n.d(t,"MAGNIT_APTEKA",(function(){return m})),n.d(t,"MAGNIT_COSMETIC",(function(){return h})),n.d(t,"MAGNIT_MOY",(function(){return O})),n.d(t,"ROUTE_ACTION_DISCOUNTS",(function(){return y})),n.d(t,"ROUTE_PROFILE_ORDERS",(function(){return j})),n.d(t,"ROUTE_PROFILE_ORDER_DETAIL",(function(){return _})),n.d(t,"ROUTE_PROFILE_ORDER_REPLACEMENT",(function(){return k})),n.d(t,"ROUTE_PROFILE_PERSONAL",(function(){return x})),n.d(t,"ROUTE_PROFILE_ADDRESS",(function(){return w})),n.d(t,"ROUTE_PROFILE_CARDS",(function(){return C})),n.d(t,"ROUTE_PROFILE_SUPPORT",(function(){return P})),n.d(t,"ROUTE_HOME",(function(){return S})),n.d(t,"ROUTE_STATIC",(function(){return E})),n.d(t,"ROUTE_CATALOG_ROOT",(function(){return R})),n.d(t,"ROUTE_BRAND_LIST",(function(){return D})),n.d(t,"ROUTE_LOCATION_LIST",(function(){return T})),n.d(t,"PAGE_LOADER_HASH_PATH",(function(){return I}));n(12),n(13),n(10),n(5),n(14),n(9),n(15);var r=n(4),o=n(119),c=n(6);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={label:"Магнит",href:"https://magnit.ru/",color:o.colorBrand,icon:"magnitLogoMin",modificator:"regular"},v={label:"Экспресс",href:"/",color:o.colorBrand,icon:"hypermarketLogoMin",modificator:"express"},m={label:"Аптека",href:"https://apteka.magnit.ru/",color:"#008895",icon:"aptecaLogoMin",modificator:"apteka"},h={label:"Косметик",href:"https://magnitcosmetic.ru/",color:"#d01481",icon:"cosmeticLogoMin",modificator:"cosmetic"},O={label:"Мой Магнит",href:"https://moy.magnit.ru/",color:o.colorBrand},y={label:"Акции и скидки",to:{name:c.c},iconAttrs:{name:"percent",width:"14px",height:"15px",class:"is-red",color:o.colorBrand}},j={label:"Заказы",to:{name:c.r},iconAttrs:{name:"profile/orders",width:"17px",height:"22px"},dataTestId:"my-orders-tab"},_=d(d({},j),{},{to:{name:c.s}}),k=d(d({},_),{},{to:{name:c.t}}),x={label:"Личные данные",to:{name:c.u},iconAttrs:{name:"profile/personal",width:"22px",height:"22px"},dataTestId:"private-info-tab"},w={label:"Адреса",to:{name:c.p},iconAttrs:{name:"profile/location",width:"17px",height:"22px"},dataTestId:""},C={label:"Способы оплаты",to:{name:c.q},iconAttrs:{name:"profile/card",width:"22px",height:"16px"},dataTestId:""},P={label:"Поддержка",to:{name:c.v},iconAttrs:{name:"profile/personal",width:"22px",height:"22px"},dataTestId:""},S={id:c.j,label:"Главная",to:{name:c.j}},E={id:c.A,label:"Статика",to:{name:c.A}},R={id:c.g,label:"Каталог товаров",to:{name:c.g}},D={id:c.f,label:"Все бренды",to:{name:c.f}},T={id:c.k,label:"Все магазины",to:{name:c.k}},I="/express/5109BE2C19BF37C50B40F42BA389FE5E"},function(e,t,n){"use strict";var r=n(0),o=(n(72),n(56),n(20),n(129)),c=function(e,t){return e?"".concat(e," ").concat(Object(o.b)(e)):"".concat(t," ").concat(Object(o.c)(t))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,time=Object(r.ref)(null),t=Object(r.ref)(null),n=null,o=Object(r.computed)((function(){return Math.floor(time.value/60)})),l=Object(r.computed)((function(){return time.value%60})),d=Object(r.computed)((function(){return c(o.value,l.value)})),f=Object(r.computed)((function(){return null===time.value?"--:--":["00".concat(o.value).slice(-2),"00".concat(l.value).slice(-2)].join(":")})),v=Object(r.computed)((function(){var e=1e3*time.value,t=60*new Date(e).getTimezoneOffset()*1e3,n=new Date(e+t);return{hours:n.getHours(),min:n.getMinutes(),sec:n.getSeconds()}})),m=function(){n&&clearInterval(n),n=null,time.value=null},h=function(){t.value=!0,m()},O=function(){m(),t.value=null},y=function(r){time.value=null!=r?r:e,time.value<0&&h(),t.value=0===time.value||null===time.value,t.value||(n=setInterval((function(){time.value-=1,time.value<=0&&h()}),1e3))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];O(),time.value=e,t&&y(e)};return{start:y,reset:O,setTime:j,time:time,finished:t,timeFormatted:f,timeFormattedExtended:v,timeLeftFormatted:d,minutes:o,seconds:l}}},function(e,t,n){"use strict";var r=n(21),o=n(132),c=n(101),l=n(68),d=n(93),f=n(94),v=n(0),m=n(4),h=n(3),O=n(31),y=(n(41),n(29),n(13),n(74),n(79),n(5),n(56),n(36),n(10),n(145),n(53),n(12),n(14),n(9),n(15),n(25)),j=n(71),_=n(179),k=n(51),x=n(6),w=n(105),C=n(391),P=n(50);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(e){var t=Object(r.h)(),n=Object(j.a)(),m=Object(o.a)().loggedIn,S=Object(c.a)().hasSelectedAddress,R=Object(l.a)(["product-add","product-delete","product-update-count","product-replace"]),D=Object(d.a)().allCategories,T=Object(f.a)(),I=T.loading,B=T.run,A=T.errorMessage,M=Object(f.a)(),N=M.loading,$=M.run,L=M.errorMessage,U=Object(v.ref)(!1),F=Object(v.computed)((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.id)&&void 0!==t?t:""})),z=Object(v.computed)((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.name)&&void 0!==t?t:""})),V=Object(v.computed)((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.article)&&void 0!==t?t:""})),H=Object(v.computed)((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.description)&&void 0!==t?t:""})),G=Object(v.computed)((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.picture)&&void 0!==t?t:""})),K=Object(v.computed)((function(){var t,n,r;return null!==(t=null===(n=e.value)||void 0===n||null===(r=n.offers)||void 0===r?void 0:r[0])&&void 0!==t?t:{}})),W=Object(v.computed)((function(){return K.value.id})),J=Object(v.computed)((function(){return K.value.quantity})),X=Object(v.computed)((function(){var e;return null===(e=K.value)||void 0===e?void 0:e.currentPrice})),Q=Object(v.computed)((function(){var e;return null===(e=K.value)||void 0===e?void 0:e.previousPrice})),Y=Object(v.computed)((function(){var e;return null===(e=K.value)||void 0===e?void 0:e.grammar})),Z=Object(v.computed)((function(){return Q.value&&Q.value>X.value})),ee=Object(v.computed)((function(){return e=X.value,t=Q.value,"".concat(Math.round((e-t)/t*100),"%");var e,t})),te=Object(v.computed)((function(){var e;return(null!==(e=n.basket.basketItems)&&void 0!==e?e:[]).find((function(e){return e.offerId===W.value}))})),ne=Object(v.computed)((function(){var e;return null===(e=te.value)||void 0===e?void 0:e.basketId})),re=Object(v.computed)((function(){var e,t;return null!==(e=null===(t=te.value)||void 0===t?void 0:t.quantity)&&void 0!==e?e:0})),oe=Object(v.computed)((function(){return re.value*X.value})),ae=Object(v.computed)((function(){return re.value*Q.value})),ie=Object(v.computed)((function(){return!J.value&&!re.value})),ce=Object(v.computed)((function(){return!ie.value})),ue=Object(v.computed)((function(){return null===J.value?"Нет в наличии":"Временно отсутствует"})),se=Object(v.computed)((function(){return I.value||N.value})),le=Object(v.computed)((function(){var t,n,r=Object(O.a)(null!==(t=null===(n=e.value)||void 0===n?void 0:n.labels)&&void 0!==t?t:[]);return Z.value&&r.push({title:"Скидка"}),Object(y.uniqBy)(r,"title")})),de=Object(v.computed)((function(){var n,path=t.path,r=t.name===x.h,o="/"===path[path.length-1]?path.slice(0,path.length-1):path,c=path?Object(_.b)(D.value,o,"url"):null,l=r&&c?{fromCat:c.id}:{};return{name:x.n,query:l,params:{productId:null===(n=e.value)||void 0===n?void 0:n.code}}})),pe=Object(v.computed)((function(){var t,n,r=null===(t=e.value)||void 0===t?void 0:t.grammarStep,o=null===(n=K.value)||void 0===n?void 0:n.grammarStep;return r||o||0})),fe=Object(v.computed)((function(){return pe.value>0})),ve=Object(v.computed)((function(){return Object(C.c)(e.value)})),me=Object(v.computed)((function(){var e=ve.value.find((function(e){return e.code===P.b}));return(null==e?void 0:e.values)||[]})),he=Object(v.computed)((function(){var e=ve.value.filter((function(e){return e.code!==P.b}));return Object(y.uniqBy)(e,"code")})),be=Object(v.computed)((function(){return ce.value&&ne.value})),ge=Object(v.computed)({get:function(){return A.value||L.value},set:function(e){A.value=e,L.value=e}}),Oe=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m.value){e.next=6;break}return e.next=4,Object(k.r)();case 4:if(m.value){e.next=6;break}return e.abrupt("return",!1);case 6:if(S.value){e.next=11;break}return e.next=9,Object(k.s)();case 9:if(S.value){e.next=11;break}return e.abrupt("return",!1);case 11:if(W.value){e.next=14;break}return ge.value=w.h,e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(r){var o,c,l,d,f,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=parseFloat(r),!se.value&&!Number.isNaN(o)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Oe();case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:l=(c=o>0)?B:$,d=c?"updateBasket":"deleteFromBasket",f=c?"product-update-count":"product-delete",v=re.value,l(Object(h.a)(regeneratorRuntime.mark((function t(){var data,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={shopId:n.shopId,basketId:ne.value,quantity:r},t.next=3,n[d](data);case 3:o=t.sent,R(f,{product:E(E({},e.value),{},{quantity:r,oldQuantity:v}),basket:o});case 5:case"end":return t.stop()}}),t)}))));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),je=function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,B(Object(h.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:W.value,quantity:1,shopId:n.shopId},t.next=3,n.addToBasket(r);case 3:o=t.sent,R("product-add",{product:e.value,basket:o});case 5:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_e=function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(Object(h.a)(regeneratorRuntime.mark((function t(){var o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={oldBasketId:+r,newOfferId:W.value,quantity:1,shopId:n.shopId},t.next=3,n.replaceInBasket(o);case 3:c=t.sent,R("product-replace",{product:e.value,basket:c});case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.watch)(ge,(function(e){return U.value=!!e})),{productId:F,productTitle:z,productArticle:V,productDescription:H,productPicture:G,productOffer:K,productOfferId:W,productQuantity:J,productPrice:X,productPriceOld:Q,productGrammar:Y,productDiscounted:Z,productDiscountPercentage:ee,productLabels:le,productBasketEntry:te,productBasketEntryId:ne,productBasketQuantity:re,productPriceSum:oe,productPriceOldSum:ae,productAvailable:ce,productNotAvailable:ie,productNotAvailableLabel:ue,productPageLink:de,productGrammarStep:pe,productByWeight:fe,productNutritionalValue:me,productCharacteristics:he,productShowCounter:be,productErrorMessage:ge,showProductError:U,productUpdateLoading:I,productDeleteLoading:N,productLoading:se,productAddToBasket:je,productDelete:function(){return ye(0)},productSetCount:ye,productReplace:_e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(112),o=n(184),c=n(71),l=n(85),d=n(87),f=n(249),v=n(110),m=n(153),h={useHome:o.a,useCatalog:r.a,useCheckout:c.a,useOrder:l.a,useUser:d.a,useCache:f.a,useSession:v.a,useFeatureToggle:m.a}},function(e,t,n){"use strict";var r=n(0),o=(n(53),n(5),n(69),n(147)),c={};c.props={name:{type:String,required:!0},disabled:{type:Boolean,default:!1}};var l=c,d=(n(600),n(2)),f=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon"},[n("div",e._g({staticClass:"icon__inner",class:{disabled:e.disabled}},e.$listeners),[n("m-icon",{attrs:{width:"10px",height:"10px",name:e.name}})],1)])}),[],!1,null,"f0677bc0",null).exports,v=n(183),m={};m.props={value:{type:String,default:""},maxCount:{type:Number,default:0},step:{type:Number,default:0},isWeightGoods:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},dataTestId:{type:String,default:"product-input-count"}},m.setup=function(e,t){var n=e,c=t.emit,l=Object(r.ref)(n.value),d=Object(r.ref)(!1),f=Object(r.ref)(null),v=Object(r.computed)((function(){return Object(o.a)(n.value,n.step,n.isWeightGoods)})),m=Object(r.computed)((function(){return d.value&&!n.isWeightGoods&&!n.isLoading}));return Object(r.watch)((function(){return n.value}),(function(){return l.value=n.value})),{valueInCounter:l,inputCountContainer:f,counterDisplay:v,isInputVisible:m,onKeyPressEnter:function(e){return e.target.blur()},onInput:function(e){if(""!==e){var t=e>n.maxCount;l.value=t?n.maxCount:e,t&&c("is-count-max"),c("input",e)}},onFocusOut:function(){return d.value=!1},setFocusInput:function(){d.value=!0,setTimeout((function(){var e;null===(e=f.value.querySelector("input"))||void 0===e||e.focus()}),0)}}},m.components=Object.assign({MInputText:v.a},m.components);var h=m,O=(n(601),Object(d.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"inputCountContainer",staticClass:"count count-container"},[e.isInputVisible?n("MInputText",{staticClass:"count__input",attrs:{value:e.valueInCounter,mask:"###",inputmode:"numeric","data-test-id":e.dataTestId},on:{input:e.onInput,blur:e.onFocusOut,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyPressEnter.apply(null,arguments)}}}):e.isLoading?n("m-spinner-round",{attrs:{size:24}}):n("div",{staticClass:"count-container__weight-type",attrs:{"data-test-id":e.dataTestId},on:{click:e.setFocusInput}},[e._v("\n    "+e._s(e.counterDisplay)+"\n  ")])],1)}),[],!1,null,null,null)),y=O.exports,j=n(25),_={};_.props={step:{type:Number,default:0},loading:{type:Boolean,default:!1},count:{type:[Number,String],required:!0},remainder:{type:Number,required:!0},tooltipSettings:{type:Object,default:function(){return{bottom:!0}}},roundedSquare:{type:Boolean,default:!1},squareButtons:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},dataTestId:{type:String,default:"product"}},_.setup=function(e,t){var n=e,c=t.emit,l=Object(r.ref)(!1),d=Object(r.computed)((function(){return n.step>0})),f=Object(r.computed)((function(){return n.count.toString()})),v=Object(r.computed)((function(){return"".concat(n.dataTestId,"-input-count")})),m=Object(r.computed)((function(){return"".concat(v.value,"-incr-btn")})),h=Object(r.computed)((function(){return"".concat(v.value,"-decr-btn")})),O=Object(r.computed)((function(){return{"is-outline":n.outline,"is-rounded-square":n.roundedSquare,"is-square-buttons":n.squareButtons}})),y=Object(r.computed)((function(){return Object(o.a)(n.remainder,n.step,d.value)})),_=Object(r.computed)((function(){return"В наличии осталось всего ".concat(y.value)})),k=Object(r.computed)((function(){return n.outline||n.squareButtons?"--black":"--white"})),x=Object(r.computed)((function(){return n.loading||n.count>=n.remainder})),w=function(){return l.value=!0},C=function(e){n.loading||Number(n.count)===Number(e)||(Number(n.remainder)<Number(e)?w():c("set-count",e))},P=Object(j.debounce)((function(e){return C(e)}),500);return{isShownTooltip:l,isWeightGoods:d,countInCounter:f,dataTestIdInput:v,dataTestIdIncr:m,dataTestIdDecr:h,classes:O,errorMessage:_,color:k,incrementDisabled:x,showTooltip:w,handleInput:P,handleIncrement:function(){return C(+n.count+1)},handleDecrement:function(){return C(+n.count-1)}}},_.components=Object.assign({MButtonCounter:f,MCounterInput:y},_.components);var k=_,x=(n(602),Object(d.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-counter",class:e.classes},[n("MButtonCounter",{attrs:{name:"minus"+e.color,disabled:e.loading,"data-test-id":e.dataTestIdDecr},on:{click:e.handleDecrement}}),e._v(" "),n("div",{staticClass:"count"},[n("MCounterInput",{attrs:{value:e.countInCounter,"max-count":e.remainder,step:e.step,"is-weight-goods":e.isWeightGoods,"is-loading":e.loading,"data-test-id":e.dataTestIdInput},on:{input:e.handleInput,"is-count-max":e.showTooltip}})],1),e._v(" "),n("MButtonCounter",{attrs:{name:"plus"+e.color,disabled:e.incrementDisabled,"data-test-id":e.dataTestIdIncr},on:{click:e.handleIncrement}}),e._v(" "),n("m-tooltip",e._b({attrs:{trigger:"custom","life-time":2500,message:e.errorMessage},model:{value:e.isShownTooltip,callback:function(t){e.isShownTooltip=t},expression:"isShownTooltip"}},"m-tooltip",e.tooltipSettings,!1))],1)}),[],!1,null,"64d8b6bb",null));t.a=x.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=432e5},function(e,t,n){"use strict";var r=n(0),o=(n(29),{});o.props={name:{type:String,required:!0},title:String,desc:String,width:String,height:String,size:String},o.setup=function(e,t){var n=e;return{iconClass:Object(r.computed)((function(){return"m-icon--".concat(n.name)}))}};var c=o,l=(n(641),n(2)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("svg-icon",e._g({class:e.iconClass,style:{width:e.width||e.size,height:e.height||e.size},attrs:{name:e.name,title:e.title,desc:e.desc}},e.$listeners))}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r=n(0),o={};o.props={disabled:{type:Boolean,default:!1},block:Boolean,innerClass:[String,Object,Array],textAreaClass:[String,Object,Array],value:{type:String,default:""},error:{type:Boolean,default:!1},hint:{type:String,default:""},dataTestId:{type:String,default:"text-area"}},o.setup=function(e,t){var n=e,o=t.emit,c=Object(r.ref)(!1);return{classes:Object(r.computed)((function(){return{"is-focused":c.value,"is-block":n.block,"is-disabled":n.disabled,"is-error":n.error}})),setFocusValue:function(e){var t=e?"focus":"blur";c.value=e,o(t)},handleInput:function(e){return o("input",e.target.value)}}};var c=o,l=(n(651),n(2)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-textarea",class:e.classes},[n("div",{staticClass:"m-textarea__inner",class:e.innerClass,attrs:{"data-test-id":e.dataTestId}},[n("textarea",e._g(e._b({staticClass:"m-textarea__textarea",class:e.textAreaClass,attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:e.handleInput,focus:function(t){return e.setFocusValue(!0)},blur:function(t){return e.setFocusValue(!1)}}},"textarea",e.$attrs,!1),e.$listeners))]),e._v(" "),e.hint?n("div",{staticClass:"m-textarea__hint"},[e._v("\n    "+e._s(e.hint)+"\n  ")]):e._e()])}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r={};r.props={fixed:Boolean};var o=r,c=(n(160),n(655),n(2)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"transition-fade--fast"}},[n("div",{staticClass:"loader",class:{fixed:e.fixed},attrs:{"data-test-id":"loader"}},[e.fixed?n("app-shield",{staticClass:"loader__bg",attrs:{mode:"blur"}}):e._e(),e._v(" "),n("img",{staticClass:"loader__img",attrs:{src:"/logo.svg",alt:"Магнит-Продукты"}}),e._v(" "),n("m-spinner-dots",{staticClass:"loader__dots",attrs:{red:""}})],1)])}),[],!1,null,"d73d3c42",null);t.a=component.exports},function(e,t,n){"use strict";var r=n(100),o=n(118),c={};c.props={title:{type:String,default:"Дольше обычного"},closable:Boolean},c.setup=function(e,t){var n=Object(r.a)();return{increasedCteHint:n.increasedCteHint,closeIncreasedCteNotification:n.closeIncreasedCteNotification}},c.components=Object.assign({MButtonClose:o.a},c.components);var l=c,d=(n(609),n(2)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"increased-cte"},[n("div",{staticClass:"increased-cte__icon"},[n("m-icon",{attrs:{name:"fire",width:"16px",height:"22px"}})],1),e._v(" "),n("div",{staticClass:"increased-cte__text"},[n("div",{staticClass:"increased-cte__title"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),n("p",[e._v(e._s(e.increasedCteHint))])]),e._v(" "),e.closable?n("MButtonClose",{staticClass:"increased-cte__close",attrs:{medium:""},nativeOn:{click:function(t){return e.closeIncreasedCteNotification.apply(null,arguments)}}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r=n(113),o=n(250),c=n(0),l={setup:function(e,t){var n=Object(r.a)(),l=n.basketCurrentPrice,d=n.basketDeliveryPrice,f=n.basketTotalPrice,v=n.bonusPoints,m=n.bonusPointsPercentage,h=n.basketDiscount,O=n.couponsDiscount,y=n.basketPositions,j=Object(o.a)().isLoyaltyPointsInCartEnabled,_=Object(c.computed)((function(){return!!v.value&&!!m.value&&j.value}));return{basketCurrentPrice:l,basketDeliveryPrice:d,basketTotalPrice:f,bonusPoints:v,bonusPointsPercentage:m,basketDiscount:h,couponsDiscount:O,basketPositions:y,showBonusPoints:_}}},d=l,f=(n(605),n(2)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-details"},[r("div",{staticClass:"m-property m-property__full-width"},[r("span",{staticClass:"m-property__name text-subhead1"},[e._v(e._s(e.basketPositions))]),e._v(" "),r("span",{staticClass:"m-property__value"},[r("m-price",{staticClass:"text-subhead1",attrs:{price:e.basketCurrentPrice,"data-test-id":"basket-sum","transform-price":""}})],1)]),e._v(" "),r("div",{staticClass:"m-property m-property__full-width"},[r("span",{staticClass:"m-property__name text-subhead1"},[e._v("Доставка")]),e._v(" "),r("span",{staticClass:"m-property__value"},[e.basketDeliveryPrice?r("m-price",{staticClass:"text-subhead1",attrs:{price:e.basketDeliveryPrice,"data-test-id":"basket-delivery-sum","transform-price":""}}):e._e()],1)]),e._v(" "),e.basketDiscount?r("div",{staticClass:"m-property m-property__full-width"},[r("span",{staticClass:"m-property__name text-subhead1"},[e._v("Скидка")]),e._v(" "),r("span",{staticClass:"m-property__value text-subhead1"},[e._v("\n      −"),r("m-price",{attrs:{price:e.basketDiscount,"data-test-id":"basket-disctount","transform-price":""}})],1)]):e._e(),e._v(" "),e.couponsDiscount?r("div",{staticClass:"m-property m-property__full-width"},[r("span",{staticClass:"m-property__name text-subhead1"},[e._v("Скидка по промокоду")]),e._v(" "),r("span",{staticClass:"m-property__value"},[e._v("\n      −"),r("m-price",{staticClass:"order-details__amount-discount",attrs:{price:e.couponsDiscount,"data-test-id":"basket-disctount","transform-price":""}})],1)]):e._e(),e._v(" "),r("div",{staticClass:"order-details__sum m-property m-property__full-width"},[r("span",{staticClass:"m-property__name text-title4"},[e._v("Итого")]),e._v(" "),r("span",{staticClass:"m-property__value"},[r("m-price",{staticClass:"text-title4",attrs:{price:e.basketTotalPrice,"transform-price":"","show-discount":!1}})],1)]),e._v(" "),r("div",{staticClass:"order-details__packages packages m-property m-property__full-width"},[r("span",{staticClass:"m-property__name"},[e._v("\n      Пакеты\n      "),r("m-tooltip",{staticClass:"packages__tooltip packages-tooltip",attrs:{closable:"","decor-triangle":"",top:""},scopedSlots:e._u([{key:"message",fn:function(){return[r("div",{staticClass:"packages-tooltip__title"},[e._v("\n            Количество пакетов будет известно после сборки\n          ")]),e._v(" "),r("div",{staticClass:"packages-tooltip__description"},[e._v("\n            Маленький — 2 ₽, большой — 3 ₽\n          ")])]},proxy:!0}])},[r("m-icon",{staticClass:"packages-tooltip__icon",attrs:{name:"info-empty-gray",size:"16px"}})],1)],1),e._v(" "),r("span",{staticClass:"m-property__value"},[e._v("от 2 ₽")])]),e._v(" "),e.showBonusPoints?r("div",{staticClass:"m-property m-property__full-width m-property__subtitle"},[r("span",{staticClass:"m-property__name text-subhead1"},[e._v("\n      Бонусы за заказ\n    ")]),e._v(" "),r("span",{staticClass:"m-property__value"},[r("div",{staticClass:"bonus-points"},[r("div",{staticClass:"bonus-points__amount"},[e._v("\n          + "+e._s(e.bonusPoints)+"\n        ")]),e._v(" "),r("img",{attrs:{src:n(459),width:"16",height:"16"}})])]),e._v(" "),r("div",{staticClass:"m-property__name-subtitle"},[e._v("\n      "+e._s(e.bonusPointsPercentage)+" % от суммы, 1 бонус = 1 ₽\n    ")])]):e._e()])}),[],!1,null,null,null);t.a=component.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},,function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h}));n(12),n(13),n(10),n(14),n(9),n(15);var r=n(31),o=n(4),c=(n(29),n(182),n(79),n(5),n(36),n(43),n(54),n(20),n(25)),l=n(50);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(e){return e.propertyCode===l.m?l.n:e.propertyCode===l.j?l.k:e.propertyCode===l.d?l.e:e.propertyCode===l.g?l.h:e.name},m=function(e){return e.propertyCode===l.m?l.o:e.propertyCode===l.j?l.l:e.propertyCode===l.d?l.f:e.propertyCode===l.g?l.i:e.sort},h=function(e){var t,n=null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[];if(!n.find((function(e){return e.code===l.b}))){var o,d=n.find((function(e){return e.code===l.a}));if(null!=d&&null!==(o=d.values)&&void 0!==o&&o.length){for(var h=[],O=[],y=0,j=[l.m,l.j,l.d,l.g],i=0,_=d.values.length;i<_;i+=1){var k=d.values[i];if(j.includes(k.propertyCode)){var x=[v(k),m(k)],w=x[0],C=x[1];O.push(f(f({},k),{},{sort:C,name:w}))}else y+=1,h.push(f(f({},k),{},{sort:y}))}var P={code:l.b,name:l.c,sort:0,values:O};return Object(c.uniqBy)([P,f(f({},d),{},{values:h})].concat(Object(r.a)(n)),"code")}}return n}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports=n.p+"img/ios.36669a3.svg"},function(e,t,n){e.exports=n.p+"img/android.7344bbb.svg"},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){"use strict";var r=n(0),o=(n(12),n(13),n(10),n(5),n(14),n(9),n(15),n(4)),c=(n(29),n(33),n(293)),l=(n(20),n(295)),d=n(107),f=n(147),v={};v.props={product:{type:Object,required:!0},dataTestId:{type:String,default:"small-cart-product"}},v.setup=function(e,t){var n=e,o=Object(c.a)(Object(r.toRef)(n,"product")),l=o.productTitle,v=o.productQuantity,m=o.productPrice,h=o.productPriceSum,O=o.productPriceOldSum,y=o.productDiscounted,j=o.productDiscountPercentage,_=o.productBasketQuantity,k=o.productGrammarStep,x=o.productByWeight,w=o.productSetCount,C=o.productDeleteLoading,P=o.productPageLink,S=o.productUpdateLoading,E=o.productErrorMessage,R=o.showProductError,D=Object(r.computed)((function(){return"".concat(n.dataTestId,"-title")})),T=Object(r.computed)((function(){return{"is-loading":C.value}})),I=Object(r.computed)((function(){return n.product.picture})),B=Object(r.computed)((function(){return"".concat(Object(d.a)(m.value,!0)," за ").concat(Object(f.a)(1,k.value,x.value))}));return{productTitle:l,productQuantity:v,productPriceSum:h,productPriceOldSum:O,productDiscounted:y,productDiscountPercentage:j,productBasketQuantity:_,productGrammarStep:k,productSetCount:w,productPageLink:P,productUpdateLoading:S,productErrorMessage:E,showProductError:R,dataTestIdTitle:D,className:T,productImage:I,priceFormatted:B}},v.components=Object.assign({MCounter:l.a},v.components);var m=v,h=(n(603),n(604),n(2)),O=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.product?n("div",{staticClass:"basket-product-item",class:e.className,attrs:{"data-test-id":e.dataTestId}},[n("div",{staticClass:"basket-product-item__image"},[n("m-image",{attrs:{src:e.productImage,size:"64x64"}}),e._v(" "),e.productDiscounted?n("div",{staticClass:"basket-product-item__badge"},[n("m-badge",{staticClass:"badge",attrs:{label:e.productDiscountPercentage}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"basket-product-item__container"},[n("app-link",{staticClass:"basket-product-item__title",attrs:{to:e.productPageLink,"data-test-id":e.dataTestIdTitle}},[e._v("\n      "+e._s(e.productTitle)+"\n    ")]),e._v(" "),n("div",{staticClass:"basket-product-item__price-per-unit"},[e._v("\n      "+e._s(e.priceFormatted)+"\n    ")]),e._v(" "),n("m-price",{attrs:{vertical:"","transform-price":"",price:e.productPriceSum,"old-price":e.productPriceOldSum,"show-discount":!1}}),e._v(" "),n("div",{staticClass:"basket-product-item__quantity"},[n("MCounter",{attrs:{count:e.productBasketQuantity,step:e.productGrammarStep,loading:e.productUpdateLoading,remainder:e.productQuantity,"data-test-id":e.dataTestId,"tooltip-settings":{top:!0},"square-buttons":"","is-grammar":""},on:{"set-count":e.productSetCount}}),e._v(" "),n("m-tooltip",{staticClass:"basket-product-item__quantity-error",attrs:{trigger:"custom","life-time":2500,message:e.productErrorMessage,bottom:""},model:{value:e.showProductError,callback:function(t){e.showProductError=t},expression:"showProductError"}})],1)],1)]):e._e()}),[],!1,null,"5abc8a3d",null).exports;function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={};_.props={products:{type:Array,default:function(){return[]}},mini:Boolean,dataTestId:{type:String,default:"small-cart-product"}},_.setup=function(e,t){var n=e,o=function(e,t){var n,r=e.productId,o=e.offerId,c=e.product,l=e.name,d=e.grammar,f=e.grammarStep,v=e.price,m=e.oldPrice,h=j(j({},c),{},{id:r,position:t,name:l});null!==(n=h.offers)&&void 0!==n&&n[0]||(h.offers[0]={});var O=h.offers[0].previousPrice;return h.offers[0]=j(j({},h.offers[0]),{},{id:o,grammar:d,grammarStep:f,currentPrice:v,previousPrice:O>m?O:m}),h},c=Object(r.computed)((function(){return n.products.map(o)}));return{props:n,displayProducts:c}},_.components=Object.assign({MBasketProductItem:O},_.components);var k=_,x=Object(h.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"products__container",class:{"is-mini":e.props.mini},attrs:{"data-test-id":"products-section"}},[n("transition-group",{attrs:{name:"transition-fade",mode:"out-in"}},e._l(e.displayProducts,(function(t){return n("MBasketProductItem",{key:t.id,attrs:{product:t,mini:e.mini,"data-test-id":e.dataTestId}})})),1)],1)}),[],!1,null,null,null);t.a=x.exports},function(e,t,n){"use strict";var r=n(0),o=(n(53),{});o.props={size:{type:Number,default:30},duration:{type:String,default:"1.2s"},absolute:Boolean,red:Boolean,light:Boolean,inverse:Boolean},o.setup=function(e,t){var n=e;return{spinnerStyle:Object(r.computed)((function(){return{width:"".concat(n.size,"px"),height:"".concat(n.size,"px")}})),classes:Object(r.computed)((function(){return{"is-absolute":n.absolute,"is-color--red":n.red,"is-color--light":n.light,"is-color--inverse":n.inverse}}))}};var c=o,l=(n(650),n(2)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-spinner-round",class:e.classes,style:e.spinnerStyle},[n("span",{staticClass:"m-spinner-round__spinner",style:{animationDuration:e.duration}})])}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r={name:"MDrawerAbstraction",props:{title:{type:String,default:""},value:{type:Boolean,default:!1}},methods:{close:function(){this.$emit("input",!1),this.$emit("close")}}},o=(n(647),n(2)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("portal",{attrs:{to:"layout"}},[n("div",{staticClass:"drawer-abstraction"},[e.value?n("div",{staticClass:"drawer-abstraction__backdrop",on:{click:e.close}}):e._e(),e._v(" "),n("div",{staticClass:"drawer-abstraction__wrapper",class:{"is-shown":e.value}},[n("div",{staticClass:"drawer-abstraction__handle-wrapper",on:{click:e.close}},[n("div",{staticClass:"drawer-abstraction__handle"})]),e._v(" "),e.title?n("h3",{staticClass:"drawer-abstraction__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._v(" "),e._t("content")],2)])])}),[],!1,null,"02c6629d",null);t.a=component.exports},function(e,t,n){"use strict";var r=n(0),o={};o.props={mini:Boolean},o.setup=function(e,t){var n=e;return{className:Object(r.computed)((function(){return{"is-mini":n.mini}}))}};var c=o,l=(n(597),n(2)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"basket-empty-layout",class:e.className},[n("div",{staticClass:"basket-empty"},[n("div",{staticClass:"basket-empty__container"},[n("div",{staticClass:"basket-empty__control"},[n("div",{staticClass:"basket-empty__title",attrs:{"data-test-id":"basket-empty-title"}},[e._v("\n          Ваша корзина пуста\n        ")]),e._v(" "),n("div",{staticClass:"basket-empty__text",attrs:{"data-test-id":"basket-empty-description"}},[e._v("\n          Ищите нужные товары в каталоге или добавьте товары из прошлых заказов\n        ")]),e._v(" "),n("app-link",{attrs:{to:"/","data-test-id":"to-main-btn"}},[n("m-button",{staticClass:"basket-empty__button",attrs:{large:"",black:"",label:"На главную"}})],1)],1),e._v(" "),e.mini?e._e():n("img",{staticClass:"basket-empty__image",attrs:{src:"nuts_sweet.png"}})])])])}),[],!1,null,"2a431f7d",null);t.a=component.exports},function(e,t,n){"use strict";var r=n(100),o=n(94),c=n(93),l=n(0),d=(n(29),n(71)),f=n(22),v=n(6),m={};m.props={item:{type:Object,required:!0},mini:Boolean},m.setup=function(e,t){var n=Object(f.c)("MBasketOutOfOrderItem"),m=e,h=Object(d.a)().deleteFromBasket,O=Object(r.a)().shopId,y=Object(o.a)(),j=y.loading,_=y.run,k=y.error,x=y.errorMessage,w=Object(c.a)().getFullPath,C=Object(l.ref)(!1),P=Object(l.computed)((function(){return m.item.name})),S=Object(l.computed)((function(){return m.item.basketId})),E=Object(l.computed)((function(){return m.item.product.picture})),R=Object(l.computed)((function(){return{"is-loading":j.value}})),D=Object(l.computed)((function(){return{name:v.n,params:{productId:m.item.product.code}}})),T=Object(l.computed)((function(){var path=w(m.item.product.category.url);return!!path&&{path:path,query:{oldBasketId:S.value}}}));return Object(l.watch)(k,(function(e){C.value=!!e,n("deleteProduct",e)})),{errorMessage:x,showError:C,name:P,productPicture:E,className:R,productPageLink:D,deleteProduct:function(){return _((function(){return h({shopId:O.value,basketId:S.value})}))},replaceProductUrl:T}};var h=m,O=(n(599),n(2)),component=Object(O.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item?n("div",{staticClass:"basket-product-item basket-product-item__out-of-order",class:e.className,attrs:{"data-test-id":"out-of-stock-item"}},[n("div",{staticClass:"basket-product-item__image"},[n("m-image",{attrs:{src:e.productPicture,size:"64x64"}})],1),e._v(" "),n("div",{staticClass:"basket-product-item__container"},[n("app-link",{staticClass:"basket-product-item__title",attrs:{to:e.productPageLink,"data-test-id":"out-of-stock-item-title"}},[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),n("div",{staticClass:"basket-product-item__status"},[e._v("\n      Закончился\n    ")]),e._v(" "),n("div",{staticClass:"basket-product-item__controls"},[n("div",{staticClass:"basket-product-item__controls-delete",attrs:{"data-test-id":"out-of-stock-item-delete-btn"},on:{click:e.deleteProduct}},[n("m-icon",{attrs:{width:"20px",height:"22px",name:"trash-basket"}}),e._v(" "),e.showError?n("m-tooltip",{attrs:{trigger:"custom","life-time":2500,message:e.errorMessage,bottom:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}}):e._e()],1),e._v(" "),n("m-button",{staticClass:"basket-product-item__controls-change",attrs:{type:"button","data-test-id":"out-of-stock-item-replace-btn"}},[n("app-link",{attrs:{to:e.replaceProductUrl}},[e._v("\n          Заменить\n        ")])],1)],1)],1)]):e._e()}),[],!1,null,"4cfdf2d9",null);t.a=component.exports},function(e,t,n){"use strict";var r=n(0),o={};o.props={iconName:String,iconSize:String,iconClass:String,to:[String,Object],tag:String,type:String,rounded:Boolean},o.setup=function(e,t){var n=e,o=Object(r.useAttrs)();return{className:Object(r.computed)((function(){return{"is-rounded":n.rounded}})),btnComponent:Object(r.computed)((function(){return n.to?"app-link":o.href?"a":n.tag?n.tag:"button"}))}};var c=o,l=(n(572),n(2)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.btnComponent,e._b({tag:"component",staticClass:"m-button-icon",class:e.className,attrs:{type:e.type}},"component",e.$attrs,!1),[n("m-icon",{class:e.iconClass,attrs:{name:e.iconName,size:e.iconSize}})],1)}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r=n(113),o=n(0),c=n(107),l={setup:function(e,t){var n=Object(r.a)(),l=n.basketCurrentPrice,d=n.basketDeliveryMinSum,f=n.freeDelivery,v=n.basketDeliveryPrice,m=n.reachMinSumOrder,h=n.showDeliveryProgressBar,O=Object(o.computed)((function(){return!h.value||l.value>=f.value})),y=Object(o.computed)((function(){return!O.value||!m.value})),j=Object(o.computed)((function(){return Object(c.a)(d.value-l.value,!0)})),_=Object(o.computed)((function(){return Object(c.a)(f.value-l.value,!0)})),k=Object(o.computed)((function(){return Object(c.a)(v.value)}));return{basketCurrentPrice:l,basketDeliveryMinSum:d,freeDelivery:f,showDeliveryProgressBar:h,displayProgressBars:y,toMinOrder:j,toFreeDelivery:_,deliveryPrice:k}}},d=l,f=(n(598),n(2)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.displayProgressBars?n("div",{staticClass:"basket-progress-bar__wrapper"},[n("div",{staticClass:"basket-progress-bar__container"},[n("m-progress-bar",{attrs:{goal:e.basketDeliveryMinSum,current:e.basketCurrentPrice},scopedSlots:e._u([{key:"before",fn:function(){return[n("div",{staticClass:"basket-progress-bar__description"},[n("div",{staticClass:"basket-progress-bar__description-text"},[n("p",[e._v("До минимального заказа "),n("span",[e._v(e._s(e.toMinOrder))])])]),e._v(" "),n("m-icon",{attrs:{name:"shopping-bag",size:"24px"}})],1)]},proxy:!0}],null,!1,4027059970)}),e._v(" "),e.showDeliveryProgressBar?n("m-progress-bar",{attrs:{goal:e.freeDelivery,current:e.basketCurrentPrice},scopedSlots:e._u([{key:"before",fn:function(){return[n("div",{staticClass:"basket-progress-bar__description"},[n("div",{staticClass:"basket-progress-bar__description-text"},[n("p",[e._v("До бесплатной доставки "),n("span",[e._v(e._s(e.toFreeDelivery))])]),e._v(" "),n("p",{staticClass:"basket-progress-bar__delivery-price"},[e._v("Сейчас доставка "+e._s(e.deliveryPrice)+" рублей")])]),e._v(" "),n("m-icon",{attrs:{name:"courier",size:"24px"}})],1)]},proxy:!0}],null,!1,2169547776)}):e._e()],1)]):e._e()}),[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r=n(21),o=n(0),c=(n(33),n(56),n(29),n(112)),l=n(3),d=(n(43),n(54),n(26),n(65),n(41),n(98)),f=n(32),v=n(11),m=n(87),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ENV_VARIABLES",t=new Date,n=[t.getHours(),t.getDay()],r=n[0],o=n[1],c=69-r-o;return Object(d.a)({key:e,salt:c})},O=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PROTOCOL"!==t){e.next=9;break}return n=Object(v.o)(),r=Object(m.a)(n),e.next=5,r.fetchProtocol();case 5:o=e.sent,Object(v.A)(o),e.next=10;break;case 9:"ENV_VARIABLES"===t&&console.warn({APP_CONFIG:Object(f.k)()});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){try{var t=[{key:"ENV_VARIABLES"},{key:"PROTOCOL"}];if(!e.includes("SHOW_ME_THE_MONEY"))return;for(var n=e.split("::").pop(),i=0,r=t.length;i<r;i+=1){var o=t[i],c=o.key;if(o.hashed){if(n===(d.a&&h(c)))return void O(c)}else if(c===n)return void O(c)}throw new Error("cant find key or hash is incorrect")}catch(e){console.warn("Nice try, ",e.message)}},j=n(6);t.a=function(){var e=Object(c.a)(),t=Object(r.h)(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.slice(0,t).map((function(e,t){return{id:t,name:e,url:{name:j.z,query:{q:e}}}}))},l=Object(o.computed)((function(){var e;return null===(e=t.query)||void 0===e?void 0:e.q})),d=Object(o.computed)((function(){return e.searchData})),f=Object(o.computed)((function(){var e;return(null===(e=d.value)||void 0===e?void 0:e.items)||[]})),v=Object(o.computed)((function(){return e.searchRecommendations})),m=Object(o.computed)((function(){var t,r,o=!(null===(t=d.value)||void 0===t||null===(r=t.suggestions)||void 0===r||!r.length)?d.value.suggestions:e.searchRecommendations;return n(o)})),h=Object(o.computed)((function(){return n(e.searchHistory)})),O=Object(o.computed)((function(){return f.value.slice(0,5).map((function(e){return{id:e.id,url:{name:j.n,params:{productId:e.code}},name:e.name,picture:e.picture}}))})),_=Object(o.computed)((function(){return Math.ceil(e.searchCount/(e.pageSize||20))})),k=Object(o.computed)((function(){return e.searchNotFound}));return{searchQuery:l,searchData:d,searchProducts:f,searchRecommendations:v,searchSuggest:m,historySuggest:h,searchSuggestProducts:O,pagesCountSearch:_,searchNotFound:k,initialize:function(){e.fetchSearchRecommendations(),e.fetchSearchHistory()},fetchSearchData:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null==q||!q.length||q.length<3)return e.setSearchNotFound(!0),e.clearSearchData();y(q);var t={searchQuery:{q:q},limit:2};return e.fetchSearchData(t)},clearSearchData:function(){return e.clearSearchData()}}}},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"img/loyalty.a91971e.svg"},,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(481),e.exports=n(657)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(363)},function(e,t,n){"use strict";n(364)},function(e,t,n){"use strict";n(365)},function(e,t,n){"use strict";n(366)},function(e,t,n){"use strict";n(367)},function(e,t,n){"use strict";n(368)},function(e,t,n){"use strict";n(369)},function(e,t,n){"use strict";n(370)},function(e,t,n){e.exports={}},,function(e,t,n){"use strict";n(371)},function(e,t,n){"use strict";n(372)},function(e,t,n){"use strict";n(373)},function(e,t,n){"use strict";n(374)},function(e,t,n){"use strict";n(375)},function(e,t,n){"use strict";n(376)},function(e,t,n){"use strict";n(377)},function(e,t,n){"use strict";n(378)},function(e,t,n){"use strict";n(379)},function(e,t,n){"use strict";n(380)},function(e,t,n){"use strict";n(382)},function(e,t,n){"use strict";n(383)},function(e,t,n){"use strict";n(384)},function(e,t,n){"use strict";n(385)},function(e,t,n){"use strict";n(386)},function(e,t,n){"use strict";n(388)},function(e,t,n){"use strict";n(389)},function(e,t,n){"use strict";n(390)},function(e,t,n){"use strict";n(392)},function(e,t,n){"use strict";n(393)},function(e,t,n){"use strict";n(394)},function(e,t,n){"use strict";n(395)},function(e,t,n){"use strict";n(396)},function(e,t,n){"use strict";n(397)},function(e,t,n){"use strict";n(398)},function(e,t,n){"use strict";n(399)},function(e,t,n){"use strict";n(400)},function(e,t,n){"use strict";n(401)},function(e,t,n){"use strict";n(402)},function(e,t,n){"use strict";n(403)},function(e,t,n){e.exports=n.p+"img/ok.4f4ccf0.svg"},function(e,t,n){e.exports=n.p+"img/vk.49a0c10.svg"},function(e,t,n){e.exports=n.p+"img/twitter.9c9901e.svg"},function(e,t,n){"use strict";n(406)},function(e,t,n){"use strict";n(407)},function(e,t,n){"use strict";n(408)},function(e,t,n){"use strict";n(409)},function(e,t,n){"use strict";n(410)},function(e,t,n){"use strict";n(411)},function(e,t,n){"use strict";n(412)},function(e,t,n){"use strict";n(413)},function(e,t,n){"use strict";n(414)},function(e,t,n){var map={"./icons.svg":625,"./payment-card.svg":626,"./profile.svg":627};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=624},function(e,t,n){"use strict";n.r(t),t.default=n.p+"sprites/icons.951ceacd010621fec026e0f85316adb3.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"sprites/payment-card.6cc5bdf7ada96115655e4a8a33a7d0b2.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"sprites/profile.fe8ecb495078e0a4186d3f3ac18840ab.svg"},function(e,t,n){"use strict";n(415)},function(e,t,n){"use strict";n(416)},,,,function(e,t,n){"use strict";n(417)},function(e,t,n){"use strict";n(418)},,,function(e,t,n){"use strict";n(419)},function(e,t,n){"use strict";n(420)},function(e,t,n){"use strict";n(421)},function(e,t,n){"use strict";n(422)},function(e,t,n){"use strict";n(423)},function(e,t,n){"use strict";n(424)},function(e,t,n){"use strict";n(425)},function(e,t,n){"use strict";n(426)},function(e,t,n){"use strict";n(427)},function(e,t,n){"use strict";n(428)},function(e,t,n){"use strict";n(429)},function(e,t,n){"use strict";n(430)},function(e,t,n){"use strict";n(431)},function(e,t,n){"use strict";n(432)},function(e,t,n){"use strict";n(433)},function(e,t,n){"use strict";n(434)},function(e,t,n){"use strict";n(435)},function(e,t,n){"use strict";n(436)},function(e,t,n){"use strict";n(437)},function(e,t,n){"use strict";n(438)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(56),n(76),n(13),n(74),n(91),n(19)),c=n(3),l=(n(41),n(29),n(5),n(9),n(10),n(12),n(43),n(54),n(20),n(33),n(26),n(35),n(36),n(1)),d=n(284),f=(n(14),n(15),n(4)),v=n(37),m=(n(177),n(63),n(144),n(279),n(462),n(69),n(72),n(535),n(86));function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _(e){l.c.config.errorHandler&&l.c.config.errorHandler(e)}function k(e){return e.then((function(e){return e.default||e}))}function x(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$children||[],o=y(r);try{for(o.s();!(t=o.n()).done;){var c=t.value;c.$fetch?n.push(c):c.$children&&x(c,n)}}catch(e){o.e(e)}finally{o.f()}return n}function w(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),O(O({},data),t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function C(e){return e.options&&e._Ctor===e||(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=l.c.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file)),e}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return P(e,t,"instances")}function E(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function R(e,t){return Promise.all(E(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n,r,o,c){var l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n||n.options){e.next=11;break}return e.prev=1,e.next=4,n();case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&"ChunkLoadError"===e.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(l=Date.now(),(!(d=parseInt(window.sessionStorage.getItem("nuxt-reload")))||d+6e4<l)&&(window.sessionStorage.setItem("nuxt-reload",l),window.location.reload(!0))),e.t0;case 11:return o.components[c]=n=C(n),e.abrupt("return","function"==typeof t?t(n,r,o,c):n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function D(e){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,R(t);case 4:return e.abrupt("return",O(O({},t),{},{meta:P(t).map((function(e,n){return O(O({},e.options.meta),(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,payload:n.payload,error:n.error,base:t.router.options.base,env:{NITRO_PRESET:"server"}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var r=Object(o.a)(path);if("number"==typeof e||"undefined"!==r&&"object"!==r||(n=path||{},path=e,r=Object(o.a)(path),e=302),"object"===r&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(m.e)(path,n),window.location.assign(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([D(n.route),D(n.from)]);case 3:r=e.sent,c=Object(v.a)(r,2),l=c[0],d=c[1],n.route&&(t.context.route=l),n.from&&(t.context.from=d),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():M(e[0],t).then((function(){return A(e.slice(1),t)}))}function M(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function N(base,e){if("hash"===e)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var t=(path||"/")+window.location.search+window.location.hash;return Object(m.d)(t)}function $(e,t){return function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",K(t)));return function(t,r){for(var path="",data=t||{},o=(r||{}).pretty?z:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],f=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var v=0;v<d.length;v++){if(f=o(d[v]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");path+=(0===v?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?V(d):o(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');path+=l.prefix+f}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=F.exec(e));){var d=n[0],f=n[1],v=n.index;if(path+=e.slice(c,v),c=v+d.length,f)path+=f[1];else{var m=e[c],h=n[2],O=n[3],y=n[4],j=n[5],_=n[6],k=n[7];path&&(r.push(path),path="");var x=null!=h&&null!=m&&m!==h,w="+"===_||"*"===_,C="?"===_||"*"===_,P=n[2]||l,pattern=y||j;r.push({name:O||o++,prefix:h||"",delimiter:P,optional:C,repeat:w,partial:x,asterisk:Boolean(k),pattern:pattern?G(pattern):k?".*":"[^"+H(P)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t),t)}function L(e,t){var n={},r=O(O({},e),t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function U(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return O(O({},e),{},{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function z(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function V(e){return z(e,!0)}function H(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function G(e){return e.replace(/([=!:$/()])/g,"\\$1")}function K(e){return e&&e.sensitive?"":"i"}function W(e,t,n){e.$options[t]||(e.$options[t]=[]),e.$options[t].includes(n)||e.$options[t].push(n)}var J=m.c,X=(m.g,m.b);function Q(e){try{window.history.scrollRestoration=e}catch(e){}}var Y=n(449),Z=n(285),ee=n.n(Z),te=n(158),ne=n.n(te),re=n(156),oe=n(6),ae=(n(536),n(538),function(){return[{path:"/brands/*",redirect:function(e){return{name:oe.e,params:e.params,query:e.query}}},{path:"/express/brands",name:oe.f,component:function(){return n.e(4).then(n.bind(null,954)).then((function(e){return e.default||e}))}},{path:"/express/brands/:brandId",name:oe.e,props:!0,component:function(){return n.e(5).then(n.bind(null,955)).then((function(e){return e.default||e}))}}]}),ie=function(){return[{path:"/catalog",redirect:{name:oe.j}},{path:"/catalog/*",redirect:function(e){return{name:oe.h,params:e.params,query:e.query}}},{path:"/express/catalog/*",name:oe.h,component:function(){return Promise.all([n.e(2),n.e(1),n.e(6)]).then(n.bind(null,948)).then((function(e){return e.default||e}))}}]},ce=function(){return[{path:"/product",redirect:{name:oe.j}},{path:"/product/:productId",redirect:function(e){return{name:oe.n,params:e.params,query:e.query}}},{path:"/express/product/:productId",name:oe.n,component:function(){return n.e(10).then(n.bind(null,945)).then((function(e){return e.default||e}))}}]},ue=function(){return[{path:"/",name:oe.j,component:function(){return n.e(7).then(n.bind(null,939)).then((function(e){return e.default||e}))}}]},se=function(){return[{path:"/profile/*",redirect:function(e){return{name:oe.o,params:e.params,query:e.query}}},{path:"/express/profile",name:oe.o,redirect:{name:oe.r},component:function(){return n.e(17).then(n.bind(null,946)).then((function(e){return e.default||e}))},children:[{path:"orders",name:oe.r,component:function(){return n.e(12).then(n.bind(null,949)).then((function(e){return e.default||e}))}},{path:"orders/:orderId",name:oe.s,component:function(){return n.e(13).then(n.bind(null,940)).then((function(e){return e.default||e}))}},{path:"orders/:orderId/replacement/:goodId",name:oe.t,component:function(){return n.e(14).then(n.bind(null,950)).then((function(e){return e.default||e}))}},{path:"personal",name:oe.u,component:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,956)).then((function(e){return e.default||e}))}},{path:"address",name:oe.p,component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,957)).then((function(e){return e.default||e}))}},{path:"cards",name:oe.q,component:function(){return n.e(15).then(n.bind(null,958)).then((function(e){return e.default||e}))}},{path:"support",name:oe.v,component:function(){return n.e(18).then(n.bind(null,959)).then((function(e){return e.default||e}))}}]}]},le=function(){return[{path:"/express/:pathMatch(.*)*",name:oe.A,props:!0,component:function(){return n.e(22).then(n.bind(null,960)).then((function(e){return e.default||e}))}},{path:"/:pathMatch(.*)*",redirect:function(e){return{path:"/express/".concat(e.params.pathMatch)}}}]},de=function(){return[{path:"/basket",redirect:function(e){return{name:oe.d,params:e.params,query:e.query}}},{path:"/express/basket",name:oe.d,component:function(){return n.e(3).then(n.bind(null,943)).then((function(e){return e.default||e}))}}]},pe=function(){return[{path:"/restore-password",redirect:{name:oe.y}},{path:"/express/restore-password",name:oe.y,component:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,961)).then((function(e){return e.default||e}))}}]},fe=function(){return[{path:"/search",redirect:{name:oe.z}},{path:"/express/search",name:oe.z,component:function(){return Promise.all([n.e(2),n.e(1),n.e(23)]).then(n.bind(null,962)).then((function(e){return e.default||e}))}}]},ve=function(){return[{path:"/promotion",redirect:{name:oe.j}},{path:"/promotion/:code",redirect:function(e){return{name:oe.x,params:e.params,query:e.query}}},{path:"/express/promotion/:code",name:oe.x,component:function(){return Promise.all([n.e(2),n.e(1),n.e(20)]).then(n.bind(null,963)).then((function(e){return e.default||e}))}}]},me=function(){return[{path:"/order/:orderId/payment/success",redirect:function(e){return{name:oe.m,params:e.params,query:e.query}}},{path:"/express/order/:orderId/payment/success",name:oe.m,component:function(){return n.e(9).then(n.bind(null,964)).then((function(e){return e.default||e}))}},{path:"/order/:orderHash/pay",redirect:function(e){return{name:oe.l,params:e.params,query:e.query}}},{path:"/express/order/:orderHash/pay",name:oe.l,component:function(){return n.e(8).then(n.bind(null,965)).then((function(e){return e.default||e}))}}]},he=function(){return[{path:"/product",redirect:{name:oe.j}},{path:"/promo/:slug",redirect:function(e){return{name:oe.w,params:e.params,query:e.query}}},{path:"/express/promo/:slug",name:oe.w,component:function(){return Promise.all([n.e(2),n.e(1),n.e(19)]).then(n.bind(null,947)).then((function(e){return e.default||e}))}}]},be=function(e){return function(e,t){var n=t.reduce((function(t,n){var r="function"==typeof n?n(e):n;return t.concat(r)}),[]);return null==n?void 0:n.filter(Boolean).flat()}(e,[ae,ie,ce,se,ue,de,pe,fe,ve,me,he,le])};function ge(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Oe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ge(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ge(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}l.c.use(re.a);n(53);"scrollRestoration"in window.history&&(Q("manual"),window.addEventListener("beforeunload",(function(){Q("auto")})),window.addEventListener("load",(function(){Q("manual")})));l.c.use(re.a);var ye={mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,n){var r=!1,o=e!==t;n?r=n:o&&function(e){var t=P(e);if(1===t.length){var n=t[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return t.some((function(e){var t=e.options;return t&&t.scrollToTop}))}(e)&&(r={x:0,y:0});var c=window.$nuxt;return(!o||e.path===t.path&&e.hash!==t.hash)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{var o=document.querySelector(n);if(o){var c;r={selector:n};var l=Number(null===(c=getComputedStyle(o)["scroll-margin-top"])||void 0===c?void 0:c.replace("px",""));l&&(r.offset={y:l})}}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)}))}))},routes:[{path:"/Basket/Basket",component:function(){return k(n.e(3).then(n.bind(null,943)))},name:"Basket-Basket"},{path:"/Brands/BrandsList",component:function(){return k(n.e(4).then(n.bind(null,954)))},name:"Brands-BrandsList"},{path:"/Brands/BrandsView",component:function(){return k(n.e(5).then(n.bind(null,955)))},name:"Brands-BrandsView"},{path:"/Catalog/Index",component:function(){return k(Promise.all([n.e(2),n.e(1),n.e(6)]).then(n.bind(null,948)))},name:"Catalog-Index"},{path:"/Home/Index",component:function(){return k(n.e(7).then(n.bind(null,939)))},name:"Home-Index"},{path:"/OrderPayment/OrderPayment",component:function(){return k(n.e(8).then(n.bind(null,965)))},name:"OrderPayment-OrderPayment"},{path:"/OrderPayment/OrderPaymentSuccess",component:function(){return k(n.e(9).then(n.bind(null,964)))},name:"OrderPayment-OrderPaymentSuccess"},{path:"/Product/Product",component:function(){return k(n.e(10).then(n.bind(null,945)))},name:"Product-Product"},{path:"/Profile/ProfileAddress",component:function(){return k(Promise.all([n.e(0),n.e(11)]).then(n.bind(null,957)))},name:"Profile-ProfileAddress"},{path:"/Profile/ProfileLayout",component:function(){return k(n.e(17).then(n.bind(null,946)))},name:"Profile-ProfileLayout"},{path:"/Profile/ProfileOrder",component:function(){return k(n.e(13).then(n.bind(null,940)))},name:"Profile-ProfileOrder"},{path:"/Profile/ProfileOrderReplacement",component:function(){return k(n.e(14).then(n.bind(null,950)))},name:"Profile-ProfileOrderReplacement"},{path:"/Profile/ProfileOrders",component:function(){return k(n.e(12).then(n.bind(null,949)))},name:"Profile-ProfileOrders"},{path:"/Profile/ProfileSupport",component:function(){return k(n.e(18).then(n.bind(null,959)))},name:"Profile-ProfileSupport"},{path:"/Promo/Index",component:function(){return k(Promise.all([n.e(2),n.e(1),n.e(19)]).then(n.bind(null,947)))},name:"Promo-Index"},{path:"/Promotion/Index",component:function(){return k(Promise.all([n.e(2),n.e(1),n.e(20)]).then(n.bind(null,963)))},name:"Promotion-Index"},{path:"/RestorePassword/RestorePassword",component:function(){return k(Promise.all([n.e(0),n.e(21)]).then(n.bind(null,961)))},name:"RestorePassword-RestorePassword"},{path:"/Search/Index",component:function(){return k(Promise.all([n.e(2),n.e(1),n.e(23)]).then(n.bind(null,962)))},name:"Search-Index"},{path:"/Static/Index",component:function(){return k(n.e(22).then(n.bind(null,960)))},name:"Static-Index"},{path:"/Profile/ProfileCards/ProfilePersonalCardItem",component:function(){return k(n.e(26).then(n.bind(null,836)))},name:"Profile-ProfileCards-ProfilePersonalCardItem"},{path:"/Profile/ProfileCards/ProfilePersonalCards",component:function(){return k(n.e(15).then(n.bind(null,958)))},name:"Profile-ProfileCards-ProfilePersonalCards"},{path:"/Profile/ProfilePersonal/ProfilePersonal",component:function(){return k(Promise.all([n.e(0),n.e(16)]).then(n.bind(null,956)))},name:"Profile-ProfilePersonal-ProfilePersonal"},{path:"/Profile/ProfilePersonal/ProfilePersonalAddress",component:function(){return k(Promise.all([n.e(0),n.e(27)]).then(n.bind(null,966)))},name:"Profile-ProfilePersonal-ProfilePersonalAddress"},{path:"/Profile/ProfilePersonal/ProfilePersonalMCard",component:function(){return k(n.e(28).then(n.bind(null,833)))},name:"Profile-ProfilePersonal-ProfilePersonalMCard"},{path:"/Profile/ProfilePersonal/ProfilePersonalNotifications",component:function(){return k(n.e(29).then(n.bind(null,835)))},name:"Profile-ProfilePersonal-ProfilePersonalNotifications"},{path:"/Profile/ProfilePersonal/ProfilePersonalProfile",component:function(){return k(Promise.all([n.e(0),n.e(30)]).then(n.bind(null,834)))},name:"Profile-ProfilePersonal-ProfilePersonalProfile"}],fallback:!1};function je(e,t,n){return r=ye,o=new re.a(Oe(Oe({},r),{},{mode:"history",routes:[],scrollBehavior:function(e,t){var n=t.name!==e.name,r=e.name===oe.h&&t.path!==e.path;return n||r||e.name===oe.A?{x:0,y:0}:null}})),be({router:o}).forEach((function(e){o.addRoute(e)})),o;var r,o}var _e={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,l=n.$nuxt.nuxt.transitions,d=n.$nuxt.nuxt.defaultTransition,f=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&f++,n=n.$parent;data.nuxtChildDepth=f;var v=l[f]||d,m={};ke.forEach((function(e){void 0!==v[e]&&(m[e]=v[e])}));var h={};xe.forEach((function(e){"function"==typeof v[e]&&(h[e]=v[e].bind(c))}));var O=h.beforeEnter;if(h.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),O)return O.call(c,e)},!1===v.css){var y=h.leave;(!y||y.length<2)&&(h.leave=function(e,t){y&&y.call(c,e),c.$nextTick(t)})}var j=o("routerView",data);return r.keepAlive&&(j=o("keep-alive",{props:r.keepAliveProps},[j])),o("transition",{props:m,on:h},[j])}},ke=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],xe=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],we=n(146),Ce=(n(145),n(102)),Pe=n(31),Se=n(7),Ee=n(51),Re=n(109),De=n(32),Te=n(38),Ie=n(22),Be=n(68),Ae=n(80),Me=n(149),qe=n(25),Ne=n(118),$e={};$e.props={modal:Object},$e.setup=function(e,t){var n,o,l,d=e,f=Object(Be.a)(["modal-open","modal-close","modal-resolve","modal-abstraction-close"]),v=[Object(r.ref)(!1),Object(r.ref)(!1)],m=v[0],h=v[1],O=null,y=null,j=Object(Ae.a)().displayMode;n=Object(r.getCurrentInstance)(),o=function(){return n},l=function(){var element=n.proxy.$el;return null==element?void 0:element.id},Object(r.onMounted)((function(){var e=[l(),Object(Re.b)()],t=e[0];t&&e[1].setItem({id:t,get:o})})),Object(r.onUnmounted)((function(){var e=[l(),Object(Re.b)()],t=e[0];t&&e[1].deleteItemsBy({id:t})}));var _=Object(r.computed)((function(){return d.modal.persistent})),k=Object(r.computed)((function(){return d.modal.closeable})),x=Object(r.computed)((function(){return d.modal.position})),w=Object(r.computed)((function(){return d.modal.dataTestId})),C=Object(r.computed)((function(){return d.modal.index})),P=Object(r.computed)((function(){return d.modal.size})),S=Object(r.computed)((function(){return d.modal.type})),E=Object(r.computed)((function(){return d.modal.confirmExit})),R=Object(r.computed)((function(){return d.modal.contentClass||"no-class"})),D=Object(r.computed)((function(){return d.modal.outerClass||"no-class"})),T=Object(r.computed)((function(){return{zIndex:2*C.value+101}})),I=Object(r.computed)((function(){return{zIndex:2*C.value+102}})),B=Object(r.computed)((function(){var e,t,n="Mobile"===j.value?"full":x.value,r=null!==(e=D.value)&&void 0!==e?e:{},o=(null===(t=d.modal)||void 0===t?void 0:t.borderRadius)||"regular";return Object(qe.isString)(r)&&(r=[r]),["modal-abstraction__size-".concat(P.value),"modal-abstraction__position-".concat(n),"modal-abstraction__type-".concat(S.value),"modal-abstraction__radius-".concat(o)].concat(Object(Pe.a)(r))})),A=Object(r.computed)((function(){return{"modal-abstraction__active":h.value}})),M=Object(r.computed)((function(){return d.modal.active&&k.value&&!_.value})),N=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?m.value=!0:h.value=!1,O=setTimeout((function(){e?h.value=!0:m.value=!1,O=null,y=setTimeout((function(){f(e?"modal-open":"modal-close",d.modal),y=null}),100)}),100)},$=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,n.length>1&&void 0!==n[1]&&n[1]||!E.value||null!==t){e.next=9;break}return e.next=5,Object(Ee.g)();case 5:!0===e.sent&&(f("modal-resolve",{payload:t,modal:d.modal}),N(!1)),e.next=11;break;case 9:f("modal-resolve",{payload:t,modal:d.modal}),N(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Me.a)("modal-abstraction-resolve",(function(e){var t=e.payload,n=e.force;e.modal.id===d.modal.id&&$(t,n)}));var L,U=function(){f("modal-abstraction-close",d.modal),$(null,!1)};return L=function(e){"Escape"===e.code&&M.value&&U()},Object(r.onMounted)((function(){document.addEventListener("keyup",L)})),Object(r.onUnmounted)((function(){document.removeEventListener("keyup",L)})),Object(r.onMounted)((function(){N(!0)})),Object(r.onUnmounted)((function(){O&&clearTimeout(O),y&&clearTimeout(y)})),{showShield:m,closeable:k,dataTestId:w,contentClass:R,shieldStyle:T,contentStyle:I,outerClassName:B,className:A,handleModalClose:U,handleShieldClick:function(){_.value||U()}}},$e.components=Object.assign({MButtonClose:Ne.a},$e.components);var Le=$e,Ue=(n(574),n(2)),Fe=Object(Ue.a)(Le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-abstraction__outer",class:e.outerClassName},[n("app-shield",{staticClass:"modal-abstraction__shield",class:{"modal-abstraction__shield-active":e.showShield},style:e.shieldStyle,nativeOn:{click:function(t){return e.handleShieldClick.apply(null,arguments)}}}),e._v(" "),n("section",{staticClass:"modal-abstraction",class:e.className,style:e.contentStyle,on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"modal-abstraction__inner"},[e.closeable?n("div",{staticClass:"modal-abstraction__header"},[n("MButtonClose",{staticClass:"modal-abstraction__close",attrs:{medium:"","data-test-id":"close-popup-btn"},nativeOn:{click:function(t){return e.handleModalClose.apply(null,arguments)}}})],1):e._e(),e._v(" "),n("div",{staticClass:"modal-abstraction__content",class:e.contentClass,attrs:{"data-test-id":e.dataTestId}},[e._t("default")],2)])])],1)}),[],!1,null,null,null),ze=Fe.exports,Ve=n(21),He={};He.props={notification:{type:Object,default:function(){}},maxTitleLength:{type:Number,default:40},buttonText:{type:String,default:"Отменить"}},He.setup=function(e,t){var n,o=e,c=t.emit,l=o.notification.options.duration,d=Object(r.computed)((function(){return o.notification.options.transitionName})),f=Object(r.computed)((function(){return o.notification.options.icon})),v=Object(r.computed)((function(){return!!o.notification.options.showButton})),m=Object(r.computed)((function(){return"notification--".concat(o.notification.options.transitionName)})),content=Object(r.computed)((function(){return o.notification.content})),title=Object(r.computed)((function(){return o.notification.title.length>o.maxTitleLength?"".concat(o.notification.title.substring(0,o.maxTitleLength-2),"…"):o.notification.title})),h=function(){return c("close")};return Object(r.onMounted)((function(){n=setTimeout((function(){h()}),l)})),Object(r.onUnmounted)((function(){return clearTimeout(n)})),{transitionName:d,displayIcon:f,showButton:v,className:m,content:content,title:title,handleClose:h}};var Ge=He,Ke=(n(575),Object(Ue.a)(Ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transitionName,appear:""}},[n("div",{staticClass:"notification",class:e.className},[n("div",{staticClass:"notification__inner"},[n("div",{staticClass:"notification__icon"},[e.displayIcon?n("MIcon",{attrs:{name:e.displayIcon,size:"22px"}}):e._e()],1),e._v(" "),n("div",{staticClass:"notification__message"},[n("div",{staticClass:"notification__title"},[e._v(e._s(e.title))]),e._v(" "),e.content?n("div",{staticClass:"notification__content"},[e._v(e._s(e.content))]):e._e()]),e._v(" "),e.showButton?n("span",{staticClass:"notification__action",on:{click:e.handleClose}},[e._v(e._s(e.buttonText))]):e._e()])])])}),[],!1,null,null,null).exports),We={setup:function(e,t){var n=Object(Ve.j)("notifications",(function(){return[]})),o=Object(r.computed)((function(){return n.value[0]}));return Object(Me.a)("notification-open",(function(e){return n.value=[e]})),{currentNotification:o,clearNotifications:function(){return n.value=[]}}}};We.components=Object.assign({Notification:Ke},We.components);var Je=We,Xe=Object(Ue.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-collection"},[e.currentNotification?n("Notification",{key:e.currentNotification.id,attrs:{notification:e.currentNotification},on:{close:e.clearNotifications}}):e._e()],1)}),[],!1,null,null,null).exports;function Qe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ye(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Qe(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Qe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ze={};Ze.setup=function(e,t){var o=function(){return{component:Promise.all([n.e(0),n.e(38)]).then(n.bind(null,941))}},c=function(){return{component:n.e(43).then(n.bind(null,967))}},l=function(){return{component:n.e(48).then(n.bind(null,968))}},d=function(){return{component:Promise.all([n.e(0),n.e(41)]).then(n.bind(null,969))}},f=function(){return{component:Promise.all([n.e(0),n.e(40)]).then(n.bind(null,970))}},v=function(){return{component:n.e(46).then(n.bind(null,951))}},m=function(){return{component:n.e(50).then(n.bind(null,971))}},h=function(){return{component:n.e(37).then(n.bind(null,944))}},O=function(){return{component:n.e(44).then(n.bind(null,952))}},y=function(){return{component:n.e(42).then(n.bind(null,972))}},j=function(){return{component:Promise.all([n.e(0),n.e(36)]).then(n.bind(null,942))}},_=function(){return{component:n.e(45).then(n.bind(null,953))}},k=function(){return{component:n.e(39).then(n.bind(null,973))}},x=function(){return{component:n.e(51).then(n.bind(null,974))}},w=function(){return{component:n.e(47).then(n.bind(null,975))}},C=function(){return{component:n.e(49).then(n.bind(null,976))}},P=Object(Re.c)(),S=Object(r.ref)([]),E=Object(r.ref)(null),R=Object(r.ref)(null),D=Object(r.ref)(!1),T=function(){return S.value=Object(Pe.a)(P.getAll())},I=function(e){P.deleteItemsBy({id:e}),T()},B=Object(r.computed)((function(){return S.value.map((function(s,e){var component=function(e){switch(e){case Se.m:return o;case Se.C:return c;case Se.g:return l;case Se.D:return d;case Se.s:return f;case Se.t:return v;case Se.r:return m;case Se.p:return h;case Se.y:return O;case Se.u:return j;case Se.q:return _;case Se.w:return k;case Se.v:return x;case Se.x:return y;case Se.n:return w;case Se.o:return C;default:return null}}(s.type),t=e===S.value.length-1;return Ye(Ye({},s),{},{component:component,index:e,active:t,key:s.id,id:s.props.id||s.id})})).filter((function(s){return null!==s.component}))}));return Object(r.onMounted)((function(){E.value=Object(Te.c)("modal-open",T),D.value="true"===Object(De.f)(),T()})),Object(r.onUnmounted)((function(){return Object(Te.d)(E.value)})),{modalsRef:R,displayDevHelp:D,removeFromCollection:I,handleModalResolve:function(e,t){e.promise.resolve(t)},handleDevClick:function(){Object(Ee.t)()},initializeResolve:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r,o=null===(r=R.value)||void 0===r?void 0:r[e.index];o?Object(Te.a)("modal-abstraction-resolve",{payload:t,force:n,modal:e}):(e.promise.resolve(t),I(e.id))}catch(e){Object(Ie.e)("MODAL CLOSE ERROR:",e.message)}},displayModals:B}},Ze.components=Object.assign({ModalAbstraction:ze,NotificationCollection:Xe},Ze.components);var et=Ze,tt=(n(576),Object(Ue.a)(et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"modal-collection"},[e._l(e.displayModals,(function(t){return n("ModalAbstraction",{key:t.key,ref:"modalsRef",refInFor:!0,attrs:{id:t.id,modal:t},on:{"modal-resolve":function(n){return e.handleModalResolve(t,n)},"modal-close":function(n){return e.removeFromCollection(t.id)}}},[n(t.component,e._b({tag:"component",attrs:{modal:t},on:{resolve:function(n){return e.initializeResolve(t,n)},close:function(n){return e.initializeResolve(t,null)},"force-close":function(n){return e.initializeResolve(t,null,!0)}}},"component",t.props,!1))],1)})),e._v(" "),e.displayDevHelp?n("div",{staticClass:"modal-collection__dev-helper",on:{click:e.handleDevClick}},[e._v("\n    Dev help\n  ")]):e._e(),e._v(" "),n("NotificationCollection",{key:"notification-static-key"})],2)}),[],!1,null,null,null).exports),nt=n(239),ot={};ot.props={error:{type:Object,default:function(){return{}}}},ot.setup=function(e,t){var n=e;return{refreshKey:Object(we.a)().refreshKey,settings:Object(r.computed)((function(){var e,t,r,o=(null===(e=n.error)||void 0===e?void 0:e.error)||n.error,c=(null==o||null===(t=o.response)||void 0===t?void 0:t.status)||(null==o?void 0:o.statusCode)||(null==o?void 0:o.code)||(null===(r=n.error)||void 0===r?void 0:r.statusCode);return c=Number.isNaN(+c)?c:Number(c),Object(Ce.d)(c)||undefined.error}))}},ot.components=Object.assign({MErrorPage:nt.a,ModalCollection:tt},ot.components);var at=ot,it=(n(578),Object(Ue.a)(at,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"error-layout"},[n("MErrorPage",{key:e.refreshKey,attrs:{title:e.settings.message,description:e.settings.description,"link-title":e.settings.linkTitle||"На главную","link-url":e.settings.linkUrl||"/","img-url":e.settings.imgUrl}}),e._v(" "),n("ModalCollection")],1)}),[],!1,null,null,null).exports),ct={name:"Nuxt",components:{NuxtChild:_e,NuxtError:it},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||$(this.$route.matched[0].path)(this.$route.params);var e=Object(v.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){l.c.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occurred while showing the error page"),e("p","Unfortunately an error occurred and while showing the error page another error occurred"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(it,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},ut={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(e){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100||e.percent<=0)&&(e.skipTimerCount=1,e.reversed=!e.reversed))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}},st=(n(579),Object(Ue.a)(ut,undefined,undefined,!1,null,null,null).exports),lt=(n(580),n(581),n(292)),pt=n(92),ft=n(106),vt={};vt.props={replacement:{type:Object,require:!0},displayCount:{type:Number,default:2},timeoutValue:{type:Number,default:600}},vt.setup=function(e,t){var n=e,o=Object(lt.a)(null),c=o.setTime,l=o.finished,d=o.timeLeftFormatted,f=Object(pt.a)(!0),v=f.value,m=f.setValue,h=Object(r.ref)(null),O=Object(r.computed)((function(){return{"is-hidden":!v.value}})),link=Object(r.computed)((function(){return"/profile/orders/".concat(n.replacement.orderId)})),y=Object(r.computed)((function(){return ft.i.includes(n.replacement.statusId)})),j=Object(r.computed)((function(){return ft.k.includes(n.replacement.statusId)})),_=Object(r.computed)((function(){return ft.a.includes(n.replacement.statusId)})),k=Object(r.computed)((function(){return ft.h.includes(n.replacement.statusId)})),x=Object(r.computed)((function(){var e;return null===(e=n.replacement)||void 0===e?void 0:e.reconciliationDuration})),w=Object(r.computed)((function(){var e=n.replacement,t=e.orderId,r=e.cancelReasonMessage,o=void 0===r?"":r;return y.value||k.value?{description:"Не успели согласовать замены по заказу №".concat(t,". Денег списали меньше, заказ уже едет к вам."),title:"Изменился состав заказа"}:_.value?{description:o||"Заказ №".concat(t," отменён"),title:"Заказ отменён"}:{description:"Мы подобрали замены. Пожалуйста, подтвердите их в течение ".concat(d.value),title:"Некоторые товары закончились"}})),C=Object(r.computed)((function(){return!j.value||l.value?"К заказу":"Выбрать замены"})),P=Object(r.computed)((function(){var e;return null!==(e=n.replacement.basket)&&void 0!==e&&e.length?n.replacement.basket.slice(0,n.displayCount).map((function(e){var t;return{alt:e.name,src:null===(t=e.product)||void 0===t?void 0:t.picture,key:"".concat(n.replacement.orderId,"-").concat(e.name)}})):[]})),S=Object(r.computed)((function(){var e,t=(null===(e=n.replacement.basket)||void 0===e?void 0:e.length)||0;return t<=n.displayCount?0:t-n.displayCount})),E=function(){return setTimeout((function(){return m(!0)}),n.timeoutValue)};return Object(r.onMounted)((function(){return h.value=Object(Te.c)("replacement-alert",E)})),Object(r.onUnmounted)((function(){return Object(Te.d)(h.value)})),Object(r.watch)(l,(function(e){return m(!e)})),Object(r.watch)(x,(function(e){return c(null!=e?e:null)}),{immediate:!0}),{className:O,link:link,replacementStatus:w,buttonTitle:C,displayProducts:P,hiddenProductsLabel:S}};var mt=vt,ht=(n(582),Object(Ue.a)(mt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-link",{class:e.className,attrs:{to:e.link}},[n("div",{staticClass:"replacement-alert"},[n("div",{staticClass:"replacement-alert__content"},[n("div",{staticClass:"replacement-alert__text"},[n("div",{staticClass:"replacement-alert__title"},[e._v("\n          "+e._s(e.replacementStatus.title)+"\n        ")]),e._v(" "),n("div",{staticClass:"replacement-alert__description"},[e._v("\n          "+e._s(e.replacementStatus.description)+"\n        ")]),e._v(" "),n("m-button",{staticClass:"replacement-alert__button desktop",attrs:{large:"",black:""}},[n("span",{staticClass:"replacement-alert__button-title"},[e._v(e._s(e.buttonTitle))])])],1),e._v(" "),n("ul",{staticClass:"replacement-alert__images"},[e.hiddenProductsLabel?n("li",{staticClass:"replacement-alert__image-item"},[n("span",[e._v("+"+e._s(e.hiddenProductsLabel))])]):e._e(),e._v(" "),e._l(e.displayProducts,(function(e){return n("li",{key:e.key,staticClass:"replacement-alert__image-item"},[n("m-image",{staticClass:"replacement-alert__image",attrs:{src:e.src,alt:e.alt,size:"38x38"}})],1)}))],2),e._v(" "),n("m-button",{staticClass:"replacement-alert__button mobile",attrs:{large:"",black:""}},[n("span",{staticClass:"replacement-alert__button-title"},[e._v(e._s(e.buttonTitle))])])],1)])])}),[],!1,null,null,null).exports),bt=n(101),gt=n(93),Ot=(n(79),n(243)),yt=n(117);function jt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _t(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?jt(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):jt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var kt={};kt.props={categoryList:{type:Array,required:!0},selectedId:Number},kt.setup=function(e,t){var n=e,o=t.emit,c=Object(Ve.h)(),l=Object(r.computed)((function(){return n.categoryList.filter((function(e){return e.hasProducts})).map((function(e){return _t(_t({},e),{},{active:e.id===n.selectedId})}))})),d=Object(yt.a)((function(e){o("select",e)}),150),f=d.call,v=d.clear;return Object(r.watch)((function(){return c.fullPath}),(function(){return o("close")})),{displayCategories:l,handleFocus:f,clearItemInFocus:v}};var xt=kt,wt=(n(583),Object(Ue.a)(xt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"m-menu-catalog-categories",attrs:{"data-test-id":"left-catalog"}},[n("ul",{staticClass:"m-menu-catalog-categories__list"},e._l(e.displayCategories,(function(t){return n("li",{key:t.id,staticClass:"m-menu-catalog-categories__item",class:{"is-active":t.active},attrs:{"data-test-id":"left-catalog-item"},on:{mouseover:function(n){return e.handleFocus(t.id)},mouseleave:e.clearItemInFocus}},[n("app-link",{staticClass:"m-menu-catalog-categories__link text--h4",attrs:{to:t.url}},[n("span",{staticClass:"m-menu-catalog-categories__image"},[n("m-image",{attrs:{"data-test-id":"left-catalog-item-title",size:"32x32",src:t.image,immediate:""}})],1),e._v(" "),n("span",{attrs:{"data-test-id":"left-catalog-item-title"},domProps:{textContent:e._s(t.name)}})])],1)})),0)])}),[],!1,null,null,null).exports);function Ct(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Pt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ct(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ct(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var St={};St.props={category:{type:Object,required:!0}},St.setup=function(e,t){var n=e,o=t.emit,c=Object(r.getCurrentInstance)(),l=Object(Ve.i)(),d=Object(r.computed)((function(){return n.category.children.map((function(e){return Pt(Pt({},e),{},{children:(e.children||[]).filter((function(e){return e.hasProducts}))})})).filter((function(e){var t;return e.hasProducts||(null===(t=e.children)||void 0===t?void 0:t.length)}))}));return Object(r.watch)((function(){return n.category}),(function(){return c.refs.subcategories.scrollTop=0})),{displayItems:d,moveToCategory:function(e){l.push(e),o("close")}}};var Et=St,Rt=(n(584),Object(Ue.a)(Et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"subcategories",staticClass:"m-menu-catalog-subcategories",attrs:{"data-test-id":"subcatalog"}},[n("div",{staticClass:"m-menu-catalog-subcategories__title text--h2 text--bolder",attrs:{"data-test-id":"subcatalog-title"},domProps:{textContent:e._s(e.category.name)}}),e._v(" "),n("div",{staticClass:"m-menu-catalog-subcategories__wrapper"},e._l(e.displayItems,(function(t){return n("div",{key:t.id,staticClass:"m-menu-catalog-subcategories__item",attrs:{"data-test-id":"subcatalog-item"}},[n("a",{staticClass:"m-menu-catalog-subcategories__link text--bolder text--middle",attrs:{"href.prevent":"","data-test-id":"subcatalog-item-title"},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.moveToCategory(t.url)}}}),e._v(" "),t.children?n("div",e._l(t.children,(function(t){return n("a",{key:t.id,staticClass:"m-menu-catalog-subcategories__link text--middle",attrs:{"href.prevent":""},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.moveToCategory(t.url)}}})})),0):e._e()])})),0)])}),[],!1,null,null,null).exports),Dt={setup:function(e,t){var n,style=Object(r.ref)({top:"".concat(Object(Ot.a)(),"px")}),o=t.emit,c=Object(gt.a)().allCategories,l=Object(r.ref)(null===(n=c.value[0])||void 0===n?void 0:n.id),d=Object(r.computed)((function(){return c.value.find((function(e){return e.id===l.value}))||c.value[0]||null}));return{style:style,allCategories:c,selectedId:l,selectedCategory:d,handleClose:function(){return o("close")},handleSelect:function(e){l.value=e}}}};Dt.components=Object.assign({MMenuCatalogCategories:wt,MMenuCatalogSubcategories:Rt},Dt.components);var Tt=Dt,It=(n(585),Object(Ue.a)(Tt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-shield",{staticClass:"m-menu-catalog",style:e.style},[n("div",{staticClass:"m-menu-catalog__container"},[n("click-outside",{attrs:{selector:".m-menu-catalog__wrapper-inner"},on:{click:e.handleClose}}),e._v(" "),n("div",{staticClass:"m-menu-catalog__wrapper"},[n("div",{staticClass:"m-container-main m-menu-catalog__wrapper-inner"},[n("MMenuCatalogCategories",{staticClass:"m-menu-catalog__categories",attrs:{"category-list":e.allCategories,"selected-id":e.selectedId},on:{select:e.handleSelect,close:e.handleClose}}),e._v(" "),e.selectedCategory?[n("MMenuCatalogSubcategories",{staticClass:"m-menu-catalog__subcategories",attrs:{category:e.selectedCategory},on:{close:e.handleClose}})]:e._e()],2)])],1)])}),[],!1,null,null,null).exports),Bt={};Bt.props={categoryName:{type:String,default:"Каталог"}},Bt.setup=function(e,t){var n=t.emit;return{allCategories:Object(gt.a)().allCategories,handleClose:function(){return n("close")}}};var At=Bt,Mt=(n(586),Object(Ue.a)(At,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("portal",{attrs:{to:"m-header-portal"}},[n("div",{staticClass:"overlay"}),e._v(" "),n("m-drawer",{staticClass:"drawer-mobile drawer-mobile-catalog",attrs:{active:!0},on:{close:e.handleClose}},[n("click-outside",{on:{click:e.handleClose}}),e._v(" "),n("div",{staticClass:"m-menu-catalog-mobile",attrs:{"data-test-id":"left-catalog"},on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"m-menu-catalog-mobile__title text--h3",domProps:{textContent:e._s(e.categoryName)}}),e._v(" "),n("div",{staticClass:"m-menu-catalog-mobile__list"},e._l(e.allCategories,(function(t){return n("m-menu-item",{key:t.id,staticClass:"m-menu-catalog-mobile__link",attrs:{tag:"button",item:t,name:t.name,active:"",to:t.url,"data-test-id":"left-catalog-item"},on:{"click-to-item":function(n){return e.moveToCategory(t)}},scopedSlots:e._u([{key:"before",fn:function(){return[t.iconSvg?n("img",{attrs:{src:t.iconSvg,alt:t.name}}):e._e()]},proxy:!0}],null,!0)})})),1)])],1)],1)}),[],!1,null,null,null).exports),qt={setup:function(e,t){var n=Object(gt.a)().allCategories,o=Object(r.computed)((function(){var e=[];return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,n=t.length;i<n;i+=1){var r=t[i],o=r.name,c=r.url,l=r.id;e.push({name:o,id:l,url:c})}}(n.value),e}));return{displayList:o}}},Nt=qt,$t=(n(587),Object(Ue.a)(Nt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"site-map"},e._l(e.displayList,(function(t){return n("a",{key:t.id,attrs:{href:t.url},domProps:{textContent:e._s(t.name)}})})),0)}),[],!1,null,null,null).exports),Lt={};Lt.props={active:Boolean,url:String,color:String,label:String},Lt.setup=function(e,t){var n=e;return{anchorHref:Object(r.computed)((function(){return n.active?"/":n.url})),anchorTarget:Object(r.computed)((function(){return n.active?"":"_blank"})),className:Object(r.computed)((function(){return{"m-navigation-link--active":n.active}})),borderStyle:Object(r.computed)((function(){return{background:n.color}}))}};var Ut=Lt,Ft=(n(588),Object(Ue.a)(Ut,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"m-navigation-link",class:e.className,attrs:{href:e.anchorHref,target:e.anchorTarget,draggable:"false"}},[n("div",{staticClass:"m-navigation-link__container"},[n("svg",{staticClass:"m-navigation-link__icon",attrs:{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{fill:e.color,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 4.23415C0 3.10602 0.439101 2.04382 1.24046 1.24168C2.04182 0.439531 3.10298 0 4.23001 0H14V2.1537H4.23001C3.67747 2.1537 3.15787 2.36981 2.76268 2.76538C2.36749 3.16096 2.15159 3.68474 2.15159 4.23781L2.13696 7.85296C2.03816 8.8126 1.31364 9.58544 0.380554 9.72829L0 9.78323V4.23415ZM0 13.9893V11.8356H9.77C10.3225 11.8356 10.8458 11.6158 11.2373 11.2239C11.6325 10.8283 11.8484 10.3082 11.8484 9.75514L11.8521 6.32679C11.8521 5.30488 12.6132 4.4185 13.6194 4.26466L14 4.20605V9.75514C14 10.8833 13.5572 11.9455 12.7595 12.7476C11.9582 13.5498 10.897 13.9893 9.77 13.9893H0ZM8.29048 6.95756V9.7749H10V4.22559H8.38319L7 6.01102L5.62052 4.22559H4V9.7749H5.70952V6.95756L7 8.498L8.29048 6.95756Z"}})]),e._v(" "),n("span",{staticClass:"m-navigation-link__label",domProps:{textContent:e._s(e.label)}})]),e._v(" "),n("span",{staticClass:"m-navigation-link__border",style:e.borderStyle})])}),[],!1,null,null,null).exports),zt=(n(75),[]),Vt=null,Ht=!1,Gt="helpers--blocked-body",Kt=function(e){!function(){if(!Ht){var style=document.createElement("style");document.head.appendChild(style),style.sheet.insertRule(".".concat(Gt," { height: 100vh; overflow: hidden; }"),0),Ht=!0}}(),document.body.classList.add(Gt),zt.length||document.body.style.setProperty("padding-right","".concat(function(){var e;if(null!==Vt)return Vt;var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var n=document.createElement("div");return t.appendChild(n),Vt=t.offsetWidth-n.offsetWidth,null===(e=t.parentNode)||void 0===e||e.removeChild(t),Vt}(),"px")),zt.push(e)},Wt=function(e){var t=zt.indexOf(e);-1!==t&&zt.splice(t,1),0===zt.length&&(document.body.style.removeProperty("padding-right"),document.body.classList.remove(Gt))},Jt=[{label:"Магнит",key:"magnit",url:"https://magnit.ru/",color:"#ED0E00"},{label:"Доставка",key:"dostavka",url:"https://dostavka.magnit.ru/",color:"#ED0E00"},{label:"Косметика",key:"cosmetic",url:"https://magnitcosmetic.ru/",color:"#E0016C"},{label:"Аптека",key:"apteka",url:"https://apteka.magnit.ru/",color:"#1598A6"}],Xt=[{title:"Покупателям",links:[{label:"Программа лояльности",url:"https://moy.magnit.ru/"},{label:"Помощь",url:"https://magnit.ru/faq/"},{label:"Гастроном",url:"https://gastronom.ru/"},{label:"Издание Shopper`s",url:"https://shoppers.media/"},{label:"Вакансии",url:"http://magnit-info.ru/work/vacancy/"}]},{title:"Управляющая компания",links:[{label:"О компании",url:"https://www.magnit.com/ru/"},{label:"Акционерам и инвесторам",url:"https://www.magnit.com/ru/shareholders-and-investors/investment-case/"}]},{title:"Правовая информация",links:[{label:"Политика конфиденциальности",url:"https://magnit.ru/pdn/"},{label:"Антикоррупционая горячая линия",url:"https://www.magnit.com/ru/anti-corruption/"}]},{title:"Партнёрам",links:[{label:"Грузоперевозки",url:"https://magnit-info.ru/partners/offers/transport/"},{label:"Оптовые поставки",url:"https://opt.magnit.ru/"},{label:"Поставщикам и сельхозпроизводителям",url:"https://srm.magnit.ru/"},{label:"Некоммерческие закупки",url:"https://magnit-info.ru/partners/nkz/"},{label:"Строительство и аренда",url:"https://magnit-info.ru/partners/rent/"},{label:"ООО «МагнитЭнерго»",url:"http://magnitenergo.ru/"},{label:"ОФД «Тандер»",url:"https://ofd-magnit.ru"},{label:"Удостоверяющий центр",url:"https://ca-magnit.ru/"},{label:"Рекламодателям",url:"https://kontragent.magnit.ru/"},{label:"Пресс-центр",url:"https://www.magnit.com/ru/media/press-releases/"}]},{title:"Собственное производство",links:[{label:"Индустриальный парк Краснодар",url:"https://indpark-krd.ru/"},{label:"Наша продукция",url:"https://madebytander.com"}]}];function Qt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Yt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Qt(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Qt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Zt={};Zt.props={value:Boolean,menu:{type:Array,default:function(){return Xt}}},Zt.setup=function(e,t){var n=e,o=t.emit,c=Object(r.ref)(-1),l="TOP_NAVIGATION_SUBMENU",d=Object(r.computed)((function(){var e=[],t=[];return n.menu.forEach((function(n,r){var title=n.title,o=n.links,l=r%2==0?e:t,d="column-".concat(r),f={"m-navigation-submenu__section--active":c.value===r};l.push({title:title,index:r,className:f,key:"column-".concat(r),links:o.map((function(link,e){return Yt(Yt({},link),{},{key:"".concat(d,"-").concat(e)})}))})})),[e,t]})),f=function(){return o("input",!1)};return Object(r.onMounted)((function(){window.addEventListener("locationchange",f)})),Object(r.onUnmounted)((function(){window.removeEventListener("locationchange",f),Wt(l)})),Object(r.watch)((function(){return n.value}),(function(e){e?Kt(l):(Wt(l),c.value=-1)})),{emit:o,columns:d,handleSectionClick:function(e){var t=e.index;c.value===t?c.value=-1:c.value=t}}};var en=Zt,tn=(n(589),Object(Ue.a)(en,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"m-navigation-submenu",on:{click:function(t){return e.emit("input",!1)}}},[n("div",{staticClass:"m-navigation-submenu__wrap",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"m-navigation-submenu__container"},e._l(e.columns,(function(t,r){return n("div",{key:r,staticClass:"m-navigation-submenu__column"},e._l(t,(function(section){return n("div",{key:section.key,staticClass:"m-navigation-submenu__section",class:section.className,on:{click:function(t){return e.handleSectionClick(section)}}},[n("h4",{domProps:{textContent:e._s(section.title)}}),e._v(" "),e._l(section.links,(function(link){return n("a",{key:link.key,staticClass:"m-navigation-submenu__anchor",attrs:{target:link.target,href:link.url},domProps:{textContent:e._s(link.label)}})}))],2)})),0)})),0)])])}),[],!1,null,null,null).exports);function nn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function rn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nn(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):nn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var on={};on.props={links:{type:Array,default:function(){return Jt}},submenuLinks:{type:Array,default:function(){return Xt}},active:{type:String,default:Jt[0].key},phone:{type:String,default:"8 800 707-68-88"},moreLabel:{type:String,default:"Ещё"}},on.setup=function(e,t){var n=e,o=Object(r.ref)(!1),c=Object(r.ref)(0),l=Object(r.ref)(null),d=Object(r.computed)((function(){return n.links.map((function(s){return rn(rn({},s),{},{className:"m-navigation__link--".concat(s.key),active:s.key===n.active})}))})),f=Object(r.computed)((function(){return"tel:".concat(n.phone)})),v=Object(r.computed)((function(){return{"m-navigation__more--active":o.value}})),m=Object(r.computed)((function(){return{top:"".concat(c.value,"px")}}));return{subMenuOpen:o,navigationEl:l,displayLinks:d,phoneHref:f,moreClassName:v,submenuStyle:m,handleClickMore:function(){var e=l.value;if(e&&!0!==o.value){var t=e.getBoundingClientRect();c.value=t?t.height+t.y:0,o.value=!0}else o.value=!1}}},on.components=Object.assign({MNavigationLink:Ft,MNavigationSubmenu:tn},on.components);var an=on,cn=(n(590),Object(Ue.a)(an,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"navigationEl",staticClass:"m-navigation"},[n("div",{staticClass:"m-navigation__view-box"},[n("div",{staticClass:"m-navigation__container"},[n("div",{staticClass:"m-navigation__links"},[e._l(e.displayLinks,(function(t){return n("MNavigationLink",e._b({key:t.key,class:t.className},"MNavigationLink",t,!1))})),e._v(" "),n("div",{staticClass:"m-navigation__more",class:e.moreClassName,on:{click:e.handleClickMore}},[n("div",{staticClass:"m-navigation__more__container"},[n("svg",{attrs:{width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 0.292893C16.0976 0.683418 16.0976 1.31658 15.7071 1.70711L8.70711 8.70711C8.31658 9.09763 7.68342 9.09763 7.29289 8.70711L0.292893 1.70711C-0.0976296 1.31658 -0.0976296 0.683417 0.292893 0.292893C0.683418 -0.0976318 1.31658 -0.0976317 1.70711 0.292893L8 6.58579L14.2929 0.292893C14.6834 -0.0976312 15.3166 -0.0976311 15.7071 0.292893Z",fill:"#828282"}})]),e._v(" "),n("span",{staticClass:"m-navigation__more__label",domProps:{textContent:e._s(e.moreLabel)}})])])],2),e._v(" "),n("a",{staticClass:"m-navigation__phone",attrs:{href:e.phoneHref},domProps:{textContent:e._s(e.phone)}})])]),e._v(" "),n("MNavigationSubmenu",{style:e.submenuStyle,attrs:{menu:e.submenuLinks},model:{value:e.subMenuOpen,callback:function(t){e.subMenuOpen=t},expression:"subMenuOpen"}})],1)}),[],!1,null,null,null).exports),un={setup:function(e,t){var n=Object(r.ref)(Object(De.k)());return{alt:Object(r.computed)((function(){var e,t;return null===(e=n.value)||void 0===e||null===(t=e.info)||void 0===t?void 0:t.tel}))}}},sn=un,ln=(n(591),Object(Ue.a)(sn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-link",{staticClass:"m-header-logo",attrs:{"data-test-id":"header-logo-link",to:"/"}},[n("img",{staticClass:"m-header-logo__image",attrs:{src:"/logo.svg",alt:e.alt,width:"179px",height:"36px"}})])}),[],!1,null,null,null).exports),dn=n(94),pn=n(446),fn=n(183),vn={};vn.props={red:Boolean,loading:Boolean,stylized:Boolean},vn.setup=function(e,t){var n=e,o=Object(r.useAttrs)(),c=Object(Be.a)(["search-click"]);return{attrs:o,searchClicked:function(){return c("search-click")},showSpinner:Object(r.computed)((function(){return n.loading&&n.stylized})),className:Object(r.computed)((function(){return{"is-stylized":n.stylized,"is-red":n.red}}))}},vn.components=Object.assign({MInputText:fn.a},vn.components);var mn=vn,hn=(n(593),Object(Ue.a)(mn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MInputText",e._g(e._b({staticClass:"m-input-search",class:e.className,attrs:{"data-test-id":"input-search","inner-class":"m-input-search__inner","input-class":"m-input__input m-input-search__input","slot-before-class":"m-input-search__before"},scopedSlots:e._u([{key:"before",fn:function(){return[n("m-spinner-round",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],attrs:{light:"",size:24}}),e._v(" "),n("m-icon",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"m-input-search__icon",attrs:{name:"search",size:"24px"},on:{click:e.searchClicked}})]},proxy:!0}])},"MInputText",e.attrs,!1),e.$listeners))}),[],!1,null,null,null).exports),bn={};bn.props={title:{type:String,required:!0},items:{type:Array,default:function(){return[]}}};var gn=bn,On=(n(594),Object(Ue.a)(gn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-search-result",attrs:{"data-test-id":"suggest-search-section"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("div",{staticClass:"m-search-result-header"},[n("span",{staticClass:"m-search-result-header__name",attrs:{"data-test-id":"suggest-search-section-title"}},[e._v(e._s(e.title))])]),e._v(" "),e._l(e.items,(function(t){return n("app-link",{key:t.id,staticClass:"m-search-result-element",attrs:{to:t.url}},[t.picture?n("div",{staticClass:"m-search-result-element__image"},[n("m-image",{attrs:{src:t.picture,alt:t.name,size:"35x35"}})],1):e._e(),e._v(" "),n("div",{staticClass:"m-search-result-element__name",attrs:{"data-test-id":"suggest-search-item-title"}},[e._v("\n      "+e._s(t.name)+"\n    ")])])}))],2)}),[],!1,null,null,null).exports),yn=n(61);function jn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _n(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?jn(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):jn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var kn={setup:function(e,t){var n=Object(Be.a)("search-focus"),o=Object(Ve.h)(),c=Object(pt.a)(),l=c.value,d=c.setValue,f=Object(dn.a)(),v=f.run,m=f.loading,h=f.cancel,O=[Object(r.ref)(null),Object(r.ref)("")],y=O[0],j=O[1],_=Object(pn.a)(),k=_.searchNotFound,x=_.searchSuggest,w=_.historySuggest,C=_.searchSuggestProducts,P=_.initialize,S=_.fetchSearchData,E=_.clearSearchData,R=Object(r.computed)((function(){return o.name===oe.z})),D=Object(r.computed)((function(){var e;return null===(e=o.query)||void 0===e?void 0:e.q})),T=Object(r.computed)((function(){return k.value?null:{title:"Популярные запросы",items:x.value}})),I=Object(r.computed)((function(){return j.value>3||C.value?null:{title:"Последние запросы",items:w.value}})),B=Object(r.computed)((function(){return{title:"Товары",items:C.value}})),A=Object(r.computed)((function(){return(R.value?[T.value,I.value]:[T.value,I.value,B.value]).filter((function(s){return null==s?void 0:s.items.length}))})),M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e!==l.value&&(d(e),n("search-focus",e))},N=function(){var e,t;M(!1),y.value&&(null===(e=y.value.$el)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.blur())},$=function(){return _n(_n({},o.query),{},{q:j.value,page:1,spread:void 0})},L=function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===q?H():v((function(){return S(q)}))},U=function(){R.value?Object(yn.e)({query:$()}):L(j.value)},F=Object(yt.a)(U,500),z=F.call,V=F.clear,H=function(){V(),h(),E(),j.value=""};return Object(r.onMounted)(P),Object(r.watch)((function(){return o.name}),(function(e){var t;V(),d(!1),e===oe.z?j.value=null===(t=o.query)||void 0===t?void 0:t.q:(H(),N())}),{immediate:!0}),Object(r.watch)(D,(function(q){j.value!==q&&(j.value=q),R.value&&L(q)})),{showResults:l,loading:m,searchInput:y,searchText:j,searchNotFound:k,displayItems:A,handleInputFocus:function(){return M(!0)},handleClickOutside:function(){return M(!1)},blur:N,handleSearchDebounced:z,handleSubmit:function(){V(),d(!1),Object(yn.c)({name:oe.z,query:$()})},handleClear:function(){H(),j.value="",R.value&&U()}}}};kn.components=Object.assign({MInputSearch:hn,MSearchResult:On},kn.components);var xn=kn,wn=(n(595),Object(Ue.a)(xn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-header"},[n("click-outside",{attrs:{selector:".search-header"},on:{click:e.handleClickOutside}}),e._v(" "),n("MInputSearch",{ref:"searchInput",staticClass:"m-header-main__search",attrs:{stylized:"",clearable:"",loading:e.loading,placeholder:"Искать продукты"},on:{clear:e.handleClear,input:e.handleSearchDebounced,focus:e.handleInputFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.blur.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}],"search-click":e.handleSubmit},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),e.showResults?n("div",{staticClass:"search-results",attrs:{"data-test-id":"suggest-search"}},[e._l(e.displayItems,(function(e){return n("MSearchResult",{key:e.title,attrs:{items:e.items,title:e.title}})})),e._v(" "),e.searchNotFound?n("div",{staticClass:"not-found",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("span",{staticClass:"not-found__title"},[e._v("По вашему запросу нет результатов")]),e._v(" "),n("span",{staticClass:"not-found__text"},[e._v("\n        Проверьте название и попробуйте ещё раз\n      ")])]):e._e()],2):e._e()],1)}),[],!1,null,null,null)),Cn=wn.exports,Pn={};Pn.props={text:{type:String,default:"Каталог"},active:Boolean},Pn.setup=function(e,t){var n=e;return{dataTestId:Object(r.computed)((function(){return n.active?"catalog-close-btn":"catalog-btn"}))}};var Sn=Pn,En=(n(596),Object(Ue.a)(Sn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-catalog-button",attrs:{"data-test-id":e.dataTestId}},[n("div",{staticClass:"m-catalog-button__inner"},[n("m-icon",{attrs:{name:"catalog",size:"20px"}}),e._v(" "),e.text?n("span",{staticClass:"m-catalog-button__inner-label"},[e._v(e._s(e.text))]):e._e()],1)])}),[],!1,null,null,null).exports),Rn=n(113),Dn=n(442),Tn=n(445),In=n(443),Bn=n(439),An=n(301),Mn={};Mn.props={products:[Array,Object],price:Number,oldPrice:Number},Mn.setup=function(e,t){return{to:Object(r.computed)((function(){return{name:oe.d}}))}};var qn=Mn,Nn=(n(606),Object(Ue.a)(qn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mini-basket-footer"},[n("div",{staticClass:"mini-basket-footer__container"},[n("div",{staticClass:"mini-basket-footer__go-to-basket"},[n("app-link",{attrs:{to:e.to}},[n("m-button",{attrs:{label:"Перейти в корзину",black:"",large:""}},[n("m-price",{attrs:{price:e.price,"old-price":e.oldPrice,"transform-price":"",vertical:"","show-discount":!1}})],1)],1)],1)])])}),[],!1,null,null,null).exports),$n={setup:function(e,t){var n=Object(Be.a)(["close","mini-basket-mount"]),o=Object(Ve.h)(),c=Object(Ae.a)().displayMode,l=Object(r.ref)(null),d=Object(Rn.a)(),f=d.basketAvailableProducts,v=d.basketUnavailableProducts,m=d.basketTotalCount,h=d.basketCurrentPrice,O=d.basketCurrentOldPrice,y=Object(gt.a)().currentCategory,j=Object(r.computed)((function(){return!!v.value.length})),style=Object(r.computed)((function(){return{top:"".concat(l.value,"px")}})),_=Object(r.computed)((function(){return!!m.value})),k=function(){return n("close")};return Object(r.watch)(c,(function(){return k()})),Object(r.watch)((function(){return o.fullPath}),(function(){return k()})),Object(r.onMounted)((function(){n("mini-basket-mount",{currentCategory:y.value}),l.value=Object(Ot.a)()})),{basketAvailableProducts:f,basketUnavailableProducts:v,basketCurrentPrice:h,basketCurrentOldPrice:O,showBasketUnavailableProducts:j,style:style,showBasket:_,close:k}}};$n.components=Object.assign({MBasketProgressBar:Tn.a,MBasketOutOfOrderItem:In.a,MBasketProducts:Bn.a,MBasketTotalOrder:An.a,MHeaderMiniBasketFooter:Nn,MBasketEmpty:Dn.a},$n.components);var Ln=$n,Un=(n(160),n(607),Object(Ue.a)(Ln,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"transition-fade",appear:""}},[n("app-shield",{staticClass:"m-header-mini-basket",style:e.style},[n("div",{staticClass:"m-header-mini-basket__wrapper"},[n("click-outside",{attrs:{selector:".m-header-mini-basket__wrapper"},on:{click:e.close}}),e._v(" "),n("div",{staticClass:"m-header-mini-basket__overlay",on:{mouseenter:e.close}}),e._v(" "),n("div",{staticClass:"m-header-mini-basket__inner",on:{click:function(e){e.stopPropagation()}}},[e.showBasket?n("div",{staticClass:"m-header-mini-basket__basket"},[n("div",{staticClass:"m-header-mini-basket__basket__content"},[n("MBasketProgressBar"),e._v(" "),e.showBasketUnavailableProducts?n("div",{staticClass:"out-of-order",attrs:{"data-test-id":"out-of-stock-products-section"}},[n("div",{staticClass:"out-of-order__container"},e._l(e.basketUnavailableProducts,(function(e){return n("MBasketOutOfOrderItem",{key:e.productId,attrs:{item:e}})})),1)]):e._e(),e._v(" "),n("MBasketProducts",{staticClass:"products",attrs:{products:e.basketAvailableProducts,"data-test-id":"product-item"}}),e._v(" "),n("MBasketTotalOrder")],1),e._v(" "),n("MHeaderMiniBasketFooter",{attrs:{price:e.basketCurrentPrice,"old-price":e.basketCurrentOldPrice}})],1):n("MBasketEmpty",{attrs:{mini:""}})],1)],1)])],1)}),[],!1,null,"525e67a8",null).exports),Fn=n(73),zn={};zn.props={icon:String,size:String,label:String,count:[Number,String],notification:Boolean,active:Boolean},zn.setup=function(e,t){var n=e;return{className:Object(r.computed)((function(){return{"m-header-actions-item--has-products":n.count,"is-active":n.active}}))}};var Vn=zn,Hn=(n(608),Object(Ue.a)(Vn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-header-actions-item",class:e.className},[n("div",{staticClass:"m-header-actions-item__icon-container",class:{"notification-badge":e.notification}},[n("m-icon",{staticClass:"m-header-actions-item__icon",attrs:{size:e.size,name:e.icon}}),e._v(" "),n("client-only",[e.count?n("span",{staticClass:"m-header-actions-item__count",domProps:{textContent:e._s(e.count)}}):e._e()])],1),e._v(" "),n("span",{staticClass:"m-header-actions-item__label",domProps:{textContent:e._s(e.label)}})])}),[],!1,null,null,null).exports),Gn={setup:function(e,t){var n=t.emit,o=Object(bt.a)().hasSelectedAddress,c=Object(Ae.a)().isMobile,l=Object(Rn.a)().basketTotalCount,d=Object(Ve.h)(),f=Object(r.computed)((function(){return Object(Fn.c)(d)}));return{basketTotalCount:l,active:f,handleClick:function(){f.value||(o.value?Object(yn.c)({name:oe.d}):Object(Ee.s)())},handleMouseEnter:function(){c.value||f.value||n("mouseenter")}}}};Gn.components=Object.assign({MHeaderActionsItem:Hn},Gn.components);var Kn=Gn,Wn=Object(Ue.a)(Kn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("MHeaderActionsItem",{attrs:{"data-test-id":"small-cart",icon:"Basket",size:"24px",label:"Корзина",active:e.active,count:e.basketTotalCount},nativeOn:{click:function(t){return e.handleClick.apply(null,arguments)},mouseenter:function(t){return e.handleMouseEnter.apply(null,arguments)}}})}),[],!1,null,null,null),Jn=Wn.exports,Xn=n(132),Qn=n(85),Yn={setup:function(e,t){var n=Object(Qn.a)(),o=Object(Ve.h)(),c=Object(Xn.a)().loggedIn,l=Object(r.computed)((function(){return Object(Fn.g)(o)})),d=Object(r.computed)((function(){return n.showOrderNotification}));return{active:l,notification:d,handleClick:function(){l.value||(c.value?Object(yn.c)({name:oe.r}):Object(Ee.r)())}}}};Yn.components=Object.assign({MHeaderActionsItem:Hn},Yn.components);var Zn=Yn,er=Object(Ue.a)(Zn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("MHeaderActionsItem",{attrs:{"data-test-id":"orders-icon",icon:"orders",size:"20px",label:"Заказы",active:e.active,notification:e.notification},nativeOn:{click:function(t){return e.handleClick.apply(null,arguments)}}})}),[],!1,null,null,null),nr=er.exports,rr=n(59);function or(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ar(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?or(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):or(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ir={setup:function(e,t){var n=Object(Ve.h)(),o=Object(Xn.a)(),l=o.loggedIn,d=o.userName,label=Object(r.computed)((function(){return l.value?d.value:"Войти"})),f=Object(r.computed)((function(){return Object(Fn.i)(n)})),v=Object(r.computed)((function(){var e;return"true"===(null===(e=n.query)||void 0===e?void 0:e.unauthorized)}));return Object(r.watch)(v,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!l.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(Ee.r)();case 4:l.value&&null!==(r=n.query)&&void 0!==r&&r.np?(o=Object(rr.b)(n.query.np),Object(yn.c)({path:o})):(c=ar(ar({},n.query),{},{np:void 0,unauthorized:void 0}),Object(yn.e)({query:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{immediate:!0}),{label:label,active:f,handleClick:function(){f.value||(l.value?Object(yn.c)({name:oe.u}):Object(Ee.r)())}}}};ir.components=Object.assign({MHeaderActionsItem:Hn},ir.components);var cr=ir,ur=Object(Ue.a)(cr,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("MHeaderActionsItem",{attrs:{"data-test-id":"login-icon",icon:"Human",size:"22px",label:e.label,active:e.active},nativeOn:{click:function(t){return e.handleClick.apply(null,arguments)}}})}),[],!1,null,null,null),sr=ur.exports,lr=n(100),dr=n(300),pr={};pr.props={loading:Boolean,cityAddress:String,streetAddress:String},pr.setup=function(e,t){var n=e,o=t.emit,c=Object(Ve.h)(),l=Object(lr.a)(),d=l.isWorking,f=l.deliveryTime,v=l.showCteNotificationClosable,m=Object(r.ref)(!1),h=Object(r.computed)((function(){return!(n.loading||!n.cityAddress||!n.streetAddress)})),O=Object(r.computed)((function(){return h.value?n.streetAddress:"свой адрес"})),y=Object(r.computed)((function(){return n.loading||h.value})),j=Object(r.computed)((function(){return{"select-address__loading":n.loading}})),_=Object(r.computed)((function(){return h.value?d.value&&f.value?"Доставка за ".concat(f.value," минут"):n.cityAddress:"Указать"})),k=Object(r.computed)((function(){return!n.loading&&Object(Fn.e)(c)&&d.value&&v.value}));return Object(r.watch)(k,(function(e){return m.value=e})),{emit:o,showTooltip:m,streetAddressLine:O,disabledAddressTooltip:y,className:j,cityLine:_}},pr.components=Object.assign({IncreasedCteNotification:dr.a},pr.components);var fr=pr,vr=(n(610),Object(Ue.a)(fr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-address",class:e.className},[e.showTooltip?n("m-tooltip",{staticClass:"delivery-time-tooltip",attrs:{trigger:"custom","life-time":18e4,"decor-triangle":"",bottom:""},scopedSlots:e._u([{key:"message",fn:function(){return[n("IncreasedCteNotification",{staticClass:"delivery-time-tooltip__cte",attrs:{closable:""}})]},proxy:!0}],null,!1,1687043495),model:{value:e.showTooltip,callback:function(t){e.showTooltip=t},expression:"showTooltip"}}):e._e(),e._v(" "),n("m-tooltip",{staticClass:"select-address__tooltip",attrs:{"close-button-test-id":"close-address-popup-button",disabled:e.disabledAddressTooltip,"with-btn-and-pointer":"","decor-triangle":"",closable:"",bottom:""},scopedSlots:e._u([{key:"message",fn:function(){return[n("span",[e._v("Покажем актуальный ассортимент и корректные цены на товары")]),e._v(" "),n("m-button",{attrs:{"data-test-id":"header-popup-address-btn",black:""},on:{click:function(t){return e.emit("select-address")}}},[e._v("\n        Указать свой адрес\n      ")])]},proxy:!0}])},[n("div",{staticClass:"select-address__inner",on:{click:function(t){return e.emit("select-address")}}},[e.loading?n("m-spinner-dots",{staticClass:"loader__dots",attrs:{red:""}}):[n("div",{staticClass:"select-address__address"},[n("h4",[e._v(e._s(e.cityLine))]),e._v(" "),n("p",[e._v(e._s(e.streetAddressLine))])]),e._v(" "),n("div",{staticClass:"select-address__icon"},[n("m-icon",{attrs:{name:"angle-down",width:"16px",height:"9px"}})],1)]],2)])],1)}),[],!1,null,null,null).exports),mr=n(184);function gr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Or(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?gr(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):gr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var yr=function(){var e=Object(mr.a)(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return e.href.includes(t)}));return((null==n?void 0:n.children)||[]).map((function(e){return Or(Or({},e),{},{href:Object(rr.b)(e.href)})}))},n=Object(r.computed)((function(){return e.pages||[]}));return{menu:Object(r.computed)((function(){return t(n.value,"menu")})),help:Object(r.computed)((function(){return t(n.value,"help")})),footer:Object(r.computed)((function(){return t(n.value,"footer")})),terms:Object(r.computed)((function(){return t(n.value,"terms")}))}},jr={setup:function(e,t){return{menu:yr().menu}}},_r=jr,kr=Object(Ue.a)(_r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-header-quick-navigation",attrs:{"data-test-id":"bottom-header-section"}},e._l(e.menu,(function(link,t){return n("app-link",{key:t,staticClass:"m-header-bottom__link is-dynamic",attrs:{to:link.href,"data-test-id":"bottom-header-section-link"},domProps:{textContent:e._s(link.name)}})})),1)}),[],!1,null,null,null).exports,xr={setup:function(e,t){var n=Object(Ae.a)().displayMode,o=Object(pt.a)(),c=o.value,l=o.setValue,d=Object(pt.a)(),f=d.value,v=d.setValue,m=Object(pt.a)(),h=m.value,O=m.setValue,y=Object(bt.a)(),j=y.cityAddress,_=y.streetAddress,k=y.addressList,x=y.initialized,w=Object(r.computed)((function(){return"Desktop"===n.value?It:Mt})),C=Object(r.computed)((function(){return h.value&&"Mobile"!==n.value&&!c.value}));return{showCatalog:c,setShowCatalog:l,searchActive:f,setSearchActive:v,setMiniBasket:O,cityAddress:j,streetAddress:_,initialized:x,menuCatalogType:w,showMiniBasket:C,handleAddressClick:function(){k.value.length?Object(Ee.q)():Object(Ee.s)()}}}};xr.components=Object.assign({MNavigation:cn,MHeaderLogo:ln,MHeaderCatalogButton:En,MHeaderSearch:Cn,MHeaderSelectAddress:vr,MHeaderActionsUser:sr,MHeaderActionsOrders:nr,MHeaderActionsBasket:Jn,MHeaderMiniBasket:Un,MMenuCatalogCategoriesMap:$t,MHeaderQuickNavigation:kr},xr.components);var wr=xr,Cr=(n(611),Object(Ue.a)(wr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-header"},[n("div",{staticClass:"m-container-main"},[n("MNavigation",{attrs:{active:"dostavka"}})],1),e._v(" "),n("div",{staticClass:"m-header__main-section"},[n("div",{staticClass:"m-header-main m-container-main-mobile",class:{"hide-button-text":e.searchActive}},[n("MHeaderLogo"),e._v(" "),n("div",{staticClass:"wrapper-header-line m-header__search"},[n("MHeaderCatalogButton",{staticClass:"m-header-main__btn",attrs:{active:e.showCatalog},nativeOn:{click:function(t){return e.setShowCatalog(!0)}}}),e._v(" "),n("MHeaderSearch",{on:{"search-focus":e.setSearchActive}})],1),e._v(" "),n("MHeaderSelectAddress",{staticClass:"wrapper-header-line m-header__address",attrs:{loading:!e.initialized,"city-address":e.cityAddress,"street-address":e.streetAddress},on:{"select-address":e.handleAddressClick}}),e._v(" "),n("div",{staticClass:"m-header-actions",class:{initialized:e.initialized}},[n("MHeaderActionsUser"),e._v(" "),n("MHeaderActionsOrders"),e._v(" "),n("MHeaderActionsBasket",{on:{mouseenter:function(t){return e.setMiniBasket(!0)}}}),e._v(" "),e.showMiniBasket?n("MHeaderMiniBasket",{on:{close:function(t){return e.setMiniBasket(!1)}}}):e._e()],1)],1),e._v(" "),e.showCatalog?n(e.menuCatalogType,{tag:"component",on:{close:function(t){return e.setShowCatalog(!1)}}}):e._e(),e._v(" "),n("MMenuCatalogCategoriesMap")],1),e._v(" "),n("div",{staticClass:"m-header-bottom"},[n("MHeaderQuickNavigation",{staticClass:"m-header-bottom__link-wrapper m-container-main-mobile"})],1),e._v(" "),n("portal-target",{attrs:{name:"m-header-portal",multiple:""}})],1)}),[],!1,null,null,null).exports),Pr={id:"ok",src:n(612),alt:"Одноклассники",href:"https://ok.ru/magnitinfo"},Sr={id:"vk",src:n(613),alt:"ВКонтакте",href:"https://vk.com/magnitretail"},Er={id:"twitter",src:n(614),alt:"Твиттер",href:"https://twitter.com"},Rr={id:"ios",src:n(404),alt:"App Store",href:"https://apps.apple.com/ru/app/магнит-доставка/id1536769731"},Dr={id:"ios",src:n(404),alt:"App Store",href:"https://apps.apple.com/ru/app/магнит-доставка/id881463973"},Tr={id:"android",src:n(405),alt:"Google Play",href:"https://play.google.com/store/apps/details?id=ru.magnit.express.android"},Ir={id:"android",src:n(405),alt:"Google Play",href:"https://play.google.com/store/apps/details?id=ru.tander.magnit"},Br=[Pr,Sr,Er],Ar={name:"MFooterSocial",data:function(){return{icons:Br}}},Mr=(n(615),Object(Ue.a)(Ar,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-footer-social",attrs:{"data-test-id":"footer-social-networks-section"}},e._l(e.icons,(function(e){return n("a",{key:e.id,staticClass:"m-footer-social__item",attrs:{href:e.href,"data-test-id":"footer-social-networks-section-item",rel:"noopener",target:"_blank"}},[n("img",{staticClass:"m-footer-social__icon",attrs:{src:e.src,alt:e.alt}})])})),0)}),[],!1,null,null,null).exports),qr={};qr.props={menu:Array};var Nr=qr,$r=(n(616),Object(Ue.a)(Nr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-footer-menu"},[n("div",{staticClass:"m-footer-menu__container",attrs:{"data-test-id":"footer-menu-section"}},[n("div",{staticClass:"m-footer-menu__list"},e._l(e.menu,(function(e){return n("div",{key:e.id,staticClass:"m-footer-menu__item",attrs:{"data-test-id":"footer-menu-section-item"}},[n("m-menu-item",{staticClass:"m-footer-menu__link",attrs:{to:e.href,name:e.name}})],1)})),0)])])}),[],!1,null,null,null).exports),Lr={};Lr.props={description:{type:String,default:""},icons:{type:Array,default:function(){return ICONS}}},Lr.setup=function(e,t){return{}};var Ur=Lr,Fr=(n(617),Object(Ue.a)(Ur,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-footer-app"},[n("div",{staticClass:"m-footer-app__text"},[n("span",[e._v(e._s(e.description))])]),e._v(" "),n("div",{staticClass:"m-footer-app__icons"},e._l(e.icons,(function(e){return n("a",{key:e.id,staticClass:"m-footer-app__link",attrs:{href:e.href,rel:"noopener",target:"_blank"}},[n("img",{staticClass:"m-footer-app__image",attrs:{src:e.src,alt:e.alt}})])})),0),e._v(" "),n("small",[e._v("Если ссылка не открывается, включите VPN")])])}),[],!1,null,null,null).exports),zr={};zr.props={menu:Array},zr.setup=function(e,t){return{isDesktop:Object(Ae.a)().isDesktop}};var Vr=zr,Hr=(n(618),Object(Ue.a)(Vr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-footer-bottom"},[n("div",{staticClass:"m-footer-bottom__menu",attrs:{"data-test-id":"legal-info-section"}},e._l(e.menu,(function(t){return n("m-menu-item",{key:t.id,staticClass:"m-footer-bottom__menu-item",attrs:{"data-test-id":"legal-info-section-item",to:t.href,name:t.name,active:!e.isDesktop}})})),1)])}),[],!1,null,null,null).exports),Gr={};Gr.props={twoLine:Boolean,hideDescription:{type:Boolean,default:!1},dataTestId:{type:String,default:"telepnone"}},Gr.setup=function(e,t){var n=Object(r.ref)(Object(De.k)());return{tel:Object(r.computed)((function(){var e,t;return null===(e=n.value)||void 0===e||null===(t=e.info)||void 0===t?void 0:t.tel}))}};var Kr=Gr,Wr=(n(619),Object(Ue.a)(Kr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tel?n("div",{staticClass:"m-tel",class:{"m-tel--2line":e.twoLine}},[n("a",{staticClass:"m-tel__link",class:{"text--supplementary-1":e.twoLine},attrs:{href:"tel:"+e.tel,"data-test-id":e.dataTestId},domProps:{textContent:e._s(e.tel)}}),e._v(" "),e.hideDescription?e._e():n("span",{staticClass:"m-tel__helper",domProps:{textContent:e._s("Бесплатный звонок")}})]):e._e()}),[],!1,null,null,null).exports),Jr={setup:function(e,t){var n=yr();return{terms:n.terms,footer:n.footer,deliveryIcons:[Rr,Tr],promotionIcons:[Dr,Ir],text:{delivery:"Заказывайте продукты и косметику через наше приложение",promotions:"Акции, поиск ближайшего «Магнита», виртуальная карта лояльности и баланс бонусов и Магнитиков"}}}};Jr.components=Object.assign({MTel:Wr,MFooterMenu:$r,MFooterSocials:Mr,MFooterApp:Fr,MFooterBottom:Hr},Jr.components);var Xr=Jr,Qr=(n(620),Object(Ue.a)(Xr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-container-main-mobile m-footer"},[n("div",{staticClass:"m-footer__logo"},[n("app-link",{attrs:{to:"/","data-test-id":"footer-logo-link"}},[n("img",{staticClass:"m-footer__logo-image",attrs:{src:"/logo-brand.svg",alt:"logo",loading:"lazy"}})]),e._v(" "),n("MTel",{attrs:{"data-test-id":"footer-support-phone","two-line":""}})],1),e._v(" "),n("MFooterMenu",{attrs:{menu:e.footer}}),e._v(" "),n("MFooterSocials",{staticClass:"m-footer__social"}),e._v(" "),n("div",{staticClass:"m-footer-apps"},[n("MFooterApp",{attrs:{description:e.text.delivery,icons:e.deliveryIcons}}),e._v(" "),n("MFooterApp",{attrs:{description:e.text.promotions,icons:e.promotionIcons}})],1),e._v(" "),n("MFooterBottom",{staticClass:"m-footer-bottom__menu",attrs:{menu:e.terms}}),e._v(" "),e._m(0)],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-footer__copyright"},[n("span",[e._v("© Официальный сайт сети «Магнит» . АО «Тандер»")])])}],!1,null,null,null).exports),Yr=n(152),Zr=n.n(Yr),eo={setup:function(e,t){var n=Object(r.ref)(null),o=Object(r.ref)(null),c=Object(r.computed)((function(){return"iOS"===n.value?Rr.href:"AndroidOS"===n.value?Tr.href:null})),l=Object(r.computed)((function(){return!(!c.value||o.value)}));return Object(r.onMounted)((function(){var e,t=new Zr.a((null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"").os(),r=["AndroidOS"].includes(t),c=["iOS","iPadOS"].includes(t);r?n.value="AndroidOS":c&&(n.value="iOS"),o.value=localStorage.getItem("mgt__do-not-show-app-banner")})),{mobileAppLink:c,displayBanner:l,handleClose:function(){localStorage.setItem("mgt__do-not-show-app-banner","1"),o.value="1"}}}},to=eo,no=(n(621),Object(Ue.a)(to,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("client-only",[n("transition",{attrs:{name:"hide"}},[e.displayBanner?n("div",{staticClass:"mobile-app-banner"},[n("button",{staticClass:"mobile-app-banner__btn-close",on:{click:e.handleClose}},[n("img",{attrs:{src:"/icons/exit.svg"}})]),e._v(" "),n("img",{attrs:{src:"/icons/app-logo.svg"}}),e._v(" "),n("div",{staticClass:"mobile-app-banner__text"},[n("div",{staticClass:"mobile-app-banner__title"},[e._v("\n          Магнит Доставка\n        ")]),e._v(" "),n("div",{staticClass:"mobile-app-banner__subtitle"},[e._v("\n          Продукты и не только\n        ")])]),e._v(" "),n("a",{staticClass:"mobile-app-banner__link",attrs:{href:e.mobileAppLink,target:"_blank"}},[n("button",[e._v("\n          Открыть\n        ")])])]):e._e()])],1)}),[],!1,null,null,null).exports),ro=(n(622),Object(Ue.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading-page"},[t("loader")],1)}),[],!1,null,null,null).exports),oo=n(291);function ao(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function io(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ao(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ao(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var co={setup:function(e,t){var n=Object(Ve.h)(),o=Object(Qn.a)(),c=Object(we.a)().refreshKey;Object(Me.a)("shop-changed",Fn.a);var l=Object(r.computed)((function(){return o.replacements.filter((function(e){return!e.viewed})).map((function(s){return io(io({},s),{},{key:"".concat(s.orderId).concat(s.statusId)})}))})),d=Object(r.computed)((function(){return!/profile\/orders/i.test(n.path)&&!/basket/i.test(n.path)&&!!l.value.length})),f=Object(r.computed)((function(){return"__error"===n.params.pathMatch})),v=Object(r.computed)((function(){return n.fullPath.includes(oo.PAGE_LOADER_HASH_PATH)}));return{refreshKey:c,replacementList:l,showReplacementNotifications:d,showErrorPage:f,showLoadingPage:v}}};co.components=Object.assign({MLoadingPage:ro,MobileAppBanner:no,MHeader:Cr,ReplacementAlert:ht,MErrorPage:nt.a,MFooter:Qr,ModalCollection:tt},co.components);var uo=co,so=(n(623),Object(Ue.a)(uo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-default"},[e.showLoadingPage?n("MLoadingPage"):[n("MobileAppBanner"),e._v(" "),n("header",{staticClass:"layout-default__header",attrs:{id:"js-header-id"}},[n("MHeader")],1),e._v(" "),n("main",{staticClass:"layout-default__main",attrs:{id:"js-main-id"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showReplacementNotifications,expression:"showReplacementNotifications"}],staticClass:"layout-default__alerts m-container-main-mobile"},e._l(e.replacementList,(function(e){return n("ReplacementAlert",{key:e.key,staticClass:"layout-default__alerts-link",attrs:{replacement:e}})})),1),e._v(" "),e.showErrorPage?n("MErrorPage",{attrs:{"link-url":"/","link-title":"На главную"}}):n("Nuxt",{key:e.refreshKey}),e._v(" "),n("portal-target",{staticStyle:{"z-index":"100"},attrs:{name:"main",multiple:""}})],1),e._v(" "),n("footer",{staticClass:"layout-default__footer"},[n("MFooter")],1),e._v(" "),n("portal-target",{attrs:{name:"layout",multiple:""}}),e._v(" "),n("ModalCollection")]],2)}),[],!1,null,null,null).exports),lo={setup:function(e,t){return{refreshKey:Object(we.a)().refreshKey}}};lo.components=Object.assign({ModalCollection:tt},lo.components);var po=lo,fo=Object(Ue.a)(po,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"empty"},[n("main",[n("nuxt",{key:e.refreshKey})],1),e._v(" "),n("ModalCollection")],1)}),[],!1,null,null,null).exports;function vo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ho={_default:C(so),_empty:C(fo)},bo={render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){l.c.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$loading=e.$refs.loading;case 1:case"end":return t.stop()}}),t)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=S(e.$route)).length){t.next=3;break}return t.abrupt("return");case 3:return e.$loading.start(),r=n.map((function(t){var p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(M(t.$options.fetch,e.context)),t.$fetch)p.push(t.$fetch());else{var n,r=vo(x(t.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(e){r.e(e)}finally{r.f()}}return t.$options.asyncData&&p.push(M(t.$options.asyncData,e.context).then((function(e){for(var n in e)l.c.set(t.$data,n,e[n])}))),Promise.all(p)})),t.prev=5,t.next=8,Promise.all(r);case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(5),e.$loading.fail(t.t0),_(t.t0),e.error(t.t0);case 15:e.$loading.finish();case 16:case"end":return t.stop()}}),t,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var e=(it.options||it).layout;"function"==typeof e&&(e=e(this.context)),this.setLayout(e)}},setLayout:function(e){return e&&ho["_"+e]||(e="default"),this.layoutName=e,this.layout=ho["_"+e],this.layout},loadLayout:function(e){return e&&ho["_"+e]||(e="default"),Promise.resolve(ho["_"+e])}},components:{NuxtLoading:st}},go=n(288),Oo=(n(65),n(452));const{h:yo}=n(0);function jo(e){var t=e.icon;return function(e){var t=n(624)("./"+e+".svg");return"string"==typeof t?t:"object"===Object(o.a)(t)&&"string"==typeof t.default?t.default:""}(e.sprite)+"#i-".concat(t.toLowerCase().replace(/\.svg$/,"").replace(/[^a-z0-9-]/g,"-"))}var _o={name:"SvgIcon",functional:!0,props:{name:{type:String,required:!0},title:{type:String,default:null},desc:{type:String,default:null},viewBox:{type:String,default:null,validator:function(e){return e.split(" ").every((function(e){return!isNaN(parseInt(e))}))}}},render:function(e,t){var n=t.props,data=t.data,r=function(e){var t=e.split("/"),n=Object(v.a)(t,2),r=n[0],o=n[1];return o||(o=r,r="icons"),{icon:o,sprite:r}}(n.name),o=jo(r),use=e("use",{attrs:{href:o,"xlink:href":o}}),title=n.title?e("title",n.title):null,desc=n.desc?e("desc",n.desc):null,c={class:"m-icon m-icon-"+r.sprite,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:n.viewBox}};return e("svg",Object(Oo.a)(data,c),[title,desc,use].filter(Boolean))}};l.c.component(_o.name,_o);var ko=n(453);l.c.use(ko.a);var xo=n(454),wo=n.n(xo),Co=function(e,t){var n=e.req,r=e.res,o=!0;t("cookies",wo()(n,r,o))},Po=n(157),So=n.n(Po),Eo=n(455);function Ro(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Do(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ro(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ro(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function To(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}for(var Bo={setBaseURL:function(e){this.defaults.baseURL=e},setHeader:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",o=To(Array.isArray(r)?r:[r]);try{for(o.s();!(n=o.n()).done;){var c=n.value;t?this.defaults.headers[c][e]=t:delete this.defaults.headers[c][e]}}catch(e){o.e(e)}finally{o.f()}},setToken:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",r=e?(t?t+" ":"")+e:null;this.setHeader("Authorization",r,n)},onRequest:function(e){this.interceptors.request.use((function(t){return e(t)||t}))},onResponse:function(e){this.interceptors.response.use((function(t){return e(t)||t}))},onRequestError:function(e){this.interceptors.request.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onResponseError:function(e){this.interceptors.response.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onError:function(e){this.onRequestError(e),this.onResponseError(e)},create:function(e){return No(Object(Eo.a)(e,this.defaults))}},Ao=function(){var e=qo[Mo];Bo["$"+e]=function(){return this[e].apply(this,arguments).then((function(e){return e&&e.data}))}},Mo=0,qo=["request","delete","get","head","options","post","put","patch"];Mo<qo.length;Mo++)Ao();var No=function(e){var t=So.a.create(e);return t.CancelToken=So.a.CancelToken,t.isCancel=So.a.isCancel,function(e){for(var t in Bo)e[t]=Bo[t].bind(e)}(t),t.onRequest((function(e){e.headers=Do(Do({},t.defaults.headers.common),e.headers)})),t},$o=function(e,t){var n=e.$config&&e.$config.axios||{},r=n.browserBaseURL||n.browserBaseUrl||n.baseURL||n.baseUrl||"/";var o=No({baseURL:r,headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}});e.$axios=o,t("axios",o)},Lo=function(e,t){var n=e.app,r=JSON.parse('{"id":"89906752","webvisor":true,"clickmap":true,"useCDN":false,"trackLinks":true,"accurateTrackBounce":true,"debug":false,"noJS":true,"disabled":false,"ut":"noindex","ecommerce":"dataLayer"}'),o=n.router,c=!1;o.onReady((function(){c=!0}));var l,d,f,v,m,a,h=(r.useCDN?"https://cdn.jsdelivr.net/npm/yandex-metrica-watch":"https://mc.yandex.ru/metrika")+"/tag.js";l=window,d=document,f="script",v=h,l.ym=l.ym||function(){(l.ym.a=l.ym.a||[]).push(arguments)},l.ym.l=1*new Date,m=d.createElement(f),a=d.getElementsByTagName(f)[0],m.async=1,m.src=v,a.parentNode.insertBefore(m,a),ym(r.id,"init",r);var O={reachGoal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ym(r.id,"reachGoal",e,t)},hit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ym(r.id,"hit",e,t)},addFileExtension:function(e){return ym(r.id,"addFileExtension",e)},extLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ym(r.id,"extLink",e,t)},file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ym(r.id,"file",e,t)},getClientID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return ym(r.id,"getClientID",e)},notBounce:function(){return ym(r.id,"notBounce",{})},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ym(r.id,"params",e)},replacePhones:function(){return ym(r.id,"replacePhones")},setUserID:function(e){return ym(r.id,"setUserID",e)},userParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ym(r.id,"userParams",e)}};o.afterEach((function(e,t){c&&O.hit(e.fullPath,{referer:t.fullPath})})),t("yandexMetrika",O)};var Uo="dataLayer",Fo="GTM-PP8RHFP";var zo=function(e,t){var n="GTM-PP8RHFP",r=(e.$config&&e.$config.gtm||{}).id,o=function(e,t){return{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo;!t[e]&&window._gtm_inject&&(window._gtm_inject(e),t[e]=!0)},push:function(e){window[Uo]||(window[Uo]=[]),window[Uo].push(e)}}}(0,Object(f.a)({},n,!0));r&&r!==n&&o.init(r),e.$gtm=o,t("gtm",e.$gtm)},Vo=n(289),Ho=n(290);l.c.use(r.default.default||r.default);var Go=Object(Ve.b)((function(e){var t=e.nuxt2Context.app.setup;e.nuxt2Context.app.setup=function(){var n=t instanceof Function?t.apply(void 0,arguments):{};e.hooks.callHookWith((function(e){return e.map((function(e){return e()}))}),"vue:setup");return n}})),Ko=(n(154),n(351),n(456));globalThis.$fetch||(globalThis.$fetch=Ko.a);var Wo=n(48);l.l&&(Object(l.h)(),("default"in l.a?l.a.default:l.a).use(Wo.a));var Jo=function(e,t){var n=Object(Wo.b)();l.l?e.app.pinia=n:e.vueApp.use(n),t("pinia",n),e.pinia=n,Object(Wo.d)(n),n._p.push((function(t){var n=t.store;Object.defineProperty(n,"$nuxt",{value:e})})),e.nuxtState&&e.nuxtState.pinia&&(n.state.value=e.nuxtState.pinia)},Xo=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!!window.MSInputMethodContext&&!!document.documentMode,r="scrollBehavior"in document.documentElement.style,t&&n.e(33).then(n.t.bind(null,935,7)),"IntersectionObserver"in window){e.next=6;break}return e.next=6,n.e(35).then(n.t.bind(null,936,7));case 6:if("ResizeObserver"in window){e.next=12;break}return e.next=9,n.e(35).then(n.bind(null,937));case 9:o=e.sent,c=o.default,window.ResizeObserver=c;case 12:r||n.e(32).then(n.t.bind(null,938,7)).then((function(e){var t;return null==e||null===(t=e.default)||void 0===t?void 0:t.polyfill()})).catch((function(){}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qo=Xo,Yo=(n(176),n(98)),Zo=(n(387),n(133),function(e){var t,n,r=null==e||null===(t=e.config)||void 0===t?void 0:t.baseURL,o=null==e||null===(n=e.config)||void 0===n?void 0:n.url,c=(null==e?void 0:e.response)||{},l=c.status,data=c.data,d=(null==data?void 0:data.message)||(null==e?void 0:e.message);return function(e,t,n){var r,o,data=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c="string"==typeof data&&null!=data&&data.includes("<title>")?null===(r=data.match(/<title>(.*?)<\/title>/g))||void 0===r?void 0:r[0]:data;try{o=decodeURIComponent(t||"<URL>")}catch(e){o=e}console.error("[Ошибка в запросе] %s [%s] [%o] %s","",o,n||"<STATUS>",c)}(r,o,l||e.code,d),Promise.reject(e)}),ea=function(e){return(null==e?void 0:e.data)||e},ta=function(e){return e.ts=Date.now(),e},na=function(data){if(null==data||!data.config)return data;var e=(data||{}).config,time=e.ts?Number(Date.now()-e.ts):-0;e.ts&&(e.ts=0);var t="stack"in data&&"message"in data;return function(e,t,n){var r,time=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{r=decodeURIComponent(n||"<URL>")}catch(e){r=e}console[o?"error":"log"]("[%s]: %s -> [%s] [%o]ms",e,(null==t?void 0:t.toUpperCase())||"<METHOD>",r,+time.toFixed(0))}("mock"in e?"axios mock":"axios timing",e.method,e.url,time,t),data},ra=function(e){return na(e),Promise.reject(e)},oa=n(49),aa=n(457),ia=n.n(aa),ca=null,ua=null,sa=function(e){var t,n,r,o,c=(t=e.headers,null===(n=t["set-cookie"])||void 0===n||null===(r=n.filter((function(e){return e.includes(oa.c)}))[0])||void 0===r||null===(o=r.split(";")[0])||void 0===o?void 0:o.split("=")[1]);return c&&!ca&&(ca=c,ua.set(oa.c,c)),e},la=function(e){return ca&&(e.headers.Cookie=ia.a.serialize(oa.c,ca)),e},da=n(249),pa=n(110),fa=n(87),va=n(78),ma=n(18),ha=n(17);function ba(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ga(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ba(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ba(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Oa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(ma.a)(this,e),this.project=t,this.config=ga({write:!1},n)}var t,n;return Object(ha.a)(e,[{key:"getMockData",value:(n=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/mock/get_mock_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ga(ga({},t),{},{project:this.project}))});case 3:return r=e.sent,e.next=6,r.json();case 6:if(200!==(o=e.sent).status){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.next=11,n();case 11:return c=e.sent,e.next=14,this.setMockData(t,c);case 14:return e.abrupt("return",c);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",n());case 20:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(e,t){return n.apply(this,arguments)})},{key:"setMockData",value:(t=Object(c.a)(regeneratorRuntime.mark((function e(t,data){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.write){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,fetch("/mock/set_mock_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ga(ga({},t),{},{response:data,project:this.project}))});case 4:return n=e.sent,e.next=7,n.json();case 7:if(200===(r=e.sent).status){e.next=10;break}throw new Error(r.message);case 10:return e.abrupt("return",r.data);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function ya(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ja(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ya(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ya(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _a=function(e,t){var n=[Object(De.d)(),Object(De.i)()],r=n[0],o=n[1],l="ERROR while trying to refetch/refresh tokens",d={ttd:(null==r?void 0:r.ttd)||18e5},f=null,v={},m={},h=[Object(da.a)(e.$pinia),Object(pa.a)(e.$pinia),Object(fa.a)(e.$pinia)],O=h[0],y=h[1],j=h[2],_=null==o?void 0:o.enabled,k=null==o?void 0:o.write,x=function(e,t){m[t]&&clearTimeout(m[t]),O.clearResponseData(e,t),delete m[t],delete v[t]},w=function(e){Object.keys(O.hashTable[e]||{}).forEach((function(t){return x(e,t)}))},C=function(e,t){m[t]&&clearTimeout(m[t]),m[t]=setTimeout((function(){return x(e,t)}),+d.ttd)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=ja(ja({},d),e);var t=Object.keys(O.hashTable);t.forEach((function(e){Object.keys(O.hashTable[e]).forEach((function(t){return C(e,t)}))}))},S=function(){return f||(f=e.$axios.create(),t=f,n=e.$cookies,ua=n,t.interceptors.response.use(sa),t.interceptors.request.use(la),function(e){e.interceptors.request.use(ta,ra),e.interceptors.response.use(na,ra)}(f),function(e){e.interceptors.response.use(void 0,Zo)}(f),function(e){e.interceptors.response.use(ea)}(f),f);var t,n},E=function e(t,n,r){var o=t.params,data=t.data,c=t.method,l=t.url;try{var d=function(data,e){return data&&"formdata"===(null==e?void 0:e.contentType)?Object.fromEntries(data):data}(data,t);return Object(Yo.a)({current_address:"default_address",hashData:d,params:o,method:c,url:l})}catch(d){return console.warn("Cache-control getCacheKey error: ",d.message,t),r?Date.now():e({params:o,method:c,url:l},n,!0)}},R=function(e){return!1===e?e:null==r?void 0:r.enabled},D=function(e){return _?new Oa("express",{write:k}).getMockData(e,(function(){return S().request(e)})):S().request(e)},T=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.axiosConfig,r=t.cacheParams,o=t.error,c=t.resolve,d=t.reject,e.prev=1,Object(va.d)()){e.next=4;break}throw new Error("no refresh tokens cookie");case 4:return e.next=6,y.refreshTokens();case 6:return f=ja(ja({},n||{}),{},{headers:ja(ja({},(null==n?void 0:n.headers)||{}),{},{Authorization:Object(va.a)()})}),e.next=9,I(f,r,!0);case 9:v=e.sent,c(v),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.message===l&&Object(va.a)()?(m={requestError:o,config:n},Object(Te.a)("restriction-error",{prevReq:m,currReq:e.t0}),j.logout(),d(e.t0.requestError)):d(o);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.cache,o=t.force,c=t.prefix,d=t.clear,f=R(r),m=E(e,t);return o&&x(c,m),v[m]&&!n||(v[m]=new Promise((function(r,o){var h;f&&null!==(h=O.hashTable[c])&&void 0!==h&&h[m]?r(O.hashTable[c][m]):D(e).then((function(e){return f&&(O.setResponseData(c,m,e),C(m)),delete v[m],d&&d.forEach(w),r(e),e})).catch((function(d){var f,h;return x(c,m),401!==(null==d||null===(f=d.response)||void 0===f?void 0:f.status)||n?401===(null==d||null===(h=d.response)||void 0===h?void 0:h.status)&&n?o({requestError:d,message:l,config:e}):(delete v[m],o(d),null):T({axiosConfig:e,cacheParams:t,error:d,resolve:r,reject:o})}))}))),v[m]};P(),t("cacheControl",{fetch:I,start:P,clear:x,clearAll:function(){Object.keys(O.hashTable).forEach(w)},clearByPrefix:w})},ka={};ka.props={label:String};var xa=ka,wa=(n(628),Object(Ue.a)(xa,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"m-badge"},[e._v("\n  "+e._s(e.label)+"\n")])}),[],!1,null,null,null).exports),Ca={};Ca.props={banner:Object,maxSize:Number},Ca.setup=function(e,t){var n=e,o=Object(Ae.a)(),c=o.isDesktop,l=o.isTablet,d=o.isMobile,f=Object(r.computed)((function(){var e;return null===(e=n.banner)||void 0===e?void 0:e.color}));return{outerStyle:Object(r.computed)((function(){return{"background-color":f.value||"#fff"}})),imgSrc:Object(r.computed)((function(){var e,t=n.banner,r=n.maxSize||1280,o=[t.image_1024_1280,t.image_768_1024,t.image_375_768,t.picture],f=o[0],v=o[1],m=o[2],h=o[3];c.value?e=[f,h]:l.value?e=[v,h]:d.value&&(e=[m,h]);var O=e.filter((function(s){return!!s}))[0];if(!O)return null;var y=Object(De.c)()||"",j="".concat(y,"resize/").concat(r,"x").concat(r);return O===h?"".concat(j).concat(h):O})),emit:Object(Be.a)("banner-click")}};var Pa=Ca,Sa=(n(629),Object(Ue.a)(Pa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-link",{staticClass:"m-banner",style:e.outerStyle,attrs:{to:e.banner.url||""},nativeOn:{click:function(t){return e.emit("banner-click",e.banner)}}},[n("IntersectionObserver",{attrs:{prefix:"banner",data:e.banner,once:""}}),e._v(" "),n("div",{staticClass:"m-banner__inner"},[n("div",{staticClass:"m-banner__content"},[n("h3",{staticClass:"m-banner__title"},[e._v(e._s(e.banner.name))]),e._v(" "),n("p",{staticClass:"m-banner__desc"},[e._v(e._s(e.banner.description))])]),e._v(" "),n("picture",[n("img",{staticClass:"m-banner__image",style:e.outerStyle,attrs:{src:e.imgSrc,alt:e.banner.name}})])])],1)}),[],!1,null,null,null).exports),Ea=n(131);function Ra(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Da(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ra(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ra(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ta={};Ta.props={list:Array,options:Object},Ta.setup=function(e,t){Ea.e.use([Ea.b,Ea.c,Ea.d,Ea.a]);var n=e,o=t.emit,c=Object(r.ref)(null),l=Object(r.ref)(null),d=Object(r.ref)(null),f=Object(r.ref)(null),v=Object(r.ref)(null),m=Object(r.ref)(null),h=Object(r.computed)((function(){var e;return!!l.value&&l.value.params.slidesPerView>=(null===(e=n.list)||void 0===e?void 0:e.length)})),O=Object(r.computed)((function(){var e=n.options||{},t=Da(Da({},{speed:300,spaceBetween:0,slidesPerView:1}),e),r=Object.keys(t);return r.includes("loop")||(t.loop=n.list.length>t.slidesPerView),r.includes("enabled")||(t.enabled=n.list.length>t.slidesPerView),r.includes("on")||(t.on={}),r.includes("navigation")||(t.navigation={prevEl:d.value,nextEl:f.value}),r.includes("pagination")||(t.pagination={el:v.value,clickable:!0}),t.on.afterInit=function(){m.value=!0,o("init",l.value)},t.on.slideChange=function(){return o("change",l.value)},t.on.click=function(){return o("click",l.value)},t}));return Object(r.onMounted)((function(){c.value&&(l.value=new Ea.e(c.value,O.value))})),Object(r.watch)((function(){return n.list}),(function(){return l.value.update()})),{swiperEl:c,swiper:l,prevBtn:d,nextBtn:f,pagination:v,initialized:m,hidePagination:h,nextSlide:function(){var e;return null===(e=l.value)||void 0===e?void 0:e.slideNext()},prevSlide:function(){var e;return null===(e=l.value)||void 0===e?void 0:e.slidePrev()}}};var Ia=Ta,Ba=(n(633),Object(Ue.a)(Ia,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"swiper-abstraction",class:{initialized:e.initialized,hidePagination:e.hidePagination}},[n("div",{ref:"swiperEl",staticClass:"swiper swiper-container"},[n("div",{staticClass:"swiper-wrapper"},e._l(e.list,(function(t,r){return n("div",{key:t.id,staticClass:"swiper-slide"},[e._t("default",null,{item:t,index:r,swiper:e.swiper})],2)})),0)]),e._v(" "),n("div",{staticClass:"swiper-navigation"},[n("div",{staticClass:"swiper-navigation__panel"},[e._t("prev-button",(function(){return[n("button",{ref:"prevBtn",staticClass:"swiper-navigation__control swiper-controls-prev"},[n("m-icon",{attrs:{name:"triangle-with-radius",width:"7px",height:"14px"}})],1)]}),{swiper:e.swiper,move:e.prevSlide}),e._v(" "),e._t("pagination",(function(){return[n("div",{ref:"pagination",staticClass:"swiper-pagination"})]})),e._v(" "),e._t("next-button",(function(){return[n("button",{ref:"nextBtn",staticClass:"swiper-navigation__control swiper-controls-next"},[n("m-icon",{attrs:{name:"triangle-with-radius",width:"7px",height:"14px"}})],1)]}),{swiper:e.swiper,move:e.nextSlide})],2)])])}),[],!1,null,null,null).exports),Aa={};Aa.props={breadcrumbs:{type:Array,required:!0,default:function(){return[]}}};var Ma=Aa,qa=(n(634),Object(Ue.a)(Ma,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.breadcrumbs.length?n("ol",{staticClass:"m-breadcrumbs"},e._l(e.breadcrumbs,(function(t,r){return n("li",{key:t.id,staticClass:"m-breadcrumbs__item",attrs:{"data-test-id":"breadcrumb"}},[0!==r?n("m-icon",{staticClass:"m-breadcrumbs__icon",attrs:{name:"arrow-breadcrumbs",size:"8px"}}):e._e(),e._v(" "),r!==e.breadcrumbs.length-1?n("app-link",{staticClass:"m-breadcrumbs__link",attrs:{to:t.to},domProps:{textContent:e._s(t.label)}}):n("span",{staticClass:"m-breadcrumbs__text",domProps:{textContent:e._s(t.label)}})],1)})),0):e._e()}),[],!1,null,null,null).exports);n(461);function Na(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function $a(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Na(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Na(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var La={};La.props={to:[String,Object],name:{type:String,default:""},roundedSquare:{type:Boolean,default:!1},label:{type:String,default:""},block:{type:Boolean,default:!1},square:{type:Boolean,default:!1},red:Boolean,outline:{type:Boolean,default:!1},large:{type:Boolean,default:!1},link:{type:Boolean,default:!1},text:{type:String,default:""},black:{type:Boolean,default:!1},light:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingType:{type:String,default:"round",validator:function(e){return[!0,!1,"round","dots"].includes(e)}},centered:{type:Boolean,default:!1}},La.setup=function(e,t){var n=e,o=Object(Be.a)(["click","button-ready","button-click"]),c=Object(r.useAttrs)(),l=Object(r.getCurrentInstance)(),d=Object(r.computed)((function(){return(n.to?"app-link":c.href&&"a")||c.tag||"button"})),f=Object(r.computed)((function(){return"round"===n.loadingType?"m-spinner-round":"m-spinner-dots"})),v=Object(r.computed)((function(){return{"m-button-type--rounded-square":n.roundedSquare,"m-button-type--square":n.square,"m-button-type--outline":n.outline,"m-button-type--large":n.large,"m-button-type--link":n.link,"m-button-type--block":n.block,"m-button-type--text":n.text,"m-button-color--black":n.black,"m-button-color--ghost":n.ghost,"m-button--red":n.red,"is-light":n.light,"is-disabled":n.disabled||n.loading,"is-loading":n.loading,"is-centered":n.centered}})),m=Object(r.computed)((function(){return $a($a({},l.proxy.$listeners),{},{click:function(){n.disabled||(o("click"),n.name&&o("button-click"))}})}));return Object(r.watch)((function(){return n.disabled}),(function(e){return n.name&&!e&&o("button-ready",{name:n.name,label:n.label})})),{btnType:d,loaderType:f,classes:v,listeners:m}};var Ua=La,Fa=(n(637),Object(Ue.a)(Ua,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.btnType,e._g(e._b({tag:"component",staticClass:"m-button",class:e.classes,attrs:{to:e.to}},"component",e.$attrs,!1),e.listeners),[e.label?n("div",{staticClass:"m-button__inner"},[n("span",{staticClass:"m-button__label",domProps:{innerHTML:e._s(e.label)}})]):e._e(),e._v(" "),e._t("default"),e._v(" "),e.loading?n(e.loaderType,{tag:"component",attrs:{light:!e.black,inverse:e.black,absolute:""}}):e._e()],2)}),[],!1,null,null,null).exports);function za(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Va(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?za(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):za(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ha={};Ha.props={title:{type:String,default:"Категории"},category:{type:Object,default:function(){return{}}},activeUrl:String,dotColor:{type:String,default:"#E6000E"},dataTestId:{type:String,default:"filter-category"}},Ha.setup=function(e,t){var n=e,o=Object(Ve.h)(),c=Object(r.computed)((function(){return n.activeUrl||o.path})),l=Object(r.computed)((function(){var e;return((null===(e=n.category)||void 0===e?void 0:e.items)||[]).map((function(s){return Va(Va({},s),{},{className:[{"m-list__link--active":s.url===c.value},{"m-list__link--hidden":!s.hasProducts}]})}))})),d=Object(r.computed)((function(){return!!l.value.filter((function(s){return s.hasProducts})).length})),label=Object(r.computed)((function(){var e;return(null===(e=n.category)||void 0===e?void 0:e.label)||"No label"})),f=Object(r.computed)((function(){var e;return!(null===(e=n.category)||void 0===e||!e.showLabel)})),v=Object(r.computed)((function(){return"".concat(n.dataTestId,"-item")})),m=Object(r.computed)((function(){return[{"m-category-list--pl":f.value},{"m-category-list--hidden":!d.value}]}));return{items:l,label:label,showLabel:f,dataTestIdItem:v,className:m}};var Ga=Ha,Ka=(n(638),Object(Ue.a)(Ga,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"m-category-list",class:e.className},[n("h3",{staticClass:"m-category-list__title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"m-category-list__inner",class:e.className,attrs:{"data-test-id":e.dataTestId}},[e.showLabel?n("div",{staticClass:"m-label",style:{"--dotColor":e.dotColor}},[e._v("\n      "+e._s(e.label)+"\n    ")]):e._e(),e._v(" "),n("ul",{staticClass:"m-list",class:{"m-list_subcategory":e.showLabel}},e._l(e.items,(function(t){return n("li",{key:t.code},[n("app-link",{staticClass:"m-list__link",class:t.className,attrs:{to:t.url,"data-test-id":e.dataTestIdItem}},[e._v("\n          "+e._s(t.name)+"\n        ")])],1)})),0)])])}),[],!1,null,null,null).exports),Wa={};Wa.props={active:Boolean,persistent:Boolean,side:{type:String,default:"left"}},Wa.setup=function(e,t){var n=e,o=t.emit,c=Object(Ve.h)(),l=Object(pt.a)(!1),d=l.value,v=l.setValue,m=Object(r.computed)((function(){return"transition-translate-from-".concat(n.side)})),h=Object(r.computed)((function(){var e;return e={},Object(f.a)(e,"is-".concat(n.side),n.side),Object(f.a)(e,"is-active",n.active),e}));return Object(r.watch)((function(){return n.active}),(function(e){return v(e)}),{immediate:!0}),Object(r.watch)((function(){return c.fullPath}),(function(){return v(!1)})),{isOpen:d,transitionName:m,className:h,handleShieldClick:function(){n.persistent||v(!1)},handleLeave:function(){o("close")}}};var Ja=Wa,Xa=(n(639),n(640),Object(Ue.a)(Ja,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-drawer",class:e.className},[n("transition",{attrs:{appear:"",name:"transition-fade"}},[e.isOpen?n("app-shield",{nativeOn:{click:function(t){return e.handleShieldClick.apply(null,arguments)}}}):e._e()],1),e._v(" "),n("transition",{attrs:{appear:"",name:e.transitionName},on:{"after-leave":e.handleLeave}},[e.isOpen?n("div",{staticClass:"m-drawer__wrapper"},[e._t("default")],2):e._e()])],1)}),[],!1,null,null,null)),Qa=Xa.exports,Ya=n(297),Za=function(){var picture=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"250x180";if(picture.includes("https://magnitdostavka.detectum.com"))return picture;var t=Object(De.h)();return(picture&&t?picture.includes("resize/")?"".concat(t,"/").concat(picture):"".concat(t,"/resize/").concat(e).concat(picture):"/images/no-image.jpg").replace(/(https?:\/\/)|(\/)+/g,"$1$2")},ei={};ei.props={src:String,alt:String,static:Boolean,immediate:Boolean,imageClass:[String,Array,Object],intersectionOptions:{type:Object,default:function(){return{threshold:.2}}},size:{type:String,validator:function(e){return/^\d+x\d+$/.test(e)},default:"250x180"},resize:String,noImageSrc:{type:String,default:"/images/image-off-outline.svg"},objectFit:{type:String,default:"contain"}},ei.setup=function(e,t){var n=e,o=Object(dn.a)(),c=o.run,l=o.error,d=o.data,f=Object(r.ref)(null),m=Object(r.ref)(!1),h=Object(r.computed)((function(){return!n.immediate})),O=Object(r.computed)((function(){return!n.immediate&&!d.value&&!l.value})),y=Object(r.computed)((function(){var e=(n.size||"x").split("x"),t=Object(v.a)(e,2),r=t[0],o=t[1];return r&&o?{height:"".concat(o,"px"),width:"".concat(r,"px")}:{}})),j=Object(r.computed)((function(){return"--object-fit: ".concat(n.objectFit)})),_=Object(r.computed)((function(){return n.immediate||m.value?l.value?n.noImageSrc:n.static?Za(n.src):Za(n.src,n.resize||n.size):null})),k=Object(r.computed)((function(){return{"m-image--loading":O.value,"m-image--error":l.value}}));return Object(r.watch)((function(){return n.src}),(function(){m.value=!1,l.value=null})),{imgRef:f,checkVisibility:h,showLoading:O,imageSize:y,objectFitVar:j,imgSrc:_,className:k,handleImageEnter:function(){f.value&&c((function(e,t){var r,o=function(){r(),e(!0)},c=function(){r(),t(new Error("failed load image ".concat(n.src)))};r=function(){f.value.removeEventListener("load",o),f.value.removeEventListener("error",c)},f.value.addEventListener("load",o),f.value.addEventListener("error",c),m.value=!0}))},handleErrorToLoad:function(){n.immediate&&(l.value="m-image::immediate failure to load image")}}};var ti=ei,ni=(n(642),Object(Ue.a)(ti,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{staticClass:"m-image",class:e.className,style:e.objectFitVar},[e.checkVisibility?n("IntersectionObserver",{key:e.src,attrs:{options:e.intersectionOptions,prefix:"image",once:""},on:{"image-enter":e.handleImageEnter}}):e._e(),e._v(" "),e.showLoading?n("m-spinner-round",{staticClass:"m-image__loader",attrs:{absolute:""}}):e._e(),e._v(" "),n("img",{ref:"imgRef",staticClass:"m-image__image",class:e.imageClass,style:e.imageSize,attrs:{loading:"lazy",src:e.imgSrc,alt:e.alt},on:{error:e.handleErrorToLoad}})],1)}),[],!1,null,null,null).exports),ri={};ri.props={active:Boolean,name:String,to:[String,Object],tag:{type:String,default:""},dataTestId:{type:String,default:"left-catalog-item"}},ri.setup=function(e,t){var n=e;return{dataTestIdTitle:Object(r.computed)((function(){return"".concat(n.dataTestId,"-title")})),itemType:Object(r.computed)((function(){return(n.to?"app-link":n.tag)||"button"}))}};var oi=ri,ai=(n(643),Object(Ue.a)(oi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.itemType,e._b({tag:"component",staticClass:"m-menu-item",class:{"is-active":e.active},attrs:{to:e.to,"data-test-id":e.dataTestId},on:{click:function(t){return e.$emit("click-to-item")}}},"component",e.$attrs,!1),[e._t("before"),e._v(" "),n("span",{staticClass:"m-menu-item__text",attrs:{"data-test-id":e.dataTestIdTitle},domProps:{textContent:e._s(e.name)}}),e._v(" "),e._t("after")],2)}),[],!1,null,null,null).exports),ii=n(107),ci={};ci.props={price:{type:Number,required:!0},oldPrice:{type:[Number,String],default:0},transformPrice:{type:Boolean,default:!1},large:{type:Boolean,default:!1},showDiscount:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},grammar:{type:[Number,Object],default:null},dataTestId:{type:String,default:"product-item-price"}},ci.setup=function(e,t){var n=e,o=function(e,t){return"number"!=typeof e||Number.isNaN(e)?"0":t?Object(ii.a)(e):e},c=Object(r.computed)((function(){var e=n.grammar;if(null===e)return!1;if(e>0){if(e>=1e3){var t=Math.round(e/1e3*100)/100;return 1===t?"кг":"".concat(t," кг")}return"".concat(e," г")}return"шт"}));return{containerClasses:Object(r.computed)((function(){return{"m-price--large":n.large,"m-price--reverse":n.reverse,"m-price--vertical":n.vertical}})),isDiscounted:Object(r.computed)((function(){return n.oldPrice&&n.oldPrice>n.price})),dimensionType:Object(r.computed)((function(){return c.value?"/".concat(c.value):""})),priceFormatted:Object(r.computed)((function(){return o(n.price,n.transformPrice)})),oldPriceFormatted:Object(r.computed)((function(){return o(n.oldPrice,n.transformPrice)})),dataTestIdOld:Object(r.computed)((function(){return"".concat(n.dataTestId,"_old")})),dataTestIdDiscount:Object(r.computed)((function(){return"".concat(n.dataTestId,"-discount")}))}};var ui=ci,si=(n(644),Object(Ue.a)(ui,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-price",class:e.containerClasses},[n("div",{staticClass:"m-price__current",class:{"is-discounted":e.isDiscounted},attrs:{"data-test-id":e.dataTestId}},[n("span",[e._v(e._s(e.priceFormatted))]),e._v(" "),n("span",{staticClass:"m-price__currency"},[e._v(" ₽"+e._s(e.dimensionType))])]),e._v(" "),e.isDiscounted?[n("div",{staticClass:"m-price__old",attrs:{"data-test-id":e.dataTestIdOld}},[n("span",[e._v(e._s(e.oldPriceFormatted)+" ₽")])]),e._v(" "),e.showDiscount?n("m-price-discounter",{staticClass:"m-price__discounter",attrs:{price:e.price,"old-price":e.oldPrice,"data-test-id":e.dataTestIdDiscount}}):e._e()]:e._e()],2)}),[],!1,null,null,null).exports),di={};di.props={goal:{type:Number,default:1e3},current:{type:Number,default:0},showFinished:Boolean},di.setup=function(e,t){var n=e,o=Object(r.computed)((function(){return 100*n.current/n.goal})),c=Object(r.computed)((function(){return n.current>=n.goal})),l=Object(r.computed)((function(){return!c.value&&!n.showFinished}));return{percentage:o,goalReached:c,displayFullProgressBar:l}};var pi=di,fi=(n(645),Object(Ue.a)(pi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.displayFullProgressBar?n("div",{staticClass:"m-progress-bar__wrapper"},[e._t("before"),e._v(" "),n("div",{staticClass:"m-progress-bar"},[n("div",{staticClass:"m-progress-bar__inner",class:{success:e.goalReached},style:"width: "+e.percentage+"%"})])],2):e._e()}),[],!1,null,null,null).exports),vi={};vi.props={price:{type:Number,required:!0},oldPrice:{type:Number,required:!0}},vi.setup=function(e,t){var n=e;return{percent:Object(r.computed)((function(){return Math.round((n.price-n.oldPrice)/n.oldPrice*100)}))}};var mi=vi,hi=(n(646),Object(Ue.a)(mi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"m-price-discounter"},[e._v("\n  "+e._s(e.percent)+"%\n")])}),[],!1,null,null,null).exports),bi={};bi.props={value:Boolean,disabled:Boolean,maxHeight:{type:String,default:"unset"},dataTestId:{type:String,default:"dropdown"}},bi.setup=function(e,t){var n=t.emit;return{toggleSelect:function(){return n("input",!1)}}};var gi=bi,Oi=Object(Ue.a)(gi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.value?n("div",{staticClass:"m-select-dropdown",class:{disabled:e.disabled}},[n("div",{staticClass:"m-select-items",style:{maxHeight:e.maxHeight}},[e._t("content")],2),e._v(" "),n("div",{on:{click:e.toggleSelect}},[e._t("button")],2)]):e._e()}),[],!1,null,"dfd0f10a",null).exports,yi=n(441);function ji(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _i(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ji(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ji(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ki={};ki.props={disabled:Boolean,options:{type:Array,required:!0},value:{type:Object,default:null},maxHeight:{type:String,default:"unset"},type:{type:String,default:"hybrid"},placeholder:{type:String,default:"Выбирете"},dataTestId:{type:String,default:"dropdown"},isOpen:{type:Boolean,default:!1}},ki.setup=function(e,t){var n=e,o=t.emit,c=Object(r.useSlots)().selected,l=Object(Ae.a)().isMobile,d=Object(r.ref)(!1),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d.value=e},v=Object(r.computed)((function(){var e=n.type;return"hybrid"!==e?e:l.value?"drawer":"select"})),m=Object(r.computed)((function(){return"m-select__".concat(v.value,"-item")})),h=Object(r.computed)((function(){return"select"===v.value?Oi:yi.a})),O=Object(r.computed)((function(){return n.options.map((function(e,t){return _i(_i({},e),{},{key:e.key||e.id||e.value||t,selected:e===n.value})}))}));return Object(r.watch)((function(){return l.value}),(function(){return d.value=!1})),Object(r.watch)((function(){return n.options}),(function(){f()})),{selected:c,open:d,toggleSelect:f,selectHandler:function(option,e){n.disabled||(o("input",{option:option.data||option,index:e}),f())},selectType:v,itemClassName:m,componentAbstraction:h,displayOptions:O}};var xi=ki,wi=(n(648),Object(Ue.a)(xi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("click-outside",{attrs:{"listener-selector":".modal-abstraction__inner"},on:{click:function(t){return e.toggleSelect(!1)}}}),e._v(" "),n("div",{staticClass:"m-select",attrs:{"data-test-id":e.dataTestId}},[n("div",{staticClass:"m-select__selected",class:{"m-select__selected--open":e.open,"no-events":"select"===e.type},on:{click:function(t){return e.toggleSelect(!e.open)}}},[e._t("before"),e._v(" "),e.value?n("div",[e.selected?n("div",{staticClass:"m-select__placeholder"},[e._t("selected",null,{option:e.value,selected:!0,type:e.selectType})],2):e._t("option",(function(){return[e._v("\n          "+e._s(e.value)+"\n        ")]}),{option:e.value,selected:!0,type:e.selectType})],2):n("span",{staticClass:"m-select__placeholder"},[e._v("\n        "+e._s(e.placeholder)+"\n      ")]),e._v(" "),e._t("after")],2),e._v(" "),n(e.componentAbstraction,{tag:"component",attrs:{"max-height":e.maxHeight,disabled:e.disabled},scopedSlots:e._u([{key:"content",fn:function(){return e._l(e.displayOptions,(function(option,t){return n("div",{key:option.key,staticClass:"m-select__item",class:e.itemClassName,on:{click:function(n){return e.selectHandler(option,t)}}},[e._t("option",(function(){return[e._v("\n            "+e._s(option.text)+"\n          ")]}),{option:option,type:e.selectType})],2)}))},proxy:!0},{key:"button",fn:function(){return[e._t("button")]},proxy:!0}],null,!0),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}})],1)],1)}),[],!1,null,null,null).exports),Ci={};Ci.props={size:{type:Number,default:32},duration:{type:String,default:"1.2s"},absolute:Boolean,red:Boolean,light:Boolean,inverse:Boolean},Ci.setup=function(e,t){var n=e;return{dotStyle:Object(r.computed)((function(){return{animationDuration:n.duration,width:"".concat(n.size/3,"px"),height:"".concat(n.size/3,"px")}})),classes:Object(r.computed)((function(){return{"is-absolute":n.absolute,"is-color--red":n.red,"is-color--light":n.light,"is-color--inverse":n.inverse}}))}};var Pi=Ci,Si=(n(649),Object(Ue.a)(Pi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"m-spinner-dots",class:e.classes,style:{height:e.size+"px"}},e._m(0),0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._l(3,(function(i){return n("div",{key:i,class:"m-spinner-dots__bounce is-"+i,style:e.dotStyle})}))}],!1,null,null,null).exports),Ei=n(440),Ri=n(298),Di=(n(255),n(128)),Ti={};Ti.props={value:Boolean,message:{type:String,default:""},lifeTime:{type:Number,default:0},trigger:{type:String,default:"hover",validator:function(e){return Object.values(Di.a).includes(e)}},top:Boolean,left:Boolean,right:Boolean,bottom:Boolean,center:Boolean,decorTriangle:Boolean,decorIncreasedTriangle:Boolean,disabled:Boolean,closable:{type:Boolean,default:!1},withBtnAndPointer:{type:Boolean,default:!1},closeButtonTestId:{type:String,default:"close-tooltip"}},Ti.setup=function(e,t){var n=e,o=t.emit,c=Object(pt.a)(!1),l=c.value,d=c.setValue,f=Object(r.computed)((function(){return{"is-decor-increased-cte":n.decorIncreasedTriangle,"is-decor-triangle":n.decorTriangle,"is-position--top":n.top,"is-position--left":n.left,"is-position--right":n.right,"is-position--bottom":n.bottom,"is-position--center":n.center,"with-btn-and-pointer":n.withBtnAndPointer}})),v=Object(r.computed)((function(){return n.trigger===Di.a.CLICK})),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n.value;d(e),o("input",e)},h=Object(yt.a)((function(){return m(!1)}),n.lifeTime||150),O=h.call,y=h.clear;return Object(r.watch)((function(){return n.value}),(function(e){n.lifeTime?function(e){e&&(m(!0),O())}(e,n.lifeTime):m(e)}),{immediate:!0}),{renderTooltip:l,classMap:f,clickTrigger:v,toggle:m,handleClick:function(){v.value&&m(!n.value)},handleMouseEnter:function(){n.disabled||Di.a.HOVER!==n.trigger||(y(),m(!0))},handleMouseLeave:function(){n.disabled||Di.a.HOVER!==n.trigger||O()}}},Ti.components=Object.assign({MButtonClose:Ne.a},Ti.components);var Ii=Ti,Bi=(n(652),Object(Ue.a)(Ii,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.clickTrigger?n("click-outside",{attrs:{selector:".m-tooltip__message"},on:{click:function(t){return e.toggle(!1)}}}):e._e(),e._v(" "),n("div",{staticClass:"m-tooltip",on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[n("div",{staticClass:"m-tooltip__trigger",on:{click:e.handleClick}},[e._t("default")],2),e._v(" "),n("transition",{attrs:{name:"transition-fade",mode:"out-in"}},[e.renderTooltip?n("div",{staticClass:"m-tooltip__message",class:e.classMap},[e.closable?n("MButtonClose",{attrs:{"data-test-id":e.closeButtonTestId},nativeOn:{click:function(t){return e.toggle(!1)}}}):e._e(),e._v(" "),n("div",[e._t("message",(function(){return[n("span",[e._v(e._s(e.message))])]}))],2)],1):e._e()])],1)],1)}),[],!1,null,null,null).exports),Ai={};Ai.props={selector:String,debounceTime:Number,initial:Boolean,threshold:Number},Ai.setup=function(e,t){var n=t.emit,o=e,c=Object(r.getCurrentInstance)(),l=Object(r.ref)(null),d=Object(r.reactive)({width:null,height:null}),f=Object(r.reactive)({width:null,height:null}),v=function(){return o.selector?document.querySelector(o.selector):c.parent.proxy.$el},m=function(e){var t=(e||v()).getBoundingClientRect();return{width:t.width,height:t.height}},h=function(){return l.value&&l.value.disconnect()},O=Object(yt.a)((function(e){var t=e[0].target,n=m(t),r=n.width,o=n.height;f.width=r,f.height=o}),o.debounceTime||200).call,y=function(element){h(),l.value&&l.value.disconnect(),l.value=new ResizeObserver(O),l.value.observe(element)};return Object(r.onMounted)((function(){var element=v(),e=m(element),t=e.width,r=e.height;d.width=t,d.height=r,y(element),o.initail&&n("resize",element)})),Object(r.onUnmounted)((function(){h()})),Object(r.watch)((function(){return o.selector}),(function(){var element=v(),e=m(element),t=e.width,n=e.height;d.width=t,d.height=n,y(element)})),Object(r.watch)(f,(function(e,t){if(null!==t.width&&null!==t.height){var r=o.threshold||5;(Math.abs(d.width-e.width)>=r||Math.abs(d.height-e.height)>=r)&&(d.width=e.width,d.height=e.height,n("resize",v()))}})),{}};var Mi=Ai,qi=Object(Ue.a)(Mi,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports,Ni={};Ni.props={ratio:String,width:String},Ni.setup=function(e,t){var n=e;return{outerStyle:Object(r.computed)((function(){return{width:n.width||"100%"}})),innerStyle:Object(r.computed)((function(){var e=(n.ratio||"1:1").split(":").map((function(s){return+s})),t=Object(v.a)(e,2),r=t[0],o=t[1];return{paddingTop:"".concat(o/r*100,"%")}}))}};var $i=Ni,Li=(n(653),Object(Ue.a)($i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aspect-ratio",style:e.outerStyle},[n("div",{staticClass:"aspect-ratio__box",style:e.innerStyle},[n("div",{staticClass:"aspect-ratio__inner"},[e._t("default")],2)])])}),[],!1,null,null,null).exports);function Ui(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Fi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ui(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ui(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var zi={};zi.props={to:{type:[String,Object],default:null},disabled:Boolean},zi.setup=function(e,t){var n=e,o=t.emit,c=Object(r.ref)(null),l=Object(r.useAttrs)(),d=Object(r.computed)((function(){return null!==n.to&&((!Object(qe.isString)(n.to)||""!==n.to)&&!(!Object(qe.isString)(n.to)&&Object(qe.isEmpty)(n.to)))})),path=Object(r.computed)((function(){var e,t;return Object(qe.isString)(n.to)?n.to:null!==(e=null===(t=n.to)||void 0===t?void 0:t.path)&&void 0!==e?e:null})),f=Object(r.computed)((function(){return Object(yn.b)(path.value)})),v=Object(r.computed)((function(){return n.disabled||!d.value?"span":f.value?"a":"nuxt-link"})),m=Object(r.computed)((function(){return Fi(Fi({},l),{},{to:n.disabled?void 0:n.to,href:f.value?n.to:void 0,disabled:void 0})}));Object(r.onMounted)((function(){d.value||(console.error("ERROR: Empty Link provided for AppLink component",{element:c.value}),console.error("Error should be fixed before production. Check server response for an empty data"))}));return{linkRef:c,linkComponent:v,compProps:m,handleClick:function(e){"nuxt-link"!==v.value&&o("click",e)}}};var Vi=zi,Hi=(n(654),Object(Ue.a)(Vi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.linkComponent,e._b({ref:"linkRef",tag:"component",staticClass:"app-link",on:{click:e.handleClick}},"component",e.compProps,!1),[e._t("default")],2)}),[],!1,null,null,null).exports),Gi={};Gi.props={config:{type:Object,default:null},to:{type:String,default:"/"},query:{type:Object,default:null},behavior:{type:String,default:"push",validator:function(e){return["push","replace"].includes(e)}}},Gi.setup=function(e,t){var n=e,o=Object(Ve.i)(),c=Object(r.computed)((function(){var e=n.to,t=n.query,r=n.config;if(!e&&!t&&!r)return console.warn("Redirect Component: empty props");if(r)return r;var o={};return e&&(o.path=e),t&&(o.query=t),o}));return Object(r.onBeforeMount)((function(){c.value&&("push"===n.behavior?o.push(c.value):o.replace(c.value))})),{}};var Ki=Gi,Wi=Object(Ue.a)(Ki,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports;function Ji(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Xi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ji(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ji(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Qi={};Qi.props={selector:String,data:Object,options:Object,prefix:String,once:Boolean},Qi.setup=function(e,t){var n=e,o=n.prefix||"element",c="".concat(o,"-enter"),l="".concat(o,"-leave"),d=Object(Be.a)([c,l]),f=Object(r.getCurrentInstance)(),v=null,m=Object(r.ref)(!1),h=function e(t){if(t){var n=document.querySelector(t);return n||e()}var r=f.proxy.$parent.$el;return r||t?r:document.body},O=function(){null!==v&&(v.disconnect(),v=null)},y=function(e){for(var t=Array.from(e),i=0,r=t.length;i<r;i+=1){t[i].isIntersecting?(m.value=!0,d(c,n.data)):m.value&&(m.value=!1,d(l,n.data),n.once&&O())}};return Object(r.onMounted)((function(){(v=new IntersectionObserver(y,Xi(Xi({},{root:null,rootMargin:"0px",threshold:.8}),n.options||{}))).observe(h(n.selector))})),Object(r.onUnmounted)((function(){O()})),{}};var Yi=Qi,Zi=Object(Ue.a)(Yi,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports,ec={};ec.props={selector:{type:String,required:!1,default:null},listenerSelector:String},ec.setup=function(e,t){var n=e,o=t.emit,c=Object(r.getCurrentInstance)(),l=Object(r.computed)((function(){return n.listenerSelector&&document.querySelector(n.listenerSelector)||document})),d=function(e){var t=e.target;document.body.contains(t)&&((n.selector?Array.from(document.querySelectorAll(n.selector)):[c.parent.proxy.$el]).some((function(e){return e.contains(t)}))||o("click",e))};return Object(r.onMounted)((function(){setTimeout((function(){l.value.addEventListener("click",d)}))})),Object(r.onUnmounted)((function(){l.value.removeEventListener("click",d)})),{}};var tc=ec,nc=Object(Ue.a)(tc,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports,rc=n(299),oc=[],ac=null,ic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return e===document.body?e.scrollHeight>window.innerHeight:e.scrollHeight>e.clientHeight},cc=function(e){var body=document.body;body.classList.add("blocked-body"),oc.length||body.style.setProperty("padding-right","".concat(function(){var e;if(null!==ac)return ac;var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var n=document.createElement("div");return t.appendChild(n),ac=t.offsetWidth-n.offsetWidth,null===(e=t.parentNode)||void 0===e||e.removeChild(t),ac}(),"px")),oc.push(e)},uc={};uc.props={mode:{type:String,default:"dim"}},uc.setup=function(e,t){var n=e,o=Object(rr.e)(),c=Object(r.computed)((function(){return{"app-shield__dim":"dim"===n.mode,"app-shield__blur":"blur"===n.mode,"app-shield__scroll":ic()}}));return Object(r.onMounted)((function(){return cc(o)})),Object(r.onUnmounted)((function(){return function(e){var t=oc.indexOf(e);if(-1!==t&&oc.splice(t,1),0===oc.length){var body=document.body;body.style.removeProperty("padding-right"),body.classList.remove("blocked-body")}}(o)})),{className:c}};var sc=uc,lc=(n(656),Object(Ue.a)(sc,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"app-shield",class:e.className},[e._t("default")],2)}),[],!1,null,null,null).exports);l.c.component("MBadge",wa),l.c.component("MBanner",Sa),l.c.component("MBreadcrumbs",qa),l.c.component("MButton",Fa),l.c.component("MCategoryList",Ka),l.c.component("MDrawer",Qa),l.c.component("MIcon",Ya.a),l.c.component("MImage",ni),l.c.component("MMenuItem",ai),l.c.component("MPrice",si),l.c.component("MProgressBar",fi),l.c.component("MPriceDiscounter",hi),l.c.component("MSelect",wi),l.c.component("MSpinnerDots",Si),l.c.component("MSpinnerRound",Ei.a),l.c.component("MTextarea",Ri.a),l.c.component("MTooltip",Bi),l.c.component("SwiperAbstraction",Ba),l.c.component("AspectRatio",Li),l.c.component("AppLink",Hi),l.c.component("ResizeObserver",qi),l.c.component("Redirect",Wi),l.c.component("Loader",rc.a),l.c.component("ClickOutside",nc),l.c.component("IntersectionObserver",Zi),l.c.component("AppShield",lc);var dc=n(71),pc=n(11),fc=(n(67),n(39)),vc=n(40),mc=n(16),hc=function(){function e(t,n){Object(ma.a)(this,e),this.cumulativePayload=[],this.timeoutToken=null,this.timeoutValue=(null==n?void 0:n.timeoutValue)||2e3,this.argumentLimit=(null==n?void 0:n.argumentLimit)||100,this.getHandler=function(){return t}}return Object(ha.a)(e,[{key:"clear",value:function(){this.timeoutToken&&clearTimeout(this.timeoutToken),this.timeoutToken=null,this.cumulativePayload.length=0}},{key:"push",value:function(e){var t=this;this.cumulativePayload.push(e),null===this.timeoutToken&&(this.timeoutToken=setTimeout((function(){return t.execute()}),this.timeoutValue)),this.cumulativePayload.length===this.argumentLimit&&this.execute()}},{key:"execute",value:function(){this.getHandler()(Object(Pe.a)(this.cumulativePayload)),this.clear()}}]),e}(),bc=n(247),gc=function(){var e;return null===(e=Object(De.l)())||void 0===e?void 0:e.mindboxEndpoint},Oc=function(){function e(t,n){var r;Object(ma.a)(this,e),this.hashArr=[],this.hashTTD=null===(r=Object(De.l)())||void 0===r?void 0:r.eventDebounce,this.name="generic",this.config={},this.name=t,this.initialize(),this.storageBox=new bc.a("event_consumer_".concat(this.name),n||{}),this.log("initialized")}return Object(ha.a)(e,[{key:"registerEvent",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",o="".concat(e,"_").concat(r);this.config[o]||(this.config[o]=t,Object(Te.c)(e,(function(o,c,l){try{var d=n.getEventHashKey(e,r,o,l);if(n.hashArr.includes(d))return void n.log("duplicate event prevented: ",{event:e,key:r,payload:o});n.setHashKey(d),n.storageBox.setItem({event:e,payload:o}),t(o,c)}catch(t){n.log("error, while trying to handle an event",e,{name:n.name,error:t})}})))}},{key:"convertContext",value:function(e){var t=e.currentPage,n=e.previousPage,r=function(e){return null===e?null:{params:e.params,name:e.name,query:e.query}};return{currentPage:r(t),previousPage:r(n)}}},{key:"getEventHashKey",value:function(e,t,n,r){var o={payload:n,event:e,key:t,contextHash:r};try{return Object(Yo.a)(o)}catch(n){return this.log("Error creating hash: ",{obj2hash:o,err:n}),"".concat(e,"_").concat(t)}}},{key:"setHashKey",value:function(e){var t=this;this.hashArr.push(e),setTimeout((function(){var n=t.hashArr.indexOf(e);-1!==n&&t.hashArr.splice(n,1)}),this.hashTTD)}},{key:"getLastEvent",value:function(e){return this.storageBox.getItemBy({event:e})}},{key:"send",value:function(data){this.log({data:data}),data&&this.sendStatisticsData(data)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ie.h.apply(void 0,[this.name].concat(t))}},{key:"sendStatisticsData",value:function(data){this.log("your instance doesn`t have a sendStatisticsData method",{data:data})}},{key:"initialize",value:function(){this.log("your instance doesn`t have an initialize method")}}]),e}();function yc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function jc(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?yc(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):yc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(mc.a)(e);if(t){var o=Object(mc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(vc.a)(this,n)}}var kc=function(e){Object(fc.a)(n,e);var t=_c(n);function n(){var e;return Object(ma.a)(this,n),(e=t.call(this,"GTM")).productIntersectionQueue=new hc((function(t){var n=t.map(e.getProductData);e.send(e.getProductImpressionData(n))})),e}return Object(ha.a)(n,[{key:"getProductData",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.position,c=e.brand,l=e.name,d=e.id,f=e.category,v=e.offers,m=e.productId,h=e.quantity,O=e.product,y=e.price,j=(null==v?void 0:v[0])||{},_=m||j.id||d;return{id:_,name:j.name||l,category:(null==f?void 0:f.name)||(null==O||null===(t=O.category)||void 0===t?void 0:t.name)||"",price:j.currentPrice||y,position:o||r,brand:(null==c?void 0:c.name)||(null==O||null===(n=O.brand)||void 0===n?void 0:n.name)||"",variant:"",quantity:h}}},{key:"getBannerData",value:function(e,t){var n=t.currentPage.name;return{id:e.id,name:e.name,creative:e.position,position:"".concat(n,"_").concat(e.type)}}},{key:"getProductImpressionData",value:function(e){return{event:"productImpression",ecommerce:jc(jc({},this.featureToggleData()),{},{impressions:e})}}},{key:"getProductClickData",value:function(e){return{event:"productClick",ecommerce:{click:jc(jc({},this.featureToggleData()),{},{actionField:{list:e.list},products:[this.getProductData(e)]})}}}},{key:"getProductAddData",value:function(e){return{event:"addToCart",ecommerce:{add:jc(jc({},this.featureToggleData()),{},{products:[jc(jc({},this.getProductData(e)),{},{quantity:1})]})}}}},{key:"getProductRemoveData",value:function(e){var t;return{event:"removeFromCart",ecommerce:{remove:jc(jc({},this.featureToggleData()),{},{products:[jc(jc({},this.getProductData(e)),{},{quantity:null!==(t=e.oldQuantity)&&void 0!==t?t:1})]})}}}},{key:"getBannerEnterData",value:function(e,t){return{event:"promoView",ecommerce:{promoView:jc(jc({},this.featureToggleData()),{},{promotions:[this.getBannerData(e,t)]})}}}},{key:"getBannerClickData",value:function(e,t){return{event:"promoClick",ecommerce:{promoClick:jc(jc({},this.featureToggleData()),{},{promotions:[this.getBannerData(e,t)]})}}}},{key:"getCheckoutStartData",value:function(e){return{event:"checkout",ecommerce:{checkout:jc(jc({},this.featureToggleData()),{},{actionField:{step:1},products:e.map(this.getProductData)})}}}},{key:"getCheckoutSubmitData",value:function(e){return{event:"checkout",ecommerce:{checkout:jc(jc({},this.featureToggleData()),{},{actionField:{step:2},products:e.map(this.getProductData)})}}}},{key:"sendCheckoutCompleteData",value:function(e,t){var n=t.currentPage,r=this.getLastEvent("checkout-submit");if(r&&e&&Object(Fn.f)(n)){var o=e.id,c=e.coupon,l=e.total,d=r.payload.productsList.map(this.getProductData);this.send({event:"transaction_end",ecommerce:{purchase:jc(jc({},this.featureToggleData()),{},{actionField:{id:o,coupon:c,revenue:l,affiliation:"dostavka.magnit.ru",tax:"0",shipping:""},products:d})}})}}},{key:"initialize",value:function(){var e=this;this.registerEvent("product-enter",(function(t){return e.productIntersectionQueue.push(t)})),this.registerEvent("product-click",(function(t){return e.send(e.getProductClickData(t))})),this.registerEvent("product-add",(function(t){var n=t.product;return e.send(e.getProductAddData(n))})),this.registerEvent("product-delete",(function(t){var n=t.product;return e.send(e.getProductRemoveData(n))})),this.registerEvent("banner-enter",(function(t,n){return e.send(e.getBannerEnterData(t,n))})),this.registerEvent("banner-click",(function(t,n){return e.send(e.getBannerClickData(t,n))})),this.registerEvent("checkout-start",(function(t){return e.send(e.getCheckoutStartData(t))})),this.registerEvent("checkout-submit",(function(t){return e.send(e.getCheckoutSubmitData(t))})),this.registerEvent("route-change",(function(t,n){return e.sendCheckoutCompleteData(t,n)}))}},{key:"featureToggleData",value:function(){return{fingerprint:Object(pc.l)(),ab:Object(pc.b)()}}},{key:"sendStatisticsData",value:function(data){var e;if(null===(e=Object(De.l)())||void 0===e?void 0:e.gtmEnabled){var t=Object(pc.m)();t&&t.push(data)}}}]),n}(Oc),xc=n(23),wc=function(e){return(null==e?void 0:e.basketItems)||[]},Cc=function(e){return wc(e).map((function(e){return e.productId})).join(";")},Pc=function(e){return wc(e).map((function(e){return e.quantity})).join(";")},Sc=n(283),Ec=function(){var e,t,n=Object(yn.a)().name,r=Object(pc.q)();return{routeName:n,promoId:(null==r||null===(e=r.data)||void 0===e?void 0:e.id)||"",promoName:(null==r||null===(t=r.data)||void 0===t?void 0:t.name)||""}};function Rc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Dc(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Rc(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Rc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(mc.a)(e);if(t){var o=Object(mc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(vc.a)(this,n)}}var Ic=[Se.c,Se.a,Se.e],Bc=function(e){Object(fc.a)(n,e);var t=Tc(n);function n(){return Object(ma.a)(this,n),t.call(this,"yandexMetrika")}return Object(ha.a)(n,[{key:"sendFeatureList",value:function(e){var t=this,n=e.features,r=e.serverFingerprint,o=(new Date).toISOString();n.forEach((function(e){var data={target:e.name,params:{user_id:r,feature_id:e.id,is_active:e.is_active,date:o}};t.send(data)}))}},{key:"sendCatalogScreenCartView",value:function(){var data={target:xc.f,params:Dc(Dc({},this.commonParams()),{},{event:xc.l,page:xc.t,block:xc.a,element:xc.b,address:Object(pc.j)()})};this.send(data)}},{key:"sendCategoryScreenCartView",value:function(e){var t=e.currentCategory,n=(null==t?void 0:t.id)||"",r=(null==t?void 0:t.name)||"",data={target:xc.g,params:Dc(Dc({},this.commonParams()),{},{event:xc.l,page:xc.u,block:xc.a,element:xc.b,cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)(),coupon:Object(pc.d)(),coupon_activated:Object(pc.c)(),category_id:n,category_name:r})};this.send(data)}},{key:"processMiniBasketMount",value:function(e,t){var n=t.currentPage;Object(Fn.d)(n)||Object(Fn.h)(n)?this.sendCategoryScreenCartView(e):this.sendCatalogScreenCartView()}},{key:"sendCartScreenView",value:function(e){var t=e.basket,data={target:xc.e,params:Dc(Dc({},this.commonParams()),{},{event:xc.m,page:xc.s,delivery_type:"delivery",cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)(),cart_discount:Object(pc.f)(),product_id:Cc(t),value:Pc(t)})};this.send(data)}},{key:"sendCheckoutScreenView",value:function(){var data={target:xc.i,params:Dc(Dc(Dc({},this.commonParams()),this.deliveryType()),{},{event:xc.m,page:xc.v})};this.send(data)}},{key:"sendCartCheckoutButtonClick",value:function(){var data={target:xc.d,params:Dc(Dc({},this.commonParams()),{},{event:xc.l,page:xc.s,element:xc.c,cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)(),cart_discount:Object(pc.f)(),coupon:Object(pc.d)(),coupon_activated:Object(pc.c)()})};this.send(data)}},{key:"sendCheckoutButtonClick",value:function(){var data={target:xc.h,params:Dc(Dc(Dc({},this.commonParams()),this.deliveryType()),{},{event:xc.l,page:xc.v,element:xc.c,cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)(),cart_discount:Object(pc.f)()})};this.send(data)}},{key:"sendCheckoutCompleteData",value:function(e,t){var n=t.currentPage,r=this.getLastEvent("checkout-submit");if(r&&e&&Object(Fn.f)(n)){var o=e.id,c=e.coupon,l=e.payment_type,d=r.payload,f=d.productsList,v=d.basket,m=f.map((function(e){return e.productId})).join(";"),h=(null==v?void 0:v.basketItems.length)&&(null==v?void 0:v.price)||0,O=(null==v?void 0:v.bonusPoints)||0,data={target:xc.k,params:Dc(Dc(Dc({},this.commonParams()),this.deliveryType()),{},{payment_type:l,product_id:m,order_id:o,couponCode:c,cart_sum:h,cart_bonus:O})};this.send(data)}}},{key:"sendHold1Rub",value:function(){var data={target:xc.j,params:Dc(Dc(Dc({},this.commonParams()),this.deliveryType()),{},{cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)()})};this.send(data)}},{key:"commonParams",value:function(){var e=Object(pc.k)(),t=Object(De.j)().service,n=e.map((function(e){return e.id}));return{ab:Object(pc.b)(),fingerprint:Object(pc.l)(),user_id:Object(pc.u)(),store_id:Object(pc.s)(),magnit_id:Object(va.b)(),loyalty_card_id:Object(pc.n)(),platforms:"Web",product:"Web",features:n,service_name:t,page:"",block:"",element:"",event:"",delivery_type:"",product_id:"",value:"",inner_block:""}}},{key:"deliveryType",value:function(){return{delivery_type:"delivery"}}},{key:"sendPromoScreenView",value:function(){var data={target:"promoScreen_view",params:Dc({},this.requiredData({event:"view",page:"promoScreen"}))};this.send(data)}},{key:"sendPromoSectionVisible",value:function(e){var t=e.sectionIndex,n=e.bannerSize,data={target:"promoScreen_promoSection_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoScreen",block:"promoSection"})),{},{section_index:t,banner_size:n})};this.send(data)}},{key:"sendPromoBannerVisible",value:function(e){var t=e.sectionIndex,n=e.promoIndex,r=e.bannerSize,o=e.promoId,c=e.promoName,data={target:"promoScreen_promoSection_promoBanner_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoScreen",block:"promoSection",innerBlock:"promoBanner"})),{},{section_index:t,banner_size:r,promo_index:n,promo_id:o,promo_name:c})};this.send(data)}},{key:"sendPromoBannerClick",value:function(e){var t=e.sectionIndex,n=e.promoIndex,r=e.bannerSize,o=e.promoId,c=e.promoName,data={target:"promoScreen_promoSection_promoBanner_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoScreen",block:"promoSection",innerBlock:"promoBanner"})),{},{section_index:t,banner_size:r,promo_index:n,promo_id:o,promo_name:c})};this.send(data)}},{key:"sendSliderBtnPrevVisible",value:function(e){var t=e.sectionIndex,n=e.bannerSize,data={target:"promoScreen_promoSection_leftButton_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoScreen",block:"promoSection",element:"leftButton"})),{},{section_index:t,banner_size:n})};this.send(data)}},{key:"sendSliderBtnPrevClick",value:function(e){var t=e.sectionIndex,n=e.bannerSize,data={target:"promoScreen_promoSection_leftButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoScreen",block:"promoSection",element:"leftButton"})),{},{section_index:t,banner_size:n})};this.send(data)}},{key:"sendSliderBtnNextVisible",value:function(e){var t=e.sectionIndex,n=e.bannerSize,data={target:"promoScreen_promoSection_rightButton_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoScreen",block:"promoSection",element:"rightButton"})),{},{section_index:t,banner_size:n})};this.send(data)}},{key:"sendSliderBtnNextClick",value:function(e){var t=e.sectionIndex,n=e.bannerSize,data={target:"promoScreen_promoSection_rightButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoScreen",block:"promoSection",element:"rightButton"})),{},{section_index:t,banner_size:n})};this.send(data)}},{key:"sendPromoDetailsView",value:function(e){var t=e.id,n=e.name,data={target:"promoDetails_view",params:Dc(Dc({},this.requiredData({event:"view",page:"promoDetails"})),{},{promo_id:t,promo_name:n})};this.send(data)}},{key:"sendPromoDetailsCloseButtonClick",value:function(e){if(e===Se.x){var t=Ec(),n=t.promoId,r=t.promoName,data={target:"promoDetails_closeButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoDetails"})),{},{promo_id:n,promo_name:r})};this.send(data)}}},{key:"sendPromoLifeTimeVisible",value:function(e){var t=e.lessThanDayLeft,n=e.finished,r=e.dateEndTimestamp,o=e.timeFormattedExtended,c=n?"promoDetails_promoFinished_visible":t?"promoDetails_promoLifeTime_lessThanDay_visible":"promoDetails_promoLifeTime_moreThanDay_visible",l=n?"":"promoLifeTime",d=n?"promoFinished":t?"lessThanDay":"moreThanDay",f=n||t?{}:{promo_final_date:new Date(1e3*r)},v=!n&&t?{promo_hours_till_end:o.hours}:{},m=!n&&t?{promo_minutes_till_end:o.min}:{},h=!n&&t?{promo_seconds_till_end:o.sec}:{},O={event:"visible",page:"promoDetails",block:l,innerBlock:d},data={target:c,params:Dc(Dc(Dc(Dc(Dc({},this.requiredData(O)),f),v),m),h)};this.send(data)}},{key:"sendMoreAboutPromoButtonVisible",value:function(){var data={target:"promoDetails_moreAboutPromoButton_visible",params:Dc({},this.requiredData({event:"visible",page:"promoDetails",element:"moreAboutPromoButton"}))};this.send(data)}},{key:"sendMoreAboutPromoButtonClick",value:function(){var data={target:"promoDetails_moreAboutPromoButton_click",params:Dc({},this.requiredData({event:"click",page:"promoDetails",element:"moreAboutPromoButton"}))};this.send(data)}},{key:"sendPromoDetailsProductVisible",value:function(e){var t=e.id,n=e.name,r=e.position,o=e.offers,c=Ec(),l=c.routeName,d=c.promoId,f=c.promoName;if(l===oe.w){var data={target:"promoDetails_product_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoDetails",innerBlock:"product"})),{},{promo_id:d,promo_name:f,product_id:t,product_name:n,index:r,price:o[0].currentPrice,old_price:o[0].previousPrice,quantity:o[0].quantity})};this.send(data)}}},{key:"sendPromoDetailsProductAddBtnClick",value:function(e){var t=Ec(),n=t.routeName,r=t.promoId,o=t.promoName;if(n===oe.w){var c=e.id,l=e.name,d=e.position,f=e.offers,data={target:"promoDetails_product_incrementButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoDetails",innerBlock:"product",element:"incrementButton"})),{},{promo_id:r,promo_name:o,product_id:c,product_name:l,index:d,price:f[0].currentPrice,old_price:f[0].previousPrice,quantity:f[0].quantity})};this.send(data)}}},{key:"sendPromoDetailsProductClick",value:function(e){var t=e.product,n=e.routeName,r=t.id,o=t.name,c=t.position,l=t.offers,d=Ec(),f=d.promoId,v=d.promoName;if(n===oe.w){var data={target:"promoDetails_product_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoDetails",innerBlock:"product"})),{},{promo_id:f,promo_name:v,product_id:r,product_name:o,index:c,price:l[0].currentPrice,old_price:l[0].previousPrice,quantity:l[0].quantity})};this.send(data)}}},{key:"sendSortButtonVisible",value:function(){var e=Ec(),t=e.routeName,n=e.promoId,r=e.promoName;if(t===oe.w){var data={target:"promoDetails_sortButton_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoDetails",element:"sortButton"})),{},{promo_id:n,promo_name:r})};this.send(data)}}},{key:"sendSortButtonClick",value:function(){var e=Ec(),t=e.routeName,n=e.promoId,r=e.promoName;if(t===oe.w){var data={target:"promoDetails_sortButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoDetails",element:"sortButton"})),{},{promo_id:n,promo_name:r})};this.send(data)}}},{key:"sendFiltersButtonVisible",value:function(){var e=Ec(),t=e.routeName,n=e.promoId,r=e.promoName;if(t===oe.w){var data={target:"promoDetails_filtersButton_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"promoDetails",element:"filtersButton"})),{},{promo_id:n,promo_name:r})};this.send(data)}}},{key:"sendFiltersButtonClick",value:function(){var e=Ec(),t=e.routeName,n=e.promoId,r=e.promoName;if(t===oe.w){var data={target:"promoDetails_filtersButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"promoDetails",element:"filtersButton"})),{},{promo_id:n,promo_name:r})};this.send(data)}}},{key:"sendUserAgreementClick",value:function(e){var t=e===Se.c?xc.r:xc.p;this.send({target:e===Se.c?"phoneInputScreen_userAgreement_click":"emailInputScreen_userAgreement_click",params:this.requiredData({event:"click",element:"userAgreement",page:t})})}},{key:"sendAuthError",value:function(e){var t,n,r,element,form=e.form,o=e.message;if(form===Se.c)n="phoneInputScreen_invalidText_view",r="view",t=xc.r;else if(form===Se.a)if(r="visible",t=xc.o,o===Se.j)n="codeInputScreen_sendAgainText_visible";else{if(o!==Se.k)return;n="codeInputScreen_error_invalidText_visible",element="invalidText"}else{if(form!==Se.e)return;n="emailInputScreen_error_invalidEmail_visible",element="invalidEmail",r="visible",t=xc.p}this.send({target:n,params:this.requiredData({event:r,page:t,element:element})})}},{key:"sendPhoneInputScreenErrorView",value:function(){this.send({target:"phoneInputScreen_error_view",params:this.requiredData({event:"view",page:xc.q})})}},{key:"sendCodeInputScreenMoreSendSmsVisible",value:function(){this.send({target:"codeInputScreen_moreSendSms_visible",params:Dc({},this.requiredData({event:"visible",page:xc.n,text:Se.l,innerBlock:"moreSendSms"}))})}},{key:"sendPhoneInputScreenView",value:function(){this.send({target:"phoneInputScreen_view",params:this.requiredData({event:"view",page:xc.r,block:"MModalAuthPhone"})})}},{key:"sendCodeInputScreenView",value:function(){this.send({target:"codeInputScreen_view",params:this.requiredData({event:"view",page:xc.o,block:"MModalAuthOtp"})})}},{key:"sendEmailInputScreenView",value:function(){this.send({target:"emailInputScreen_view",params:this.requiredData({event:"view",page:xc.p})})}},{key:"sendAuthButtonReady",value:function(e){var t,n,element,r="visible";if(e===Se.c)n="phoneInputScreen_nextButton_view",r="view",element="nextButton",t=xc.r;else if(e===Se.a)n="codeInputScreen_sendAgainButton_visible",element="sendAgainButton",t=xc.o;else{if(e!==Se.e)return;n="emailInputScreen_nextButton_visible",element="nextButton",t=xc.p}this.send({target:n,params:this.requiredData({event:r,element:element,page:t})})}},{key:"sendAuthButtonClick",value:function(e){var t,n,element;if(e===Se.c)t="phoneInputScreen_nextButton_click",element="nextButton",n=xc.r;else if(e===Se.a)t="codeInputScreen_sendAgainButton_click",element="sendAgainButton",n=xc.o;else if(e===Se.e)t="emailInputScreen_nextButton_click",element="nextButton",n=xc.p;else if(e===Se.d)t="phoneInputScreen_error_updateButton_click",element="updateButton",n=xc.q;else if(e===Se.b)t="codeInputScreen_moreSendSms_okButton_click",element="okButton",n=xc.n;else{if(e!==Se.f)return;t="codeInputScreen_backButton_click",element="backButton",n=xc.o}this.send({target:t,params:Dc({},this.requiredData({event:"click",element:element,page:n}))})}},{key:"sendAuthorizationSuccess",value:function(e){var data={page:xc.o};this.send({target:"codeInputScreen_ok_visible",params:this.requiredData(Dc(Dc({},data),{},{event:"visible"}))}),this.send({target:"authorization",params:this.requiredData(data)}),null!=e&&e.newUser&&this.send({target:"registration",params:this.requiredData(data)})}},{key:"handleAuthResolve",value:function(e){var t=this.getLastEvent("auth-switch");null===e&&t&&this.sendModalAuthCloseButtonClick(t.payload)}},{key:"sendModalAuthCloseButtonClick",value:function(e){var t,n;if(e===Se.c)n="phoneInputScreen_closeButton_click",t=xc.r;else if(e===Se.a)n="codeInputScreen_closeButton_click",t=xc.o;else{if(e!==Se.e)return;n="emailInputScreen_closeButton_click",t=xc.p}this.send({target:n,params:this.requiredData({event:"click",page:t,element:"closeButton"})})}},{key:"handleAuthErrorResolve",value:function(e,t){var n=(null==e?void 0:e.description)===Se.l?Se.b:Se.d;!0===(null==t?void 0:t.viaButton)?this.sendAuthButtonClick(n):this.sendAuthErrorCloseClick(n)}},{key:"sendAuthErrorCloseClick",value:function(e){var t,n,r;if(e===Se.d)n="phoneInputScreen_error_closeButton_click",r="error",t=xc.q;else{if(e!==Se.b)return;n="codeInputScreen_moreSendSms_closeButton_click",r="moreSendSms",t=xc.n}this.send({target:n,params:this.requiredData({event:"click",page:t,innerBlock:r,element:"closeButton"})})}},{key:"sendTechnicalLogout",value:function(e){var t,data={params:Dc(Dc({},this.requiredData({event:"technical_logout"})),{},{method:null==e||null===(t=e.config)||void 0===t?void 0:t.url,code:Ce.a,token_method:"magnit_id"})};this.send(data)}},{key:"sendCartScreenPromocodeButtonVisible",value:function(){var data={target:"cartScreen_promocodeButton_visible",params:Dc(Dc({},this.requiredData({event:"visible",page:"cartScreen",element:"promocodeButton"})),this.promocodeBlockData())};this.send(data)}},{key:"sendCartScreenPromocodeCurtainApplyButtonClick",value:function(){var data={target:"cartScreen_promocodeCurtain_applyButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"cartScreen",block:"promocodeCurtain",element:"applyButton"})),this.promocodeBlockData())};this.send(data)}},{key:"sendCartScreenPromocodeAppliedCancelButtonClick",value:function(){var data={target:"cartScreen_promocodeApplied_cancelButton_click",params:Dc(Dc({},this.requiredData({event:"click",page:"cartScreen",block:"promocodeApplied",element:"cancelButton"})),this.promocodeBlockData())};this.send(data)}},{key:"sendCartScreenPromocodeCurtainError",value:function(e){var element,t;switch(e){case Se.H:t="cartScreen_promocodeCurtain_error_notFoundText_visible",element="notFoundText";break;case Se.I:t="cartScreen_promocodeCurtain_error_usedText_visible",element="usedText";break;case Se.E:t="cartScreen_promocodeCurtain_error_enhausedCount_visible",element="enhausedCount";break;case Se.F:t="cartScreen_promocodeCurtain_error_inactive_visible",element="inactive";break;case Se.G:t="cartScreen_promocodeCurtain_error_inputError_visible",element="inputError";break;case Se.J:default:t="cartScreen_promocodeCurtain_error_wrongConditionsText_visible",element="wrongConditionsText"}var n={event:"visible",page:"cartScreen",block:"promocodeCurtain",innerBlock:"error",element:element},data={target:t,params:Dc(Dc(Dc({},this.requiredData(n)),this.promocodeBlockData()),{},{title:e})};this.send(data)}},{key:"requiredData",value:function(data){var e,t;return Dc({event:data.event||"",page:data.page||"",block:data.block||"",inner_block:data.innerBlock||"",element:data.element||"",text:data.text||"",user_id:Object(pc.u)(),store_id:Object(pc.s)(),magnit_id:Object(va.b)(),loyalty_card_id:(null===(e=Object(pc.p)())||void 0===e?void 0:e.loyaltyCard)||"",service_name:(null===(t=Object(De.j)())||void 0===t?void 0:t.service)||Sc.b,delivery_type:Sc.a},this.featureToggleData())}},{key:"featureToggleData",value:function(){return{features:Object(pc.k)(),fingerprint:Object(pc.l)(),ab:Object(pc.b)()}}},{key:"promocodeBlockData",value:function(){return{coupon_activated:Object(pc.c)(),coupon:Object(pc.d)(),cart_sum:Object(pc.e)(),cart_bonus:Object(pc.g)()}}},{key:"initialize",value:function(){var e=this;this.registerEvent("feature-list",(function(t){return e.sendFeatureList(t)})),this.registerEvent("basket-mount",(function(t){return e.sendCartScreenView(t)})),this.registerEvent("checkout-mount",(function(t){return e.sendCheckoutScreenView(t)})),this.registerEvent("checkout-button-click",(function(t){return e.sendCartCheckoutButtonClick(t)})),this.registerEvent("checkout-submit",(function(t){return e.sendCheckoutButtonClick(t)})),this.registerEvent("route-change",(function(t,n){return e.sendCheckoutCompleteData(t,n)})),this.registerEvent("mini-basket-mount",(function(t,n){return e.processMiniBasketMount(t,n)})),this.registerEvent("payment-id-generate",(function(t,n){return e.sendHold1Rub(t,n)})),this.registerEvent("promo-screen-view",(function(){return e.sendPromoScreenView()})),this.registerEvent("promo-section-enter",(function(t){return e.sendPromoSectionVisible(t)})),this.registerEvent("promo-banner-enter",(function(t){return e.sendPromoBannerVisible(t)})),this.registerEvent("promo-banner-click",(function(t){return e.sendPromoBannerClick(t)})),this.registerEvent("promo-section-prev-btn-enter",(function(t){return e.sendSliderBtnPrevVisible(t)})),this.registerEvent("promo-section-prev-btn-click",(function(t){return e.sendSliderBtnPrevClick(t)})),this.registerEvent("promo-section-next-btn-enter",(function(t){return e.sendSliderBtnNextVisible(t)})),this.registerEvent("promo-section-next-btn-click",(function(t){return e.sendSliderBtnNextClick(t)})),this.registerEvent("promo-details-view",(function(t){return e.sendPromoDetailsView(t)})),this.registerEvent("promo-life-time-enter",(function(t){return e.sendPromoLifeTimeVisible(t)})),this.registerEvent("more-about-promo-button-enter",(function(t){return e.sendMoreAboutPromoButtonVisible(t)})),this.registerEvent("promo-more-click",(function(t){return e.sendMoreAboutPromoButtonClick(t)})),this.registerEvent("product-enter",(function(t){return e.sendPromoDetailsProductVisible(t)})),this.registerEvent("product-add",(function(t){var n=t.product;return e.sendPromoDetailsProductAddBtnClick(n)})),this.registerEvent("product-click",(function(t){return e.sendPromoDetailsProductClick(t)})),this.registerEvent("sort-button-enter",(function(){return e.sendSortButtonVisible()})),this.registerEvent("filters-button-enter",(function(){return e.sendFiltersButtonVisible()})),this.registerEvent("sort-button-click",(function(){return e.sendSortButtonClick()})),this.registerEvent("filters-button-click",(function(){return e.sendFiltersButtonClick()})),this.registerEvent("promocode-enter",(function(){return e.sendCartScreenPromocodeButtonVisible()})),this.registerEvent("promocode-cancel",(function(){return e.sendCartScreenPromocodeAppliedCancelButtonClick()})),this.registerEvent("promocode-apply",(function(){return e.sendCartScreenPromocodeCurtainApplyButtonClick()})),this.registerEvent("promocode-error",(function(t){return e.sendCartScreenPromocodeCurtainError(t)})),this.registerEvent("user-agreement-click",(function(t){return e.sendUserAgreementClick(t)})),this.registerEvent("auth-error",(function(t){var form=t.form,n=t.message;n===Se.N||n===Se.L?e.sendAuthError({form:form,message:n}):n===Se.i?e.sendPhoneInputScreenErrorView():n===Se.l&&e.sendCodeInputScreenMoreSendSmsVisible()})),this.registerEvent("auth-switch",(function(t){t===Se.c?e.sendPhoneInputScreenView():t===Se.a?e.sendCodeInputScreenView():t===Se.e&&e.sendEmailInputScreenView()})),this.registerEvent("auth-reset",(function(){return e.sendAuthButtonClick(Se.f)})),this.registerEvent("auth-success",(function(t){return e.sendAuthorizationSuccess(t)})),this.registerEvent("restriction-error",(function(t){var n=t.prevReq;return e.sendTechnicalLogout(n)})),this.registerEvent("modal-resolve",(function(t){var n=t.modal,r=t.payload;(null==n?void 0:n.type)===Se.x&&e.sendPromoDetailsCloseButtonClick(n.type),(null==n?void 0:n.type)===Se.m&&e.handleAuthResolve(r),(null==n?void 0:n.type)===Se.n&&e.handleAuthErrorResolve(n.props,r)})),this.registerEvent("button-ready",(function(t){var n=t.name;Ic.includes(n)&&e.sendAuthButtonReady(n)})),this.registerEvent("button-click",(function(t){var n=t.name;Ic.includes(n)&&e.sendAuthButtonClick(n)}))}},{key:"sendStatisticsData",value:function(e){var t,n=e.target,r=e.params;if(null===(t=Object(De.l)())||void 0===t?void 0:t.yandexEnabled){var o=Object(pc.w)();o&&o.reachGoal(n,r)}}}]),n}(Oc),Ac=null,Mc=gc();function qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(mc.a)(e);if(t){var o=Object(mc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(vc.a)(this,n)}}var Nc=function(e){Object(fc.a)(r,e);var t,n=qc(r);function r(){return Object(ma.a)(this,r),n.call(this,"mindbox")}return Object(ha.a)(r,[{key:"getProductData",value:function(e){var t;return null!=e&&null!==(t=e.product)&&void 0!==t&&t.article?{operation:"Website.ViewProduct",data:{viewProduct:{product:{ids:{DeliveryExpress:e.product.article}}}}}:null}},{key:"getCategoryData",value:function(e){return e?{operation:"Website.ViewCategory",data:{viewProductCategory:{productCategory:{ids:{DeliveryExpress:e}}}}}:null}},{key:"getClearCartData",value:function(){return{operation:"Website.ClearCart",data:{}}}},{key:"getSetCartData",value:function(data){var e;return{operation:"Website.SetCart",data:{productList:Object(qe.uniqBy)((null===(e=data.basket)||void 0===e?void 0:e.basketItems)||[],(function(s){var e;return null===(e=s.product)||void 0===e?void 0:e.article})).filter((function(s){var e;return!(null===(e=s.product)||void 0===e||!e.article)})).map((function(e){var t;return{product:{ids:{DeliveryExpress:null===(t=e.product)||void 0===t?void 0:t.article}},count:e.quantity,pricePerItem:e.price}}))}}}},{key:"initialize",value:function(){var e=this;this.registerEvent("product-click",(function(data){return e.send(e.getProductData(data))})),this.registerEvent("view-category",(function(data){return e.send(e.getCategoryData(data))})),this.registerEvent("clear-cart",(function(){return e.send(e.getClearCartData())})),this.registerEvent("product-add",(function(data){return e.send(e.getSetCartData(data))})),this.registerEvent("product-delete",(function(data){return e.send(e.getSetCartData(data))})),this.registerEvent("product-update-count",(function(data){return e.send(e.getSetCartData(data))}))}},{key:"sendStatisticsData",value:(t=Object(c.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gc()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n=void 0,null!==(n=window)&&void 0!==n&&n.mindbox?window.mindbox:Ac||(Ac=new Promise((function(e){Object(rr.c)("https://api.mindbox.ru/scripts/v1/tracker.js").then((function(){var t=window.mindbox;t=window.mindbox||function(){t.queue.push(arguments)},t.queue=t.queue||[],t("create",{endpointId:Mc}),window.mindbox=t,e(window.mindbox)})).catch((function(e){Object(Ie.e)("Error while trying to get Mindbox script",e),Ac=null}))})),Ac);case 5:(t=e.sent)&&t("async",data);case 7:case"end":return e.stop()}var n}),e)}))),function(e){return t.apply(this,arguments)})}]),r}(Oc),$c=null,Lc=n(153),Uc=n(242),Fc=function(e){Object(pc.x)(e);var t=[Object(fa.a)(e.$pinia),Object(dc.a)(e.$pinia),Object(Lc.a)(e.$pinia),Object(Qn.a)(e.$pinia)],n=t[0],r=t[1],o=t[2],l=t[3];Object(va.g)(),setTimeout(Object(c.a)(regeneratorRuntime.mark((function e(){var t,d,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==$c||($c={gtm:new kc,yandexMetrika:new Bc,mindbox:new Nc}),Object(Te.a)("feature-list",{features:o.features,serverFingerprint:n.serverFingerprint}),f=Object(va.a)(),e.prev=3,f){e.next=6;break}throw new Error("empty access token. Cant initialize user");case 6:return e.next=8,n.fetchUser();case 8:return n.restoreSelectedAddress(),v=n.selectedAddress,e.next=12,r.fetchShop({x:v.latitude,y:v.longitude});case 12:return m=e.sent,e.next=15,r.setShop(m||{});case 15:if(!n.loggedIn){e.next=20;break}return e.next=18,n.initializeUser();case 18:e.next=22;break;case 20:return e.next=22,r.fetchBasket();case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(3);case 26:return e.prev=26,n.setInitialized(),e.finish(26);case 29:Object(Uc.a)(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.fetchStatusNotifications();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Ie.b)("fetchStatusNotifications: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),{time:(null===(t=Object(De.k)())||void 0===t||null===(d=t.info)||void 0===d?void 0:d.notificationsTimer)||6e4});case 30:case"end":return e.stop()}}),e,null,[[3,24,26,29]])}))))},zc=function(e){e.app.router.afterEach((function(e,t){setTimeout((function(){return Object(Te.b)({from:t,to:e})}))}))};function Vc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Hc(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Vc(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Vc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}l.c.component(ee.a.name,ee.a),l.c.component(ne.a.name,Hc(Hc({},ne.a),{},{render:function(e,t){return ne.a._warned||(ne.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),ne.a.render(e,t)}})),l.c.component(_e.name,_e),l.c.component("NChild",_e),l.c.component(ct.name,ct),Object.defineProperty(l.c.prototype,"$nuxt",{get:function(){var e=this.$root?this.$root.$options.$nuxt:null;return e||"undefined"==typeof window?e:window.$nuxt},configurable:!0}),l.c.use(Y.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var Gc={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function Kc(){return Kc=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,d,f,path,v,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject('".concat(e,"', value) has no value provided"));o[e="$"+e]=t,o.context[e]||(o.context[e]=t);var n="__nuxt_"+e+"_installed__";l.c[n]||(l.c[n]=!0,l.c.use((function(){Object.prototype.hasOwnProperty.call(l.c.prototype,e)||Object.defineProperty(l.c.prototype,e,{get:function(){return this.$root.$options[e]}})})))},n=m.length>1&&void 0!==m[1]?m[1]:{},null,e.next=5,je();case 5:return r=e.sent,o=Hc({head:{htmlAttrs:{lang:"ru"},title:"Магнит-Продукты",titleTemplate:function(e){var t=this.context.$config.info,title=(null==t?void 0:t.title)||"Магнит-Продукты";return e&&e!==title?[e,title].filter(Boolean).join(" - "):title},script:[{hid:"gtm-script",innerHTML:"if(!window._gtm_init){window._gtm_init=1;(function(w,n,d,m,e,p){w[d]=(w[d]==1||n[d]=='yes'||n[d]==1||n[m]==1||(w[e]&&w[e][p]&&w[e][p]()))?1:0})(window,navigator,'doNotTrack','msDoNotTrack','external','msTrackingProtectionEnabled');(function(w,d,s,l,x,y){w[x]={};w._gtm_inject=function(i){if(w.doNotTrack||w[x][i])return;w[x][i]=1;w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s);j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i;f.parentNode.insertBefore(j,f);};w[y]('GTM-PP8RHFP')})(window,document,'script','dataLayer','_gtm_ids','_gtm_inject')}"}],meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"},{name:"apple-itunes-app",content:"app-id=1536769731"},{hid:"description",name:"description",content:"Продукты"},{name:"msapplication-TileColor",content:"#ffc40d"},{name:"theme-color",content:"#fff"}],link:[{rel:"apple-touch-ico",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"icon",type:"image/svg+xml",sizes:"any",href:"/favicon.svg"},{rel:"icon",type:"image/x-icon",sizes:"16x16 32x32",href:"/favicon.ico"},{rel:"manifest",href:"/site.webmanifest"},{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#e6000e"}],style:[],noscript:[{hid:"gtm-noscript",pbody:!0,innerHTML:'<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PP8RHFP&" height="0" width="0" style="display:none;visibility:hidden" title="gtm"></iframe>'},{innerHTML:'<div><img style="position:absolute;left:-9999px;" alt="ymPixel" src="https://mc.yandex.ru/watch/89906752"/></div>',body:!0}],__dangerouslyDisableSanitizersByTagID:{"gtm-script":["innerHTML"],"gtm-noscript":["innerHTML"]},__dangerouslyDisableSanitizers:["noscript"]},router:r,nuxt:{defaultTransition:Gc,transitions:[Gc],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},Gc,{name:e}):Object.assign({},Gc,e):Gc})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,o.context._errored=Boolean(e),e=e?U(e):null;var n=o.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},bo),d=t?t.next:function(e){return o.router.push(e)},t?f=r.resolve(t.url).route:(path=N(r.options.base,r.options.mode),f=r.resolve(path).route),e.next=11,I(o,{route:f,next:d,error:o.nuxt.error.bind(o),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,beforeSerializeFns:t?t.beforeSerializeFns:void 0,ssrContext:t});case 11:if(v("config",n),"function"!=typeof go.a){e.next=16;break}return e.next=16,Object(go.a)(o.context,v);case 16:e.next=19;break;case 19:e.next=22;break;case 22:return e.next=25,Co(o.context,v);case 25:return e.next=28,$o(o.context,v);case 28:return e.next=31,Lo(o.context,v);case 31:return e.next=34,zo(o.context,v);case 34:if("function"!=typeof Vo.a){e.next=37;break}return e.next=37,Object(Vo.a)(o.context,v);case 37:if("function"!=typeof Ho.a){e.next=40;break}return e.next=40,Object(Ho.a)(o.context,v);case 40:if("function"!=typeof Go){e.next=43;break}return e.next=43,Go(o.context,v);case 43:e.next=46;break;case 46:return e.next=49,void o.context;case 49:return e.next=52,Jo(o.context,v);case 52:e.next=55;break;case 55:if("function"!=typeof Qo){e.next=58;break}return e.next=58,Qo(o.context,v);case 58:if("function"!=typeof _a){e.next=61;break}return e.next=61,_a(o.context,v);case 61:e.next=64;break;case 64:e.next=67;break;case 67:e.next=70;break;case 70:if("function"!=typeof Fc){e.next=73;break}return e.next=73,Fc(o.context,v);case 73:return e.next=76,zc(o.context);case 76:return e.next=79,new Promise((function(e,t){if(!r.resolve(o.context.route.fullPath).route.matched.length)return e();r.replace(o.context.route.fullPath,e,(function(n){if(!n._isRouter)return t(n);if(2!==n.type)return e();var l=r.afterEach(function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,D(n);case 3:o.context.route=t.sent,o.context.params=n.params||{},o.context.query=n.query||{},l(),e();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}));case 79:return e.abrupt("return",{app:o,router:r});case 80:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}var Wc=window.__NUXT__,Jc={beforeCreate:function(){var e;(e=this).$options&&"function"==typeof e.$options.fetch&&!e.$options.fetch.length&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,l.c.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=Yc.bind(this),W(this,"created",Qc),W(this,"beforeMount",Xc))}};function Xc(){if(!this._hydrated)return this.$fetch()}function Qc(){if((e=this).$vnode&&e.$vnode.elm&&e.$vnode.elm.dataset&&e.$vnode.elm.dataset.fetchKey){var e;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=Wc.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var t in data)l.c.set(this.$data,t,data[t])}}function Yc(){var e=this;return this._fetchPromise||(this._fetchPromise=Zc.call(this).then((function(){delete e._fetchPromise}))),this._fetchPromise}function Zc(){return eu.apply(this,arguments)}function eu(){return(eu=Object(c.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,t=null,n=Date.now(),e.prev=6,e.next=9,this.$options.fetch.call(this);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),t=U(e.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){e.next=19;break}return e.next=19,new Promise((function(e){return setTimeout(e,r)}));case 19:this.$fetchState.error=t,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return e.stop()}}),e,this,[[6,11]])})))).apply(this,arguments)}function tu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ru=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},ou=window.cancelIdleCallback||function(e){clearTimeout(e)},au=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||!link.__prefetch||link.__prefetch()}))})),iu={name:"NuxtLink",extends:l.c.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=ru(this.observe,{timeout:2e3}))},beforeDestroy:function(){ou(this.handleId),this.__observed&&(au.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){au&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),au.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){au.unobserve(this.$el);var e,t=tu(this.getPrefetchComponents());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(e){t.e(e)}finally{t.f()}}}}};function cu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}l.c.__nuxt__fetch__mixin__||(l.c.mixin(Jc),l.c.__nuxt__fetch__mixin__=!0),l.c.component(iu.name,iu),l.c.component("NLink",iu);var su,lu,du=[],pu=window.__NUXT__||{},fu=pu.config||{};fu._app&&(n.p=J(fu._app.cdnURL,fu._app.assetsPath)),Object.assign(l.c.config,{silent:!0,performance:!1});var vu=l.c.config.errorHandler||console.error;function mu(e,t,n){for(var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e},o=n?P(n):[],c=Math.max(e.length,o.length),l=[],d=function(i){var t=Object.assign({},r(e[i])),n=Object.assign({},r(o[i]));Object.keys(t).filter((function(e){return void 0!==t[e]&&!e.toLowerCase().includes("leave")})).forEach((function(e){n[e]=t[e]})),l.push(n)},i=0;i<c;i++)d(i);return l}function hu(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,d,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._routeChanged=Boolean(su.nuxt.err)||n.name!==t.name,this._paramChanged=!this._routeChanged&&n.path!==t.path,this._queryChanged=!this._paramChanged&&n.fullPath!==t.fullPath,this._diffQuery=this._queryChanged?L(t.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=5,!this._queryChanged){e.next=12;break}return e.next=9,R(t,(function(e,t){return{Component:e,instance:t}}));case 9:o=e.sent,o.some((function(e){var r=e.Component,o=e.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(5),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,d=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(d)){e.next=23;break}return window.location.reload(!0),e.abrupt("return");case 23:this.error({statusCode:l,message:d}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 26:case"end":return e.stop()}}),e,this,[[5,15]])})))).apply(this,arguments)}function gu(e,t){return pu.serverRendered&&t&&w(e,t),e._Ctor=e,e}function Ou(e){return E(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=gu(C(t),pu.data?pu.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function yu(e,t,n){var r=this,o=[],c=!1;if(void 0!==n&&(o=[],(n=C(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof d.default[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),d.default[e])})),!c)return A(o,t)}function ju(e,t,n){return _u.apply(this,arguments)}function _u(){return _u=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r){var o,l,d,f,v,m,h,O,y,j,k,x,C,E,R,D=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",r());case 2:return!1,t===n?(du=[],!0):du=P(n,o=[]).map((function(e,i){return $(n.matched[o[i]].path)(n.params)})),l=!1,d=function(path){n.path===path.path&&D.$loading.finish&&D.$loading.finish(),n.path!==path.path&&D.$loading.pause&&D.$loading.pause(),l||(l=!0,r(path))},e.next=8,I(su,{route:t,from:n,next:d.bind(this)});case 8:if(this._dateLastError=su.nuxt.dateErr,this._hadError=Boolean(su.nuxt.err),(v=P(t,f=[])).length){e.next=27;break}return e.next=15,yu.call(this,v,su.context);case 15:if(!l){e.next=17;break}return e.abrupt("return");case 17:return m=(it.options||it).layout,e.next=20,this.loadLayout("function"==typeof m?m.call(it,su.context):m);case 20:return h=e.sent,e.next=23,yu.call(this,v,su.context,h);case 23:if(!l){e.next=25;break}return e.abrupt("return");case 25:return su.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 27:return v.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(mu(v,t,n)),e.prev=29,e.next=32,yu.call(this,v,su.context);case 32:if(!l){e.next=34;break}return e.abrupt("return");case 34:if(!su.context._errored){e.next=36;break}return e.abrupt("return",r());case 36:return"function"==typeof(O=v[0].options.layout)&&(O=O(su.context)),e.next=40,this.loadLayout(O);case 40:return O=e.sent,e.next=43,yu.call(this,v,su.context,O);case 43:if(!l){e.next=45;break}return e.abrupt("return");case 45:if(!su.context._errored){e.next=47;break}return e.abrupt("return",r());case 47:y=!0,e.prev=48,j=cu(v),e.prev=50,j.s();case 52:if((k=j.n()).done){e.next=63;break}if("function"==typeof(x=k.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,x.options.validate(su.context);case 58:if(y=e.sent){e.next=61;break}return e.abrupt("break",63);case 61:e.next=52;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(50),j.e(e.t0);case 68:return e.prev=68,j.f(),e.finish(68);case 71:e.next=77;break;case 73:return e.prev=73,e.t1=e.catch(48),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",r());case 77:if(y){e.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 80:return e.next=82,Promise.all(v.map(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r,i){var o,c,l,d,v,m,h,O,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._path=$(t.matched[f[i]].path)(t.params),r._dataRefresh=!1,o=r._path!==du[i],D._routeChanged&&o?r._dataRefresh=!0:D._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):D._queryChanged&&(!0===(l=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(l)?r._dataRefresh=l.some((function(e){return D._diffQuery[e]})):"function"==typeof l&&(C||(C=S(t)),r._dataRefresh=l.apply(C[i],[t.query,n.query]))),D._hadError||!D._isMounted||r._dataRefresh){e.next=6;break}return e.abrupt("return");case 6:return d=[],v=r.options.asyncData&&"function"==typeof r.options.asyncData,m=Boolean(r.options.fetch)&&r.options.fetch.length,h=v&&m?30:45,v&&((O=M(r.options.asyncData,su.context)).then((function(e){w(r,e),D.$loading.increase&&D.$loading.increase(h)})),d.push(O)),D.$loading.manual=!1===r.options.loading,m&&((p=r.options.fetch(su.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){D.$loading.increase&&D.$loading.increase(h)})),d.push(p)),e.abrupt("return",Promise.all(d));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 82:l||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),r()),e.next=99;break;case 85:if(e.prev=85,e.t2=e.catch(29),"ERR_REDIRECT"!==(E=e.t2||{}).message){e.next=90;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,E));case 90:return du=[],_(E),"function"==typeof(R=(it.options||it).layout)&&(R=R(su.context)),e.next=96,this.loadLayout(R);case 96:this.error(E),this.$nuxt.$emit("routeChanged",t,n,E),r();case 99:case"end":return e.stop()}}),e,this,[[29,85],[48,73],[50,65,68,71]])}))),_u.apply(this,arguments)}function ku(e,t){E(e,(function(e,t,n,r){return"object"!==Object(o.a)(e)||e.options||((e=l.c.extend(e))._Ctor=e,n.components[r]=e),e}))}function xu(e){var t=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(t=!1);var n=t?(it.options||it).layout:e.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(su.context)),this.setLayout(n)}function wu(e){e._hadError&&e._dateLastError===e.$options.nuxt.dateErr&&e.error()}function Cu(e,t){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=S(e),o=P(e),c=!1;l.c.nextTick((function(){r.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&o[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)l.c.set(e.$data,n,t[n]);c=!0}})),c&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),wu(n)}))}}function Pu(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),lu.afterEach((function(t,n){l.c.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}function Su(){return(Su=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return su=t.app,lu=t.router,n=new l.c(su),r=pu.layout||"default",e.next=6,n.loadLayout(r);case 6:return n.setLayout(r),o=function(){n.$mount("#__nuxt"),lu.afterEach(ku),lu.afterEach(xu.bind(n)),lu.afterEach(Cu.bind(n)),l.c.nextTick((function(){Pu(n)}))},e.next=10,Promise.all(Ou(su.context.route));case 10:if(c=e.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),c.length&&(n.setTransitions(mu(c,lu.currentRoute)),du=lu.currentRoute.matched.map((function(e){return $(e.path)(lu.currentRoute.params)}))),n.$loading={},pu.error&&n.error(pu.error),lu.beforeEach(hu.bind(n)),lu.beforeEach(ju.bind(n)),!pu.serverRendered||!X(pu.routePath,n.context.route.path)){e.next=19;break}return e.abrupt("return",o());case 19:return d=function(){ku(lu.currentRoute,lu.currentRoute),xu.call(n,lu.currentRoute),wu(n),o()},e.next=22,new Promise((function(e){return setTimeout(e,0)}));case 22:ju.call(n,lu.currentRoute,lu.currentRoute,(function(path){if(path){var e=lu.afterEach((function(t,n){e(),d()}));lu.push(path,void 0,(function(e){e&&vu(e)}))}else d()}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(e){return Kc.apply(this,arguments)})(null,pu.config).then((function(e){return Su.apply(this,arguments)})).catch(vu)}],[[480,31,25,34]],[32,33,35]]);